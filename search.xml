<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æ··åˆé¡¹ç›®(js + ts)ä¸­çš„ eslint é…ç½®</title>
      <link href="/2019/11/06/%E6%B7%B7%E5%90%88%E9%A1%B9%E7%9B%AE(js%20+%20ts)%E4%B8%AD%E7%9A%84%20eslint%20%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/11/06/%E6%B7%B7%E5%90%88%E9%A1%B9%E7%9B%AE(js%20+%20ts)%E4%B8%AD%E7%9A%84%20eslint%20%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘é¡¹ç›®å¼€å§‹é€æ­¥ç”± js è¿‡æ¸¡åˆ° tsï¼Œä¹Ÿå°±é€ æˆé¡¹ç›®ä¸­åŒæ—¶å­˜åœ¨ js, jsx åŠ ts, tsx çš„æƒ…å½¢ï¼Œäºæ˜¯ä»£ç çš„æ ¼å¼æ ¡éªŒæˆä¸ºä¸€ä¸ªé—®é¢˜ã€‚<br></p><p>åœ¨ä¸€ç•ªäº†è§£åçŸ¥é“ ts æœ‰ä¸“é—¨çš„<a href="https://github.com/palantir/tslint" target="_blank" rel="noopener"> tslint</a>ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ eslint æ ¡éªŒåŸæœ¬çš„ js ä»£ç ï¼Œä½¿ç”¨ tslint æ¥æ ¡éªŒæˆ‘ä»¬æ–°å†™çš„ ts çš„ä»£ç ï¼Œä½†åæ¥å‘ç°åœ¨ 2019 å¹´ 1 æœˆä»½ï¼Œtslint é¡¹ç›®çš„åˆ›å»ºè€…å®£å¸ƒä¸å†ç»§ç»­ç»´æŠ¤ tslintï¼Œå¹¶å†³å®šä¸º eslint æ”¯æŒ typescript æ ¡éªŒè´¡çŒ®ä»–ä»¬çš„åŠ›é‡ã€‚</p><p><strong>â€œIn order to avoid bifurcating the linting tool space for TypeScript, we therefore plan to deprecate TSLint and focus our efforts instead on improving ESLintâ€™s TypeScript support.â€ - **<a href="https://medium.com/palantir/tslint-in-2019-1a144c2317a9" target="_blank" rel="noopener">TSLint in 2019</a><br></strong><br>è¿™ä¹Ÿè®¸æ˜¯ä¸ªå¥½æ¶ˆæ¯ï¼Œä¸ªäººè§‰å¾—ä¸€ä¸ªé¡¹ç›®é‡Œå¼„ä¸¤å¥— lint å·¥å…·æ˜¾å¾—æ¯”è¾ƒå†—ä½™ã€‚</p><p>äºæ˜¯æˆ‘å°±æ‰“ç®—æ›´æ”¹ä¸‹ç°æœ‰çš„ eslint é…ç½®ï¼Œä½¿å…¶å¯ä»¥æ ¡éªŒ ts çš„ä»£ç ã€‚</p><p>ä¸€æœç´¢å‘ç°ç½‘ä¸Šæœç„¶æœ‰å¾ˆå¤šäººä¹Ÿæ˜¯è¿™æ ·åšçš„ï¼Œè¿™é‡Œæ¶‰åŠåˆ° eslint çš„ override é…ç½®ï¼Œä½¿ç”¨è¿™ä¸ªé…ç½®å¯ä»¥ä½¿å¾—æˆ‘ä»¬å¯¹ ts ï¼Œ tsx æ–‡ä»¶ä½¿ç”¨å…¶ä»–çš„ parser åŠ è§„åˆ™ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ eslint ç‰ˆæœ¬æœ€å¥½æ˜¯ 6.0 ä»¥ä¸Šï¼Œå› ä¸º 6.0 ç‰ˆæœ¬ä¿®å¤äº†ä¸€äº›å…³äº override ç›¸å…³çš„ bugï¼Œ æ­¤å¤– eslint çš„ç›¸å…³ä¾èµ–ä¹Ÿæœ€å¥½è¿›è¡Œä¸‹å‡çº§ã€‚ä¸ç„¶å¯èƒ½ä¼šæŠ¥ä¸€äº›è«åå…¶å¦™çš„é”™è¯¯ã€‚</p><p>æœ€ç»ˆé…ç½®å¦‚ä¸‹:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> typescriptEslintRecommended = <span class="built_in">require</span>(<span class="string">'@typescript-eslint/eslint-plugin'</span>).configs.recommended;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  root: <span class="literal">true</span>,</span><br><span class="line">  parser: <span class="string">'babel-eslint'</span>,</span><br><span class="line">  parserOptions: &#123;</span><br><span class="line">    sourceType: <span class="string">'module'</span>,</span><br><span class="line">    ecmaFeatures: &#123;</span><br><span class="line">      jsx: <span class="literal">true</span>,</span><br><span class="line">      <span class="string">'legacyDecorators'</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  env: &#123;</span><br><span class="line">    es6: <span class="literal">true</span>,</span><br><span class="line">    commonjs: <span class="literal">true</span>,</span><br><span class="line">    browser: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  extends: [</span><br><span class="line">    <span class="string">'airbnb-base'</span>,</span><br><span class="line">  ],</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="string">'react'</span>,</span><br><span class="line">    <span class="string">'babel'</span>,</span><br><span class="line">    <span class="string">'promise'</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// check if imports actually resolve</span></span><br><span class="line">  settings: &#123;</span><br><span class="line">    <span class="string">'import/resolver'</span>: &#123;</span><br><span class="line">      <span class="string">'webpack'</span>: &#123;</span><br><span class="line">        <span class="string">'config'</span>: <span class="string">'build/webpack.base.conf.js'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// add your custom rules here</span></span><br><span class="line">  rules: &#123;</span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">  &#125;,</span><br><span class="line">  overrides: [</span><br><span class="line">    &#123;</span><br><span class="line">      files: [<span class="string">'src/**/*.ts'</span>, <span class="string">'src/**/*.tsx'</span>],</span><br><span class="line">      parser: <span class="string">'@typescript-eslint/parser'</span>,</span><br><span class="line">      parserOptions: &#123;</span><br><span class="line">        sourceType: <span class="string">'module'</span>,</span><br><span class="line">        project: <span class="string">'./tsconfig.json'</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      plugins: [ <span class="string">'@typescript-eslint'</span> ],</span><br><span class="line">      rules: <span class="built_in">Object</span>.assign(typescriptEslintRecommended.rules, &#123;</span><br><span class="line">        <span class="comment">// other customize rules</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git reset</title>
      <link href="/2019/10/25/git%20reset/"/>
      <url>/2019/10/25/git%20reset/</url>
      
        <content type="html"><![CDATA[<p>git reset â€“hard å·¥ä½œåŒºå˜å¾—å’Œ reset åˆ°çš„ç‰ˆæœ¬ä¸€è‡´ï¼ˆå›åˆ° commit å‰çš„çŠ¶æ€ï¼‰ï¼Œæ¸…é™¤ç´¢å¼•åŒºçš„æ‰€æœ‰å†…å®¹ï¼Œæœªè·Ÿè¸ªçš„ï¼ˆæœª git add çš„ï¼‰æ–‡ä»¶ä¸å—å½±å“</p><p>git reset â€“soft å°† reset åˆ°çš„ç‰ˆæœ¬ä¹‹åçš„å†…å®¹æ”¾åˆ°å½“å‰ç‰ˆæœ¬çš„æš‚å­˜åŒº(å›åˆ° git add åçš„çŠ¶æ€)</p><p>git reset (â€“mixed)  å°† reset åˆ°çš„ç‰ˆæœ¬ä¹‹åçš„å†…å®¹æ”¾åˆ°å½“å‰ç‰ˆæœ¬çš„å·¥ä½œåŒºçš„å·²å˜æ›´å†…å®¹ä¸­(å›åˆ° git add å‰çš„çŠ¶æ€)</p>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React.lazy é¡µé¢æ‡’åŠ è½½</title>
      <link href="/2019/10/22/React.lazy%20%E9%A1%B5%E9%9D%A2%E6%87%92%E5%8A%A0%E8%BD%BD/"/>
      <url>/2019/10/22/React.lazy%20%E9%A1%B5%E9%9D%A2%E6%87%92%E5%8A%A0%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘é¡¹ç›®é‡æ„ï¼Œå¼•å…¥äº† ts å’Œå…¬å¸çš„å¦ä¸€ä¸ªç»„ä»¶åº“ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ¥åˆ°äº† mentor åˆ†ä¸‹æ¥çš„æ–°ä»»åŠ¡â€”â€”å°†é¡¹ç›®è¿›è¡Œ code splitting å¹¶ä¸”åšè·¯ç”±çº§åˆ«çš„æ‡’åŠ è½½ã€‚</p><p>æ¥åˆ°è¿™ä¸ªä»»åŠ¡æˆ‘æ˜¯å¾ˆæ¬£å–œçš„ï¼Œå› ä¸ºä¹‹å‰åªæ˜¯çŸ¥é“æ‡’åŠ è½½è¿™ä¸ªæ¦‚å¿µï¼Œæ²¡çœŸæªå®å¼¹çš„æè¿‡ï¼Œè¿™æ¬¡æ­£å¥½å€Ÿè¿™ä¸ªæœºä¼šå¤šå­¦ç‚¹æ–°çŸ¥è¯†ã€‚</p><p>éšç€é¡¹ç›®è¶Šåšè¶Šå¤æ‚ï¼Œé¡µé¢è¶Šæ¥è¶Šå¤šï¼Œä¸€æ¬¡æ€§åŠ è½½ js æ–‡ä»¶æ„Ÿè§‰é€Ÿåº¦æ…¢äº†å¾ˆå¤šï¼Œè·¯ç”±çº§åˆ«çš„æ‡’åŠ è½½å³å½“åˆ‡æ¢ä¸€ä¸ªè·¯ç”±æ—¶ï¼Œå†è¿›è¡ŒåŠ¨æ€åŠ è½½å½“å‰è·¯ç”±æ‰€éœ€çš„ js å’Œ css æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯æŒ‰éœ€åŠ è½½ã€‚</p><p>é¦–å…ˆæˆ‘åšçš„æ˜¯è¯»å„ç§ç›¸å…³æ–‡æ¡£ï¼ŒåŒ…æ‹¬ React æ–‡æ¡£ã€webpackç›¸å…³æ–‡æ¡£ã€ä»¥åŠä¸€äº›æŠ€æœ¯åšæ–‡, ä¹Ÿæ‰¾åˆ°äº†å‡ ç¯‡ä¸é”™çš„æ–‡ç« ï¼š</p><ol><li><a href="https://linguinecode.com/post/code-splitting-react-router-with-react-lazy-and-react-suspense" target="_blank" rel="noopener">Code splitting React router with React Lazy and React Suspense</a></li><li><a href="https://medium.com/hackernoon/the-100-correct-way-to-split-your-chunks-with-webpack-f8a9df5b7758" target="_blank" rel="noopener">The 100% correct way to split your chunks with Webpack</a></li><li>â€¦â€¦</li></ol><p>é€šè¿‡æ–‡å­—èµ„æ–™æˆ‘äº†è§£åˆ°åšæ‡’åŠ è½½çš„ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ react-loadableï¼Œè€Œä¸”è¿˜æ”¯æŒæœåŠ¡çš„æ¸²æŸ“ï¼›å¦ä¸€ç§æ˜¯ä½¿ç”¨React çš„æ–¹æ³• React.lazy å’Œ React.suspenseï¼Œç¼ºç‚¹æ˜¯ä¸æ”¯æŒæœåŠ¡çš„æ¸²æŸ“ã€‚æ­£å¥½é¡¹ç›®ç›®å‰çš„ react ç‰ˆæœ¬æ˜¯ 16.8.6ï¼Œå·²ç»æ”¯æŒäº† React.lazy(16.6.0 å¼€å§‹æ”¯æŒ)ï¼Œäºæ˜¯å†³å®šç›´æ¥ä½¿ç”¨ React å·²ç»å®ç°çš„æ–¹æ³•ã€‚æ–‡æ¡£ä¸­ä¹Ÿæœ‰å¯¹ React.lazy ç»“åˆ react-router è¿›è¡Œé¡µé¢æ‡’åŠ è½½çš„ç¤ºä¾‹ï¼Œä¸è¿‡åŸºæœ¬éƒ½æ˜¯ç»“åˆçš„ react-router V4ã€‚æˆ‘ä»¬é¡¹ç›®ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯ 3.0.2ã€‚</p><p>æ—¢ç„¶äººå®¶éƒ½ç”¨çš„ v4 å¹²è„†å€Ÿè¿™ä¸ªæœºä¼šï¼Œä¹ŸæŠŠæˆ‘ä»¬é¡¹ç›®çš„ router å‡çº§äº†å§ã€‚ä½†æ˜¯ v3 åˆ° v4 å˜åŒ–å·¨å¤§ï¼Œå‡çº§å°‘ä¸äº†ä¸€ç•ªæŒ£æ‰ï¼Œæ¯”å¦‚è·¯ç”±çš„ä½¿ç”¨æ–¹å¼ä¸åŒï¼Œä¸æ˜¯é‚£ç§åµŒå¥—å±‚çº§çš„äº†ï¼Œè¿˜æœ‰å°±æ˜¯ browserHistory.push() ä¹Ÿæ²¡æ³•ç”¨äº†ï¼Œéœ€è¦ä½¿ç”¨ withRouterï¼Œæˆ–è€…è‡ªå·±æ‰‹åŠ¨å®ç° browserHistoryï¼Œå¹¶ä¸”ç‰µæ‰¯åˆ°çš„æ–‡ä»¶æ•°é‡æ¯”è¾ƒå¤šã€‚æœ€ç»ˆè¿˜æ˜¯æ‰“ç®—å…ˆç”¨ V3 è¯•è¯•ï¼Œå®åœ¨ä¸è¡Œå†å‡çº§ react-router ç‰ˆæœ¬ã€‚</p><p>åœ¨ codesanbox ä¸Šï¼Œæˆ‘æ‰¾åˆ°äº†ä¸‹é¢è¿™ä¸ªä¾‹å­<br><a href="https://codesandbox.io/s/18rnr5p97q" target="_blank" rel="noopener">https://codesandbox.io/s/18rnr5p97q</a><br>äºæ˜¯æˆ‘åœ¨è¿™ä¸ªä¾‹å­çš„åŸºç¡€ä¸Šå°†è·¯ç”±æ”¹ä¸º 3.0.2ï¼Œæ”¹å®Œåï¼Œæ€»æ˜¯æŠ¥é”™ï¼Œç¨‹åºæ— æ³•æ­£å¸¸è¿è¡Œï¼Œè°ƒè¯•åŠå¤©ä¸çŸ¥é“å…·ä½“ä»€ä¹ˆåŸå› ï¼Œäºæ˜¯å»çœ‹äº†ä¸‹ react-router router å’Œ route ç›¸å…³çš„éƒ¨åˆ†ä»£ç ï¼Œè¿˜æ˜¯ä¹ˆæ‰¾åˆ°æˆ‘ç¨‹åºä¸ºå•¥æ²¡æ³•è¿è¡Œçš„åŸå› ï¼Œåæ¥è°ƒèŠ‚äº†ä¸‹ react-router ä¾èµ–çš„ç‰ˆæœ¬ï¼Œå½“æˆ‘è°ƒèŠ‚åˆ° 3.2.2 æ—¶ï¼Œå‘ç°æŠ¥é”™æ¶ˆå¤±äº†ï¼Œç¨‹åºæ­£å¸¸è¿è¡Œï¼Œæœ€ç»ˆæˆ‘è°ƒåˆ°äº† 3.2.4 ç‰ˆæœ¬ã€‚</p><p>æ—¢ç„¶ä¾‹å­è¡Œçš„é€šï¼Œæˆ‘å°±è¿«ä¸åŠå¾…çš„å¼€å§‹åœ¨æœ¬åœ°é¡¹ç›®é‡Œç èµ·æ¥äº†ï¼Œè·¯ç”±æ–‡ä»¶æˆ‘ä»¬æ˜¯ä½¿ç”¨ json é…ç½®æ–‡ä»¶çš„å½¢å¼é…ç½®çš„è·¯ç”±ï¼Œæˆ‘å…ˆæŠŠå‡ ä¸ªç®€å•çš„é¡µé¢çš„è·¯ç”±æ”¹ä¸ºäº†ä½¿ç”¨ React.lazy åŠ¨æ€åŠ è½½ï¼Œç„¶åè¿›è¡Œäº†é¡µé¢æµ‹è¯•ï¼ŒæŸ¥çœ‹é¡µé¢è¯·æ±‚ç¡®å®æ˜¯åˆ‡æ¢è·¯ç”±åˆ°æ–°é¡µé¢çš„æ—¶å€™åŠ è½½ å‡  B æˆ–è€… å‡  KB çš„ js æ–‡ä»¶, å¥½ä½¿ï¼</p><p>äºæ˜¯æˆ‘å¤§æ”¹ä¸€é€šï¼ŒæŠŠå¯¹åº”è·¯ç”±çš„ç»„ä»¶å¼•å…¥æ–¹å¼éƒ½æ”¹ä¸ºäº† lazy(() =&gt; import(xxx))ï¼Œå¹¶å°†è·¯ç”±ç»„ä»¶ä½¿ç”¨ Suspense åŒ…è£¹èµ·æ¥ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1571753553110-09dc14e2-97d9-45a2-adbe-e7d2b1d811b2.png#align=left&display=inline&height=914&name=suspense.png&originHeight=914&originWidth=1414&search=&size=262268&status=done&width=1414" alt="suspense.png"><br></p><p>å†æ¬¡è¿›è¡Œæµ‹è¯•æ—¶å‘ç°é¡¹ç›®é¡¶éƒ¨çš„ topbar(å¯¼èˆªæ )æ¯æ¬¡åˆ‡æ¢åˆ°ä¸€ä¸ªæœªåŠ è½½è¿‡çš„è·¯ç”±éƒ½ä¼šæ¶ˆå¤±å†é‡ç°ï¼Œè‚¯å®šæ˜¯åŠ¨æ€åŠ è½½çš„åŸå› ï¼Œäºæ˜¯æƒ³åˆ° Suspense çš„ fallback UI, æˆ‘å°† topBar æ”¾åˆ°äº† fallback UI ä¸Šï¼Œè¿™æ ·åˆ‡æ¢è·¯ç”±åˆ°æ–°é¡µé¢æ—¶å°±ä¸ä¼šå‡ºç°é¡¶éƒ¨å¯¼èˆªæ æ¶ˆå¤±é‡ç°çš„é—®é¢˜äº†ã€‚</p><p>ä½†æ˜¯éƒ¨åˆ†è·¯ç”±åˆ‡æ¢æ—¶å‡ºç°äº†é¡µé¢æŠ¥é”™ï¼ŒæŸ¥çœ‹æŠ¥é”™ä¿¡æ¯æ˜¯ Unable to find node on an unmounted componentï¼Œè°·æ­Œç›¸å…³ä¿¡æ¯æœ€ç»ˆå¾—çŸ¥æ˜¯ React çš„ bug, äº 16.9.0 ä¿®å¤ã€‚å‡çº§ react ç‰ˆæœ¬åé¡µé¢æ­£å¸¸äº†ã€‚åœ¨ dev ç¯å¢ƒæµ‹è¯•æ€»è§ˆé¡µé¢çš„åŠ è½½é€Ÿåº¦ï¼Œç›¸æ¯”ä¹‹å‰å¿«äº†å¤§çº¦ 2 - 3 ç§’ã€‚</p><p>åŸæ¥åŠ è½½æ—¶é—´<br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1571754079426-92ed9a0b-2375-4ff7-a6f7-e1903fc75256.png#align=left&display=inline&height=574&name=dev.png&originHeight=574&originWidth=2558&search=&size=264925&status=done&width=2558" alt="dev.png"><br></p><p>æ‡’åŠ è½½æ—¶é—´<br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1571754079658-bccf72c0-1d81-440d-ba7e-4ecf9bc696b2.png#align=left&display=inline&height=574&name=lazy-dev.png&originHeight=574&originWidth=2558&search=&size=252543&status=done&width=2558" alt="lazy-dev.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°ç»„æ‰å¹³åŒ–</title>
      <link href="/2019/09/27/%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96/"/>
      <url>/2019/09/27/%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [ [<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>], [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, [<span class="number">11</span>, <span class="number">12</span>, [<span class="number">12</span>, <span class="number">13</span>, [<span class="number">14</span>] ] ] ], <span class="number">10</span>];</span><br></pre></td></tr></table></figure><p>æœ‰è¿™ä¹ˆä¸€ä¸ªæ•°ç»„ï¼Œè¦å¯¹è¯¥æ•°ç»„è¿›è¡Œæ‰å¹³åŒ–æ“ä½œï¼Œè‡ªå·±æ€»ç»“äº†ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š<br></p><ol><li>æ•°ç»„çš„åŸç”Ÿæ–¹æ³•</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.flat(Inifity); <span class="comment">// Inifity å¯ä»¥æ‰å¹³åŒ–ä»»æ„åµŒå¥—å±‚æ•°çš„æ•°ç»„</span></span><br></pre></td></tr></table></figure><p>è¯¥æ–¹æ³•è™½ç„¶éå¸¸ç®€æ´ï¼Œä½†æ˜¯æµè§ˆå™¨å…¼å®¹æ€§å¾ˆå·®ã€‚</p><ol start="2"><li>é€’å½’</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flat</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> flattenArr = [];</span><br><span class="line">  arr.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(item)) &#123;</span><br><span class="line">      flattenArr = flattenArr.concat(flat(item))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      flattenArr.push(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> flattenArr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>éé€’å½’</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flat</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line"><span class="keyword">const</span> flattenArr = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>;i&lt;arr.length;i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> stack = [];</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(arr[i])) &#123;</span><br><span class="line">stack.push(arr[i]);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    flattenArr.push(arr[i]);</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">while</span>(stack.length) &#123;</span><br><span class="line"><span class="keyword">const</span> newArr = stack.pop();</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>;i&lt;newArr.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(newArr[i])) &#123;</span><br><span class="line">          stack.push(newArr[i]);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          flattenArr.push(newArr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="keyword">return</span> flattenArr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>æ“¦è¾¹çƒæ–¹æ³•</li></ol><p>å› ä¸ºæ•°ç»„ä¸­çš„å…ƒç´ æ¯”è¾ƒç‰¹æ®Šï¼Œéƒ½æ˜¯ Number ç±»å‹, æ‰€ä»¥å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr.join(<span class="string">','</span>).split(<span class="string">','</span>).map(<span class="built_in">Number</span>);</span><br><span class="line">arr.toString().split(<span class="string">','</span>).map(<span class="built_in">Number</span>);</span><br></pre></td></tr></table></figure><p>å¦‚æœéƒ½æ˜¯ Boolean ç±»å‹ï¼Œå¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [ <span class="literal">true</span>, [<span class="literal">false</span>, <span class="literal">true</span>, [<span class="literal">false</span>, <span class="literal">true</span>] ] ];</span><br></pre></td></tr></table></figure><p>åˆ™å¯ä»¥æ‰å¹³åŒ–å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr.join(<span class="string">','</span>).split(<span class="string">','</span>).map(<span class="built_in">JSON</span>.parse);</span><br><span class="line">arr.toString().split(<span class="string">','</span>).map(<span class="built_in">JSON</span>.parse);</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šä¸é€‚ç”¨äºå¯¹è±¡ç­‰å¤æ‚ç±»å‹çš„å¯¹è±¡<br><br><br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1569557887664-2100f97e-cd0c-422b-9ce2-dc7cee7ead78.png#align=left&display=inline&height=19&name=image.png&originHeight=38&originWidth=612&search=&size=8380&status=done&width=306" alt="image.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>handleSubmit Or handleSubmitï¼Ÿ</title>
      <link href="/2019/09/23/handleSubmit%20Or%20handleSubmit%EF%BC%9F/"/>
      <url>/2019/09/23/handleSubmit%20Or%20handleSubmit%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ä¿®æ”¹bugæ—¶ï¼Œæ— æ„é—´çœ‹åˆ°å‰åŒäº‹å†™çš„è¿™ä¹ˆä¸€æ®µä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ComponentA</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">this</span>.handleSubmit = resourcePersimission(<span class="keyword">this</span>.handleSubmit);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  @autobind</span><br><span class="line">  handleSubmit(permisionModel, model) &#123;</span><br><span class="line">...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Form</span><br><span class="line">      onSubmit=&#123;(model) =&gt; <span class="keyword">this</span>.handleFormSubmit(permissionModel, model)&#125;</span><br><span class="line">    ...</span><br><span class="line">/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æƒé™æ ¡éªŒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resourcePersimission</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">permisionModel, model</span>) </span>&#123;</span><br><span class="line">    ....</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œè°ƒç”¨äº†ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå°† handleSubmit æ–¹æ³•ä¼ å…¥å…¶ä¸­ï¼Œå¹¶å°†è¿”å›çš„å‡½æ•°èµ‹å€¼ç»™this.handleSubmitï¼Œç„¶åè¿™æ®µä»£ç æˆ‘çš„å›°æƒ‘å°±æ¥äº†ï¼Œè¡¨å•æäº¤çš„æ—¶å€™ï¼Œåˆ°åº•æ˜¯è°ƒç”¨çš„å“ªä¸ªæ–¹æ³•å‘¢ï¼Ÿæ˜¯ç±»ä¸­å®šä¹‰çš„ï¼Œè¿˜æ˜¯é«˜é˜¶å‡½æ•°è¿”å›çš„ï¼Ÿ<br>å›°æƒ‘ä¹‹ä½™æˆ‘å†æ¬¡å»äº†è§£äº†ä¸‹ class è¿™ä¸ªè¯­æ³•ç³–ï¼Œæ‰¾åˆ°äº†è¿™ä¹ˆä¸€å¥æœ‰ç”¨çš„å†…å®¹ ç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½å®šä¹‰åœ¨ç±»çš„ <code>prototype</code> ä¸Šé¢ã€‚<br>äºæ˜¯è¿›è¡Œè¯•éªŒä¸€ç•ªï¼Œæœç„¶æ˜¯è¿™æ ·ã€‚<br>ç„¶åæˆ‘åˆ°babelå®˜ç½‘å°†æµ‹è¯•ä»£ç è½¬è¯‘äº†ä¸‹ï¼Œæ›´åŠ è‚¯å®šäº†ç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½å®šä¹‰åœ¨ç±»çš„ <code>prototype</code> ä¸Šé¢çš„æ­£ç¡®æ€§ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1569228036349-b426e038-cf3b-4ec4-89a7-a638c74b9639.png#align=left&display=inline&height=428&name=image.png&originHeight=856&originWidth=2549&size=189866&status=done&width=1274.5" alt="image.png"></p><p>æ‰€ä»¥ï¼Œç­”æ¡ˆå¾ˆæ˜æ˜¾æ˜¯ä¼šè°ƒç”¨æ„é€ å‡½æ•°ä¸­çš„ handleFormSubmit æ–¹æ³•ã€‚å½“ç„¶ä¸ºäº†æé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œè®¤ä¸ºæœ€å¥½è¿˜æ˜¯åˆ«ç”¨ä¸€æ ·çš„æ–¹æ³•åæ›´å¥½ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è®°ç¬¬ä¸€æ¬¡ PR ç»å†</title>
      <link href="/2019/09/18/%E8%AE%B0%E7%AC%AC%E4%B8%80%E6%AC%A1%20PR%20%E7%BB%8F%E5%8E%86/"/>
      <url>/2019/09/18/%E8%AE%B0%E7%AC%AC%E4%B8%80%E6%AC%A1%20PR%20%E7%BB%8F%E5%8E%86/</url>
      
        <content type="html"><![CDATA[<p>åœ¨æˆ‘å½“å‰çš„é¡¹ç›®ä¸­ï¼Œæ˜¯å°†ä»£ç æ‰˜ç®¡åˆ° gitlab, æ¯æ¬¡æ”¹åŠ¨æˆ–è€…æ–°åŠŸèƒ½éƒ½æ˜¯æ MRï¼Œç„¶åæƒ³å°è¯•ä¸‹æäº¤ PR çš„è¿‡ç¨‹ï¼Œæ­£å¥½é¡¹ç›®åŠŸèƒ½è°ƒç ”çš„æ—¶å€™çœ‹åˆ°ä¸€å›¾ç‰‡åˆæˆåº“ï¼Œç„¶åçœ‹äº†ä¸‹æºç å‘ç°ä»£ç ä¸­çš„ä¸€ç‚¹é—®é¢˜ï¼Œäºæ˜¯å°±å‡†å¤‡æäº¤ä¸ª PRï¼Œä¸€æ¥èµ°ä¸‹æ•´ä¸ªæµç¨‹ï¼ŒäºŒæ¥ç»™ä»£ç äº›å°å°ä¼˜åŒ–ã€‚<br>äºæ˜¯ä¸€ä¸ªPRå°±åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ç”Ÿæˆäº†ï¼ŒæŸå¤©æˆ‘çªç„¶æƒ³èµ·è¿™ä¸ªPRï¼Œå°±æ‰“å¼€äººå®¶é¡¹ç›®çœ‹äº†ä¸‹ï¼Œå‘ç°ç«Ÿç„¶è¢«åˆè¿›å»äº†ï¼Œå½“æ—¶æ„Ÿåˆ°å¾ˆå¼€å¿ƒã€‚ç„¶åèµ¶ç´§å»çœ‹äº†ä¸‹è´¡çŒ®è€…ï¼Œå‘ç°å¹¶æ²¡æœ‰è‡ªå·±ã€‚è«åå…¶å¦™ä¹‹ä½™æˆ‘å¼€å§‹å¯»æ‰¾åŸå› ã€‚<br>æœ€åçœ‹äº†ä¸‹è‡ªå·±çš„gitçš„å…¨å±€ç”¨æˆ·å’Œé‚®ç®±é…ç½®ï¼Œå‘ç°åŸæ¥é…ç½®çš„æ˜¯å…¬å¸ gitlab çš„ç”¨æˆ·åå¯†ç ï¼Œæˆ‘æäº¤çš„ PR æ˜¯æäº¤åˆ° github çš„ï¼Œæ‰€ä»¥ github é€šè¿‡è¿™ä¸ªç”¨æˆ·åé‚®ç®±æ²¡æ‰¾åˆ°æˆ‘ï¼Œä¹Ÿå°±æ²¡ç®—è¿›è´¡çŒ®è€…ï¼Œä¹Ÿæ²¡å¢åŠ æˆ‘çš„è´¡çŒ®ç‚¹ï¼Œemmm, å¯æ€œğŸ¤•ã€‚github æ²¡é€šè¿‡æˆ‘çš„ç”¨æˆ·åé‚®ç®±éªŒè¯èƒ½ä¸èƒ½æäº¤ä»£ç ï¼Œè€Œæ˜¯éªŒè¯çš„ ssh keyã€‚<br>æ‰€ä»¥ä¹‹åæäº¤ä»£ç éœ€è¦é…ç½®ä¸‹é¡¹ç›®çš„ç”¨æˆ·åé‚®ç®±ï¼Œæˆ–è€…ä¸´æ—¶ä¿®æ”¹å…¨å±€çš„ï¼Œç¡®è®¤æ­£ç¡®åå†æäº¤ã€‚<br>ps: æ­£ç¡®çš„ç”¨æˆ·åä¼šæœ‰åŠ é»‘çš„æ•ˆæœï¼Œä¸”æ˜¯é“¾æ¥ï¼Œé”™è¯¯çš„ä¼šæ²¡æœ‰åŠ é»‘æ•ˆæœï¼Œè€Œä¸”æ˜¯çº¯æ–‡æœ¬ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>csséšè—æ•ˆæœåŒºåˆ«</title>
      <link href="/2019/09/18/css%E9%9A%90%E8%97%8F%E6%95%88%E6%9E%9C%E5%8C%BA%E5%88%AB/"/>
      <url>/2019/09/18/css%E9%9A%90%E8%97%8F%E6%95%88%E6%9E%9C%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨ css å®ç°éšè—æ•ˆæœä¸»è¦æ˜¯ç”¨åˆ°ä¸€ä¸‹æ–¹æ³•ï¼š</p><ol><li>display: none</li><li>visibility: hidden</li><li>opacity: 0</li></ol><p>è™½ç„¶ä¸‰è€…éƒ½èƒ½å®ç°å…ƒç´ çš„éšè—ï¼Œä½†æ˜¯å­˜åœ¨ç€äº›è®¸çš„åŒºåˆ«</p><table><thead><tr><th>éšè—æ–¹å¼</th><th>æ˜¯å¦å ä½</th><th>ç»‘å®šåˆ°éšè—å…ƒç´ ä¸Šçš„äº‹ä»¶æ˜¯å¦ç”Ÿæ•ˆ</th></tr></thead><tbody><tr><td>display: none</td><td>å¦</td><td>å¦</td></tr><tr><td>visibility: hidden</td><td>æ˜¯</td><td>å¦</td></tr><tr><td>opacity: 0</td><td>æ˜¯</td><td>æ˜¯</td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤§å±</title>
      <link href="/2019/09/06/%E5%A4%A7%E5%B1%8F/"/>
      <url>/2019/09/06/%E5%A4%A7%E5%B1%8F/</url>
      
        <content type="html"><![CDATA[<p>é¡µé¢</p><ul><li><a href="https://app.goabstract.com/projects/645d0030-0c9f-11e8-b85a-fd65d13c8daa/branches/590a9cd0-88c6-11e8-a4c1-09a47205af98/commits/c6f7c5e15f74be4e887666c2619074b07711801a/files/B61A95A2-0EBB-4E5F-B64E-BE690D19BF76/layers/72CD74DF-2746-494C-B3D4-1F56CA147090?mode=build" target="_blank" rel="noopener">è®¾è®¡å›¾</a></li><li><a href="http://139.198.12.234" target="_blank" rel="noopener">CMP</a></li></ul><p><a name="32ae35ec"></a></p><h4 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>åˆ†ä¸ºå·¦ã€ä¸­ã€å³ä¸‰å—</li><li>å¯»æ‰¾å¸ƒå±€ç›¸ä¼¼ç‚¹</li><li>å®ç°ç•Œé¢</li><li>è‡ªåŠ¨å…¨å±</li></ol><p>ä¸€ã€1. åˆ†åˆ—ã€åˆ†è¡Œ</p><ol><li>åˆ†åˆ—æ–¹æ³•</li></ol><ul><li>grid</li><li>flex</li><li>multiple columns</li></ul><ol start="2"><li>åˆ—é—´è·</li></ol><ul><li>grid-gap</li><li>margin<br><br>éœ€è¦å»é™¤ä¸¤å¤´çš„marginï¼Œæˆ–è€…é€šè¿‡cssé€‰æ‹©å™¨ä¸ç»™ä¸¤å¤´å…ƒç´ æ·»åŠ marginã€‚<br><br>æ³¨ï¼šflexå¸ƒå±€ä¸å­˜åœ¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing" target="_blank" rel="noopener">margin collapse</a></li><li>column-gap</li></ul><ol start="3"><li>å—å¯¹é½</li></ol><ul><li>flex</li><li>calc<br><br><a href="http://jsbin.com/rakoniv/edit?html,css,output" target="_blank" rel="noopener">å·¦å³é«˜åº¦ä¸€è‡´</a></li></ul><p>äºŒã€calcä¸scssè®¡ç®—</p><p><a href="https://segmentfault.com/a/1190000004698546" target="_blank" rel="noopener">calcä¸scssè®¡ç®—</a></p><p><a name="7289638e"></a></p><h6 id="scss"><a href="#scss" class="headerlink" title="scss:"></a>scss:</h6><ul><li>åŠ å‡<br><br>ç»å¯¹å•ä½ï¼špx, pt, pc, in, mm, cmâ€¦ç»å¯¹å•ä½éƒ½èƒ½è¿ç®—ï¼›<br><br>ç›¸å¯¹å•ä½ï¼šex, em, remâ€¦ç›¸å¯¹å½“å‰å­—ä½“çš„éƒ½ä¸èƒ½è¿ç®—ï¼›</li></ul><p>âŒ ğŸŒ°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$plus1: 100px + 20ex; //ä¸èƒ½æ¢ç®—çš„ç¼–è¯‘éƒ½ä¼šæŠ¥é”™;</span><br><span class="line">$plus2: 100px + 20em;</span><br><span class="line">$plus3: 100px + 20rem;</span><br><span class="line">.plus&#123;</span><br><span class="line">    width: $plus1 + 10px; //åœ¨å˜é‡æˆ–å±æ€§ä¸­å‡å¯åšåŠ å‡æ³•è¿ç®—;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŠ¥é”™ï¼š <code>Incompatible units: &#39;ex&#39; and &#39;px&#39;.</code></p><p>âœ”ï¸ ğŸŒ°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$minus1: 100px - 20; //ç¬¬äºŒä¸ªå€¼å¯ä¸å¸¦å•ä½ï¼›</span><br><span class="line">$minus2: 100pt - 20px; //è¿ç®—æ˜¯ä»å·¦åˆ°å³ï¼Œå¦‚ç¬¬äºŒä¸ªå€¼çš„å•ä½ä¸åŒäºç¬¬ä¸€ä¸ªå€¼çš„å•ä½(pt)ï¼Œ</span><br><span class="line">$minus3: 100px + 20cm; //å°†ä¼šå¯¹å…¶è¿›è¡Œè½¬æ¢(pt)åå†è¿ç®—ï¼›ç¼–è¯‘å‡ºæ¥çš„å€¼çš„å•ä½ä¹Ÿæ˜¯(pt);</span><br><span class="line">$minus4: 100rem; //å¯ä»¥æ­£å¸¸ç¼–è¯‘è¾“å‡º;</span><br><span class="line">$minus5: 100rem + 10em; //æŠ¥é”™;--Incompatibleï¼ˆä¸ç›¸å®¹ï¼‰ units: &apos;em&apos; and &apos;rem&apos;.);</span><br><span class="line">.minus&#123;</span><br><span class="line">    width: $minus1;</span><br><span class="line">    height: $minus1 + 30; //åœ¨å±æ€§è¿˜å¯ä»¥ç»§ç»­åšè¿ç®—ï¼›</span><br><span class="line">    min-width: $minus2;</span><br><span class="line">    min-height: $minus3;</span><br><span class="line">    max-width: $minus4;</span><br><span class="line">    max-height: $minus1 + $minus2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¹˜<br><br>ç›¸ä¹˜çš„å˜é‡æˆ–è€…æ•°å­—åªèƒ½ä¸€ä¸ªå¸¦å•ä½ã€‚ä¸å…è®¸ä¸åŒå•ä½ç›¸ä¹˜ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">  width: 10px * 20px; //error:  isn&apos;t a valid CSS value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é™¤</li></ul><p>cssä¸­å…è®¸ä½¿ç”¨<code>/</code>åˆ†éš”æ•°å€¼ï¼Œæ‰€ä»¥ä»…æœ‰<code>/</code>åˆ†éš”æ²¡æœ‰è¿ç®—æ—¶ï¼Œä¸ä¼šå½“ä½œé™¤æ³•è¿ç®—ï¼Œä¼šåŸæ ·è¾“å‡ºã€‚</p><p>å‚è€ƒï¼š<a href="https://www.w3.org/TR/CSS2/fonts.html#font-shorthand" target="_blank" rel="noopener">font â€˜/â€˜</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">  font: 20px / 2px; //åŸæ ·è¾“å‡ºåˆ°css</span><br><span class="line">  font: (20px / 2px); // 10px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a name="calc"></a></p><h6 id="calc"><a href="#calc" class="headerlink" title="calc"></a>calc</h6><p><a name="ebce1234"></a></p><h5 id="å°½æƒ…è®¡ç®—"><a href="#å°½æƒ…è®¡ç®—" class="headerlink" title="å°½æƒ…è®¡ç®—"></a>å°½æƒ…è®¡ç®—</h5><p>ä¸‰ã€ è‡ªåŠ¨å…¨å±</p><ol><li>ç†æƒ³å®ç°æ•ˆæœ<br><br>ç‚¹å‡»æ€»è§ˆé¡µæŒ‰é’®ï¼Œæ–°å¼€tabï¼Œè¿›å…¥æ€»è§ˆé¡µå¹¶è‡ªåŠ¨å…¨å±å±•ç¤º</li><li>ç°å®æ•ˆæœ</li><li>å…¨å±api</li></ol><ul><li>requestFullScreen()</li><li>exitFullscreen()</li><li>fullScreenChange()<br><br>æœ€åˆæƒ³æ³•ï¼š ç›‘å¬<code>ESC</code>æŒ‰é”®, åœ¨å›è°ƒå‡½æ•°é‡Œæ‰§è¡Œè·³è½¬æ“ä½œã€‚<br><br>æœ€ç»ˆå®ç°ï¼šåœ¨å¤§å±ç»„ä»¶å†…ç›‘å¬<code>fullScreenChange</code>äº‹ä»¶ï¼Œå¹¶åœ¨<code>unmount</code>å‘¨æœŸç§»é™¤, <code>fullScreenChange</code>æ—¶åˆ¤æ–­æ˜¯å¦åœ¨å…¨å±æ¨¡å¼ï¼Œå…¨å±å°±<code>browserHistory.push</code>åˆ°æ€»è§ˆé¡µ</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>jså®šæ—¶å™¨</title>
      <link href="/2019/08/20/js%E5%AE%9A%E6%97%B6%E5%99%A8/"/>
      <url>/2019/08/20/js%E5%AE%9A%E6%97%B6%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<p>è¯´èµ· js ä¸­çš„å®šæ—¶å™¨ï¼Œæˆ‘ä»¬è‡ªç„¶è€Œç„¶çš„ä¼šæƒ³åˆ° setTimeout å’Œ setInterval è¿™å¯¹å­ªç”Ÿå…„å¼Ÿï¼Œä½†ä»è¯­ä¹‰ä¸Šå¯èƒ½è¯¯è®¤ä¸º setTimeout å’Œ setInterval çš„åŠŸèƒ½æ˜¯åˆ†ç¦»çš„ï¼Œä»–ä»¬åˆè‡ªå·±å„è‡ªçš„ä½¿ç”¨åœºæ™¯ï¼Œä¸€ä¸ªæ˜¯è¡¨ç¤ºå¤šé•¿æ—¶é—´ä¹‹åæ‰§è¡Œå¤„ç†å‡½æ•°ï¼Œå¦ä¸€ä¸ªæ˜¯æŒ‡æ¯éš”å¤šé•¿æ—¶é—´æ‰§è¡Œä¸€æ¬¡å¤„ç†å‡½æ•°ï¼Œé¦–å…ˆè¯´æ˜ï¼Œè¿™ç§ç†è§£æ˜¯é”™è¯¯çš„ã€‚ä¸‹é¢æˆ‘ä»¬æ·±å…¥ç†è§£ä¸‹è¿™ä¸¤ä¸ªå‡½æ•°ã€‚</p><p><a name="zTfxp"></a></p><h4 id="1-ç†è§£å®šæ—¶å™¨çš„æ‰§è¡Œæœºåˆ¶"><a href="#1-ç†è§£å®šæ—¶å™¨çš„æ‰§è¡Œæœºåˆ¶" class="headerlink" title="1.ç†è§£å®šæ—¶å™¨çš„æ‰§è¡Œæœºåˆ¶"></a>1.ç†è§£å®šæ—¶å™¨çš„æ‰§è¡Œæœºåˆ¶</h4><p>setTimeout(fn, ms) åŠ setInterval(fn, ms) ä»£è¡¨çš„å«ä¹‰å¹¶ä¸æ˜¯ ms æ¯«ç§’ä¹‹åæ‰§è¡Œå¤„ç†å‡½æ•° fn, è€Œæ˜¯åœ¨ ms æ¯«ç§’åå¤„ç†å‡½æ•° fn è¢«åŠ å…¥ js çš„æ‰§è¡Œé˜Ÿåˆ—å»æ’é˜Ÿç­‰å¾…æ‰§è¡Œã€‚æ‰€ä»¥ï¼ŒæŒ‡å®š ms ä¸º 1000ï¼Œå¹¶ä¸ä»£è¡¨å¤„ç†å‡½æ•°çœŸçš„ä¼šåœ¨ 1000ms åæ‰§è¡Œï¼Œå…¶æ‰§è¡Œçš„æ—¶æœºå–å†³äºå½“å‰æ‰§è¡Œé˜Ÿåˆ—ä¸­æ‰€æœ‰åœ¨å®ƒä¹‹å‰çš„ç­‰å¾…å¤„ç†çš„å¤„ç†å‡½æ•°åŠå½“å‰æ­£åœ¨å¤„ç†çš„å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ä¹‹å’Œã€‚<br>åœ¨ä½¿ç”¨å®šæ—¶å™¨æ—¶ï¼Œç»å¤§å¤šæ•°äººéƒ½æ¨èä½¿ç”¨ setTimout å®ç° interval çš„åŠŸèƒ½ï¼Œä»è€Œä»£æ›¿ setIntervalã€‚å…¶åŸå› æ˜¯å› ä¸ºsetInterval ä¼šå‡ºç°é—´éš”è·³è¿‡æˆ–è€…è¿ç»­æ‰§è¡Œå¤šæ¬¡å¤„ç†å‡½æ•°çš„ç°è±¡ã€‚ä¸‹é¢å€Ÿç”¨ä¸€å¼ å›¾æè¿°ä¸‹ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1566464775659-fa78b408-4cfe-4c46-b46e-c1726b09cc9a.png#align=left&display=inline&height=324&name=image.png&originHeight=648&originWidth=1416&size=232574&status=done&width=708" alt="image.png"></p><p>ä¸‹é¢æˆ‘å°†å›¾è½¬åŒ–ä¸ºå…·ä½“ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleClick</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ... <span class="comment">// æ‰§è¡Œä»£ç 5ms</span></span><br><span class="line">  setInternal(fn, <span class="number">200</span>);</span><br><span class="line">  ... <span class="comment">// æ‰§è¡Œä»£ç  295ms</span></span><br><span class="line">&#125; <span class="comment">// å¤§çº¦ 300ms</span></span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ... <span class="comment">// å®šæ—¶å™¨ä»£ç ï¼Œæ‰§è¡Œå¤§çº¦300å¤šmsï¼›</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>æ—¶åˆ»</th><th>äº‹ä»¶</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>0ms</td><td>å¼€å§‹æ‰§è¡Œ handleClick å‡½æ•°</td><td></td></tr><tr><td>5ms</td><td>åˆ›å»ºé—´éš”ä¸º 200ms çš„å®šæ—¶å™¨</td><td>200ms æŒ‡å®šæ—¶å™¨çš„å¤„ç†å‡½æ•° fn åŠ å…¥é˜Ÿåˆ—çš„æ—¶é—´é—´éš”</td></tr><tr><td>205ms</td><td>åˆ›å»ºå®šæ—¶å™¨ 200ms åï¼Œå°†å®šæ—¶å™¨å¤„ç†å‡½æ•° fn åŠ å…¥é˜Ÿåˆ—</td><td>æ­¤æ—¶ handleClick ä»åœ¨æ‰§è¡Œä¸­ï¼Œfn ç­‰å¾…æ‰§è¡Œ</td></tr><tr><td>405ms</td><td>fn å†æ¬¡åŠ å…¥é˜Ÿåˆ—ï¼Œ205ms æ—¶åŠ å…¥é˜Ÿåˆ—çš„ fn æ­£åœ¨æ‰§è¡Œï¼ˆå·²ç»å‡ºé˜Ÿåˆ—ï¼‰</td><td></td></tr><tr><td>605ms</td><td>205ms æ—¶åŠ å…¥é˜Ÿåˆ—çš„ fn ä»åœ¨æ‰§è¡Œä¸­ï¼Œæ­¤æ—¶é˜Ÿåˆ—ä¸­è¿˜æœ‰ 405ms æ—¶åŠ å…¥çš„å®šæ—¶å™¨ä»£ç ï¼ŒåŒä¸€å®šæ—¶å™¨çš„å®šæ—¶å™¨ä»£ç å®ä¾‹åªèƒ½æœ‰ä¸€ä¸ªï¼Œæ­¤æ¬¡åŠ å…¥çš„å®šæ—¶å™¨ä»£ç è¢«å¿½ç•¥</td><td>å®šæ—¶å™¨ä»£ç è¢«è·³è¿‡</td></tr><tr><td>å¤§çº¦630ms</td><td>205ms æ—¶åŠ å…¥çš„å®šæ—¶å™¨ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œç´§æ¥ç€ 405ms åŠ å…¥çš„å®šæ—¶å™¨ä»£ç æ‰§è¡Œ</td><td>å‡ºç°è¿ç»­æ‰§è¡Œç°è±¡</td></tr></tbody></table><p><a name="nXByZ"></a></p><h4 id="2-ä½¿ç”¨-setTimeout-æ›¿ä»£-setInternal"><a href="#2-ä½¿ç”¨-setTimeout-æ›¿ä»£-setInternal" class="headerlink" title="2.ä½¿ç”¨ setTimeout æ›¿ä»£ setInternal"></a>2.ä½¿ç”¨ setTimeout æ›¿ä»£ setInternal</h4><p>é€šè¿‡å¯¹ setInternal å®šæ—¶å™¨æ‰§è¡Œæœºåˆ¶çš„ç†è§£,æˆ‘ä»¬å‘ç°å®ƒå­˜åœ¨ç€é—´éš”è·³è¿‡åŠè¿ç»­æ‰§è¡Œçš„å¼Šç«¯ã€‚ä¸ºäº†ä¿è¯ä»£ç åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…æ‰§è¡Œï¼Œæ™®éçš„åšæ³•æ˜¯ä½¿ç”¨ setTimeout æ›¿ä»£ setInternalã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. ä½¿ç”¨ setInternal</span></span><br><span class="line">setInternal(fn, <span class="number">300</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. ä½¿ç”¨ setTimeout</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// some code...</span></span><br><span class="line">  setTimeout(fn, <span class="number">300</span>);</span><br><span class="line">&#125;</span><br><span class="line">setTimeout(fn, <span class="number">300</span>)</span><br></pre></td></tr></table></figure><p><a name="FZVrZ"></a></p><h4 id="3-ä¸­å¤®å®šæ—¶å™¨"><a href="#3-ä¸­å¤®å®šæ—¶å™¨" class="headerlink" title="3.ä¸­å¤®å®šæ—¶å™¨"></a>3.ä¸­å¤®å®šæ—¶å™¨</h4><ul><li>æ¯ä¸ªé¡µé¢åœ¨åŒä¸€æ—¶é—´åªéœ€è¦è¿è¡Œä¸€ä¸ªå®šæ—¶å™¨</li><li>å¯ä»¥æ ¹æ®éœ€è¦æš‚åœå’Œæ¢å¤å®šæ—¶å™¨</li><li>åˆ é™¤å›è°ƒå‡½æ•°çš„è¿‡ç¨‹å˜å¾—ç®€å•</li></ul><p>è¿™ä¸ªä¸­å¤®å®šæ—¶å™¨åœ¨æˆ‘çš„å¼€å‘ä¸­æ²¡æ€ä¹ˆç”¨è¿‡ï¼Œä¹Ÿæ˜¯å¶ç„¶æ¥è§¦åˆ°çš„ï¼Œä¼˜ç‚¹å¤§æ¦‚æ˜¯ä¸€ä¸ªå®šæ—¶å™¨å‘¨æœŸæ‰§è¡Œå¤šä¸ªå¤„ç†å‡½æ•°ï¼Œä¸éœ€è¦ä¸ºæ¯ä¸ªå¤„ç†å‡½æ•°å®šä¹‰ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå–æ¶ˆå’Œå¼€å§‹å®šæ—¶å™¨å˜å¾—éå¸¸ç®€å•ã€‚ä¸‹é¢ç»™å‡ºä¸€ä¸ªåŠ¨ç”»çš„å°æ —å­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timerCtrl = &#123;</span><br><span class="line">  timerId: <span class="literal">null</span>,</span><br><span class="line">  timerCallback: [],</span><br><span class="line">  add: <span class="function"><span class="keyword">function</span>(<span class="params">cb</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.timerCallback.push(cb);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  start: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.timerId) <span class="keyword">return</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">runNext</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>;i &lt; timerCtrl.timerCallback.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (timerCtrl.timerCallback[i]() === <span class="literal">false</span>) &#123;</span><br><span class="line">          timerCtrl.timerCallback.splice(i, <span class="number">1</span>);</span><br><span class="line">          i--;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">this</span>.timerId = setTimeout(runNext, <span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    runNext();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  stop: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.timerId)&#123;</span><br><span class="line">      clearTimeout(<span class="keyword">this</span>.timerId);</span><br><span class="line">      <span class="keyword">this</span>.timerId = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> cache = &#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">id, direction, distance</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> el = cache[id] || <span class="built_in">document</span>.getElementById(id);</span><br><span class="line">  cache[id] = el;</span><br><span class="line">  <span class="keyword">var</span> num = el.style[direction].replace(<span class="string">'px'</span>, <span class="string">''</span>);</span><br><span class="line">  <span class="keyword">if</span> (num++ ==  distance) &#123; </span><br><span class="line">    el.innerHTML = id;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  el.style[direction] = num+ <span class="string">'px'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">timerCtrl</span><br><span class="line">  .add(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; move(<span class="string">'box1'</span>, <span class="string">'top'</span>, <span class="number">0</span>); &#125;)</span><br><span class="line">  .add(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; move(<span class="string">'box2'</span>, <span class="string">'left'</span>, <span class="number">50</span>); &#125;)</span><br><span class="line">  .add(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; move(<span class="string">'box2'</span>, <span class="string">'top'</span>, <span class="number">50</span>); &#125;)</span><br><span class="line">  .add(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; move(<span class="string">'box3'</span>, <span class="string">'left'</span>, <span class="number">100</span>); &#125;)</span><br><span class="line">  .add(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; move(<span class="string">'box3'</span>, <span class="string">'top'</span>, <span class="number">100</span>); &#125;)</span><br><span class="line">  .add(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; move(<span class="string">'box4'</span>, <span class="string">'left'</span>, <span class="number">150</span>); &#125;)</span><br><span class="line">  .add(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; move(<span class="string">'box4'</span>, <span class="string">'top'</span>, <span class="number">150</span>); &#125;)</span><br><span class="line">  .start()</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line">  &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width"</span>&gt;</span><br><span class="line">  &lt;title&gt;JS Bin&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"container"</span>&gt;</span><br><span class="line">    &lt;div id=<span class="string">"box1"</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div id=<span class="string">"box2"</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div id=<span class="string">"box3"</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div id=<span class="string">"box4"</span>&gt;&lt;/div&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br><span class="line"><span class="regexp">.container &#123;</span></span><br><span class="line"><span class="regexp">  position: relative;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">.container div &#123;</span></span><br><span class="line"><span class="regexp">  position: absolute;</span></span><br><span class="line"><span class="regexp">  border: 1px solid red;</span></span><br><span class="line"><span class="regexp">  height: 50px;</span></span><br><span class="line"><span class="regexp">  width: 50px;</span></span><br><span class="line"><span class="regexp">  margin-bottom: 50px;</span></span><br><span class="line"><span class="regexp">  text-align: center;</span></span><br><span class="line"><span class="regexp">  line-height: 50px;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç§‘ä¸€è€ƒè¯•</title>
      <link href="/2019/08/05/%E7%A7%91%E4%B8%80%E8%80%83%E8%AF%95/"/>
      <url>/2019/08/05/%E7%A7%91%E4%B8%80%E8%80%83%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©ä¸Šåˆé¡ºåˆ©é€šè¿‡äº†ç§‘ç›®ä¸€çš„è€ƒè¯•ï¼Œå¯èƒ½ä½ ä¼šå¥½å¥‡ï¼Œè¿™ä¹ˆæ™šäº†æ‰å­¦è½¦å•Šï¼Ÿæ˜¯å•Šï¼Œåªæ€ªå¤§å­¦æ²¡å¬å„ä½å­¦é•¿å­¦å§çš„å»ºè®®å»å­¦è½¦ï¼Œæ¬ çš„è¿Ÿæ—©æ˜¯è¦è¿˜çš„ğŸ˜¤ã€‚è¯´èµ·è¿™æ¬¡è€ƒè¯•ï¼Œè¿˜çœŸçš„æ˜¯ä¸å®¹æ˜“å•Šã€‚<br><br><br>æ—©ä¸Š5ç‚¹10åˆ†ï¼ŒæˆåŠŸè¢«é—¹é’Ÿå«é†’ï¼Œç„¶ååèµ·æ¥æ™ƒäº†ä¸‹ç¥ï¼Œè¿·è¿·ç³Šç³Šçš„æ´—åˆ·å®Œæ¯•åï¼Œå°±åŒ†åŒ†çš„å»èµ¶6ç‚¹å¤šçš„ç­è½¦äº†ã€‚ä»å®¶åˆ°ç­è½¦ç«™ç‚¹å¤§çº¦æœ‰6ï¼Œ7åˆ†é’Ÿçš„è·¯ç¨‹ï¼Œåˆšä¸‹è¿‡é›¨ï¼Œèµ°åœ¨è·¯ä¸Šæ„Ÿåˆ°æ ¼å¤–çš„å‡‰çˆ½ï¼Œç©ºæ°”ä¹Ÿè¢«é›¨æ°´å‡€åŒ–å¾—éå¸¸æ¸…æ–°ã€‚ä¸€å—å»è€ƒè¯•çš„è¿˜æœ‰ä¸€ä¸ªå¤§å­¦çš„åŒå­¦ï¼Œ6ç‚¹åå‡ ï¼Œæˆ‘ä»¬åœ¨ç­è½¦ä¸Šä¼šå’Œï¼Œä¹‹åå°±æ˜¯åœ¨åŠç¡åŠé†’çš„çŠ¶æ€é‡Œå¥”èµ´äº†æˆ‘ä»¬çš„æˆ˜åœºã€‚<br><br><br>æœ¬æ¥ä»å‡ºå‘ä¸€ç›´åˆ°å­¦æ ¡éƒ½ä¸æ˜¯å¾ˆç´§å¼ çš„ï¼Œå› ä¸ºåœ¨å®¶æ¨¡æ‹Ÿè€ƒè¯•ä¹Ÿæ¨¡æ‹Ÿäº†å¾ˆå¤šæ¬¡äº†ï¼Œæˆç»©ä¹Ÿéƒ½éå¸¸çš„ç†æƒ³ï¼Œä½†æ˜¯æ¥åˆ°é©¾æ ¡ç†è®ºè€ƒè¯•çš„æ¥¼å±‚è¿˜æ˜¯è«åçš„ç´§å¼ èµ·æ¥ã€‚åŸä»¥ä¸ºæ˜¯8ç‚¹è€ƒè¯•çš„ï¼Œç»“æœæ³•åŸ¹è€å¸ˆè¯´å…ˆè€ƒç§‘ä¸‰ç†è®ºï¼Œç„¶åæ‰æ˜¯åˆ°æˆ‘ä»¬ç§‘ä¸€ç†è®ºï¼ˆè¿™æœ‰ç‚¹æ‰“ä¹±äº†æˆ‘çš„è®¡åˆ’ï¼Œæœ¬æ¥æƒ³ç€æ—©ç‚¹è€ƒå®Œæ­£å¥½è¿”å›å»ç›´æ¥åˆ°å…¬å¸ä¸Šç­ï¼Œæ—¶é—´å·®ä¸å¤šåˆšåˆšå¥½ï¼Œä¹Ÿå°±æ²¡è¯·ä¸Šåˆçš„å‡ï¼‰ã€‚æˆ‘ä»¬åªå¥½ä¸´æ—¶åœ¨ä¸€é—´æ•™å®¤é‡Œç­‰å¾…ç€å¼€è€ƒã€‚è¿˜ä¸å¦‚ç›´æ¥å»è€ƒï¼Œç­‰å¾…çš„æ—¶é—´æ›´æ˜¯æœ‰äº›è®©äººç´§å¼ ğŸ˜‚ã€‚</p><p>ç­‰å¾…æœŸé—´ï¼Œè€å¸ˆå…ˆè®²äº†ä¸‹å„ç§æ³¨æ„äº‹é¡¹åŠè€ƒé©¾ç…§çš„æ€»æµç¨‹ï¼Œä¹‹åå°±å¸¦ç€æˆ‘ä»¬å¤ä¹ ä¸€äº›æ˜“é”™é¢˜ç›®ï¼Œæ—¶é—´å°±è¿™æ ·ä¸€åˆ†ä¸€ç§’è¿‡å»ï¼Œç»ˆäºæ”¶åˆ°é€šçŸ¥è®©æˆ‘ä»¬å»æœºæˆ¿è€ƒè¯•ï¼Œå½“æ—¶çš„å¿ƒæƒ…æ˜¯æ—¢ç´§å¼ åˆå…´å¥‹ã€‚æˆ‘ä»¬é¢†å–å®Œå„è‡ªçš„å‡†è€ƒè¯æ˜ã€å­˜æ”¾å¥½åŒ…ä¹‹ç±»çš„ç‰©å“åï¼Œæ¥åˆ°äº†è€ƒåœºé—¨å‰æ’é˜Ÿï¼Œä¸€ä¸ªæŒ¨ä¸€ä¸ªçš„åˆ·èº«ä»½è¯åˆ·è„¸è¿›å…¥ï¼Œè¿›åˆ°æ•™å®¤å†åˆ·èº«ä»½è¯æŸ¥çœ‹è‡ªå·±çš„åº§å·ã€‚æ¥ä¸‹æ¥å°±æ˜¯è¿›è¡Œç´§å¼ çš„è€ƒè¯•äº†ã€‚åœ¨å®¶æ¨¡æ‹Ÿåšé¢˜å¾ˆå¿«çš„æˆ‘æ”¾æ…¢äº†åšé¢˜é€Ÿåº¦ï¼ŒåŠ›æ±‚ä½œå¯¹æ¯ä¸€é“é¢˜ï¼Œåœ¨åšè¿‡äº†50å¤šé“é¢˜åè¿˜æ²¡é”™ä¸€é“ï¼Œå¿ƒé‡Œæƒ³ç€æ¥ä¸‹æ¥æ›´å¾—è®¤çœŸä»”ç»†ï¼Œçªç„¶ï¼Œä¸€ä¸ªçŒä¸åŠé˜²çš„å¼¹æ¡†å‡ºç°äº†ï¼ŒæŠŠæˆ‘çš„èŠ‚å¥ä¸€ä¸‹å­æ‰“ä¹±äº†ï¼Œå¥½å§ï¼Œåšé”™ä¸€é“é¢˜ã€‚ç´§æ¥ç€åˆæ˜¯ä¸€ä¸ªå¼¹çª—ã€‚ã€‚ã€‚emmmï¼Œè¿é”™ä¸¤é“ï¼Œè¿™é“è¿˜æ˜¯çœ‹é”™äº†é€‰é¡¹ã€‚å¿ƒé‡Œä¸ç¦æ…Œä¹±èµ·æ¥ï¼Œä¸è¡Œï¼Œå¾—ç¨³ä½å•Šï¼Œè¿™è¶‹åŠ¿ä¸‹å»è¿˜äº†å¾—ã€‚åœ¨ç¨å¾®å¹³å¤ä¸‹å¿ƒæ€åç»§ç»­ç­”é¢˜ï¼Œæœ€ç»ˆé”™äº†ä¸‰é¢˜ã€‚</p><p>ç„¶åè€ƒå®Œè¿›è¡Œäº†ç­¾å­—ç¡®è®¤ï¼Œå°±åœ¨æ¥¼é—¨å£å’ŒåŒå­¦ä¼šå’Œäº†ï¼Œå¹¸è¿çš„æ˜¯æˆ‘ä¿©éƒ½è¿‡äº†ï¼Œä¹‹åå°±æ„‰å¿«çš„å»12å·æ¥¼çº¦ç§‘ç›®äºŒçš„è½¦äº†ã€‚</p><p>çº¦å®Œè½¦å°±ç«æ€¥ç«ç‡çš„å¾€å…¬å¸èµ¶äº†ï¼Œåœ¨è½¦ä¸Šçœ‹åˆ°åŒäº‹å‘æ¶ˆæ¯è¯´ä¸‹åˆçš„ä¼šè®®æŒªåˆ°ä¸Šåˆäº†ï¼Œæˆ‘å¤©ï¼è¿™æœ‰ç‚¹ç‚¹èƒŒå•Šã€‚å› ä¸ºè€ƒè¯•æ—¶é—´æ¨è¿Ÿçš„åŸå› ï¼Œè¦èµ¶ä¸Šä¹Ÿæœ‰äº›ä¸å¯èƒ½äº†ï¼Œäºæ˜¯èµ¶ç´§å’Œé¢†å¯¼è¯´æ˜äº†ä¸‹æƒ…å†µã€‚æé†’è‡ªå·±ä¸‹æ¬¡è€ƒè¯•å¯å¾—è®°å¾—è¯·å‡äº†ï¼Œä¸ç„¶é‡åˆ°è¿™ç§æƒ…å†µå½±å“ä¹Ÿå¤ªä¸å¥½äº†ã€‚ã€‚ã€‚</p><p>æ€»ä¹‹ï¼Œèƒ½é¡ºåˆ©é€šè¿‡ç§‘ä¸€è¿˜æ˜¯å¾ˆå¼€å¿ƒçš„ï¼Œæ¥ä¸‹æ¥çš„è®­ç»ƒï¼Œç»§ç»­åŠ æ²¹ğŸ’ªï¼</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç”Ÿæ´» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pkgæ‰“åŒ…</title>
      <link href="/2019/07/14/pkg%E6%89%93%E5%8C%85/"/>
      <url>/2019/07/14/pkg%E6%89%93%E5%8C%85/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘é¡¹ç›®è¦æ”¹ç‰ˆï¼Œæœ€å¤§çš„å˜åŠ¨å°±æ˜¯æ›´æ¢ç»„ä»¶åº“ï¼ŒåŒæ—¶è½¬å‘ server ä¹Ÿç”± Python è½¬ä¸ºäº† Nodeã€‚å› ä¸ºå‰ç«¯å¯¹ Js æ›´åŠ ç†Ÿæ‚‰ï¼Œè½¬å‘ server ç”¨ Node å¯¹å‰ç«¯æˆ–è€…æ–°åŠ å…¥çš„æ–°äººæ¥è¯´éƒ½æ›´åŠ å‹å¥½äº›ã€‚</p><p>æ—¢ç„¶æ˜¯ä¸ª Node åº”ç”¨ï¼Œè‡ªç„¶æƒ³åˆ°äº†ä½¿ç”¨ pkg å°†å…¶æ‰“åŒ…è¿›è¡Œéƒ¨ç½²ã€‚äºæ˜¯æ²¡æ¥è§¦è¿‡ pkg çš„æˆ‘å¼€å§‹ç ”ç©¶å¦‚ä½•å°† Node åº”ç”¨ä½¿ç”¨ pkg è¿›è¡Œæ‰“åŒ…ã€‚</p><p><a name="N9Uxh"></a></p><h4 id="pkg-ç®€ä»‹"><a href="#pkg-ç®€ä»‹" class="headerlink" title="pkg ç®€ä»‹"></a>pkg ç®€ä»‹</h4><p>é¦–å…ˆç®€å•ä»‹ç»ä¸‹ <a href="https://github.com/zeit/pkg" target="_blank" rel="noopener">pkg</a> è¿™ä¸ªåº“ï¼Œä¸‹é¢è¯•å®˜æ–¹çš„ä»‹ç»ï¼š</p><p>This command line interface enables you to package your Node.js project into an executable that can be run even on devices without Node.js installed.</p><p>è¿™ä¸ªå‘½ä»¤è¡Œå·¥å…·æ˜¯ä¸“é—¨ç”¨æ¥æ‰“åŒ… Node é¡¹ç›®çš„ï¼Œæœ€ç»ˆ Node é¡¹ç›®ä¼šè¢«æ‰“åŒ…æˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿™ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ç”šè‡³å¯ä»¥åœ¨ä½ ä¸å®‰è£… Node ç¯å¢ƒçš„æƒ…å†µä¸‹è¿è¡Œã€‚å¹¶ä¸”ï¼Œæ‰“åŒ…æ—¶å¯ä»¥æŒ‡å®šæ‰“åŒ…å¹³å°ï¼Œè®©å¯æ‰§è¡Œæ–‡ä»¶å¯ä»¥åœ¨åƒ linuxã€macã€windowsç­‰å¤šä¸ªå¹³å°è¿è¡Œã€‚</p><p><a name="EsrGB"></a></p><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>é¦–å…ˆéœ€è¦å®‰è£…ä¸‹ pkgï¼Œå¯ä»¥æœ¬åœ°å’Œå…¨å±€å®‰è£…ï¼Œä¸€èˆ¬è¿›è¡Œä¸‹æœ¬åœ°å®‰è£…å°±è¶³å¤Ÿäº†ã€‚å®‰è£…å‘½ä»¤å¾ˆç®€å•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install pkg    // æœ¬åœ°å®‰è£…</span><br><span class="line">npm install pkg -g // å…¨å±€å®‰è£…</span><br></pre></td></tr></table></figure><p><a name="nZlnT"></a></p><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>é…ç½®å¯ä»¥åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯ç›´æ¥æ‰“åŒ… Node å…¥å£æ–‡ä»¶çš„æ–¹å¼ï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡åœ¨ package.json ä¸­æ·»åŠ é…ç½®å­—æ®µè¿›è¡Œé…ç½®ã€‚<br>å…³äºå„ä¸ªé…ç½®é¡¹ä¸å†å¤šåŠ èµ˜è¿°ï¼Œå¯ä»¥ç›´æ¥åœ¨å®˜ç½‘çœ‹åˆ°ã€‚ä¸‹é¢è´´å‡ºæˆ‘ä»¬é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œå¹¶ä»¥æˆ‘ä»¬é¡¹ç›®ä¸ºä¾‹ä»‹ç»ä¸‹ä¸¤ç§æ‰“åŒ…æ–¹å¼ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1563156452292-0251ed06-3acf-4d11-b14a-e4349d474c92.png#align=left&display=inline&height=399&name=image.png&originHeight=1188&originWidth=724&size=115664&status=done&width=243" alt="image.png"></p><ol><li>é€šè¿‡æ‰“åŒ… Node å…¥å£æ–‡ä»¶æ–¹å¼ç›´æ¥è¿›è¡Œæ‰“åŒ…<br>åªéœ€è¦åœ¨ package.json çš„ â€œscriptsâ€ å­—æ®µæ·»åŠ æˆ–è€…å¦‚æœå…¨å±€å®‰è£…äº†çš„è¯ç›´æ¥è¿è¡Œä¸‹é¢å‘½ä»¤:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg ./server/app.js -t node10-macos-x64 -o /a/b/æ–‡ä»¶å</span><br></pre></td></tr></table></figure><pre><code>è¿™æ ·å°±ç®—é…ç½®å®Œæˆäº†ï¼Œä½†æ˜¯è¿™ç§é…ç½®æœ‰ä¸ªé—®é¢˜å°±æ˜¯æ— æ³•å°†å‰ç«¯ webpack æ‰“åŒ…å‡ºçš„ç›¸å…³æ–‡ä»¶è‡ªåŠ¨æ‰“åŒ…è¿›å¯æ‰§è¡Œæ–‡       ä»¶ä¸­ï¼Œå¿…é¡»é€šè¿‡æä¾›æ‰“åŒ…å¥½çš„æ–‡ä»¶å¤¹å¦‚ dist æ–‡ä»¶å¤¹ã€‚</code></pre><ol start="2"><li>é€šè¿‡é…ç½® package.json æ–¹å¼è¿›è¡Œæ‰“åŒ…</li></ol><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">   "start": "npm run dev",</span><br><span class="line">   "dev": "node build/dev-server",</span><br><span class="line">   "dev-server": "NODE_ENV=development node server/app.js",</span><br><span class="line">   "build": "node build/build.js",</span><br><span class="line">   "lint": "eslint --ext .js,.jsx src test",</span><br><span class="line">   "test": "jest",</span><br><span class="line">   "pkg": "pkg . --target=node10-linux-x64 --out-path=pkg",</span><br><span class="line">   "pkg-mac": "pkg . --target=node10-macos-x64 --out-path=pkg",</span><br><span class="line">   "pkg-win": "pkg . --target=node10-win-x64 --out-path=pkg"</span><br><span class="line"> &#125;,</span><br><span class="line"> "pkg": &#123;</span><br><span class="line">   "assets": [</span><br><span class="line">     "server/views/**/*.pug",</span><br><span class="line">     "dist/static/css/**/*.css",</span><br><span class="line">     <span class="string">"dist/static/images/**/*"</span></span><br><span class="line">   ],</span><br><span class="line">   "scripts": [</span><br><span class="line">     <span class="string">"dist/static/js/**/*.js"</span></span><br><span class="line">   ]</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼åœ¨é…ç½®æ—¶è€ƒè™‘çš„é—®é¢˜ä¼šæ›´å¤šä¸€äº›ï¼Œä½†æ˜¯é…ç½®å¥½äº†ä½¿ç”¨èµ·æ¥ç‰¹åˆ«æ–¹ä¾¿ã€‚ä½ å¯ä»¥é…ç½®ä»»ä½•ä½ æƒ³æ‰“åŒ…è¿›å»çš„å†…å®¹ï¼Œè€Œä¸”ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶å¯ä»¥åœ¨ä»»ä½•ç›®å½•åŒå‡»æ‰“å¼€ï¼ˆç¬¬ä¸€ç§æ–¹å¼ç›´æ¥åŒå‡»æ‰§è¡Œä¼šå‡ºé—®é¢˜ï¼Œé»˜è®¤æ‰§è¡Œç›®å½•ä¼šå˜ä¸ºå½“å‰ user ç›®å½•ï¼‰<br>é…ç½®æ—¶éœ€è¦æ³¨æ„ dependencies é‡Œçš„ä¾èµ–åŒ…ä¼šè¢«æ‰“åŒ…è¿›å¯æ‰§è¡Œæ–‡ä»¶ä¸­<br></p><p><a name="WC0ke"></a></p><h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><p>é™¤äº†å†™é…ç½®æ–‡ä»¶ï¼ŒNode è·¯å¾„ç›¸å…³çš„ä»£ç ä¹Ÿéœ€è¦åšäº›è°ƒæ•´ï¼Œä½¿ç”¨ path.join(__dirname, â€˜xxxâ€™) è¿™ç§çš„è·¯å¾„èµ„æºæ‰“åŒ…çš„æ—¶å€™ä¼šè¢«æ£€æµ‹åˆ°ï¼Œç›´æ¥ä½¿ç”¨ç»å¯¹è·¯å¾„æˆ–è€…åŠ¨æ€ require çš„ä¸ä¼šè¢«æ£€æµ‹åˆ°ï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®è¿™æ ·çš„åŸåˆ™æ¥å†™ä»£ç å†³å®šæ˜¯å¦è¦è®²æ–‡ä»¶æ‰“åŒ…è¿›å¯æ‰§è¡Œæ–‡ä»¶ã€‚<br></p><p><a name="QNuQL"></a></p><h4 id="å…³äº-package-json"><a href="#å…³äº-package-json" class="headerlink" title="å…³äº package.json"></a>å…³äº package.json</h4><p>å»ºè®®å°† Node ç›¸å…³çš„ä¾èµ–å•ç‹¬æ”¾åˆ°ä¸€ä¸ª package.json ä¸­ï¼Œå¯ä»¥åˆ†ä¸¤ä¸ªæ–‡ä»¶å¤¹ client å’Œ serverï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹ä¸‹æœ‰å„è‡ªçš„ package.json, å› ä¸ºåœ¨å®è·µä¸­å‘ç° dependencies çš„ä¾èµ–ä¼šæ‰“åŒ…è¿›å¯æ‰§è¡Œæ–‡ä»¶ï¼Œ devDependencies ä¹Ÿä¼šéƒ¨åˆ†æ‰“åŒ…è¿›å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ‰€ä»¥å¦‚æœå‰åç«¯ä¾èµ–æ”¾åˆ°ä¸€ä¸ª package.json ä¼šå¢å¤§æœ€åå¯æ‰§è¡Œæ–‡ä»¶çš„ä½“ç§¯ã€‚å…·ä½“å“ªäº›ä¾èµ–è¢«åŠ å…¥äº†å¯æ‰§è¡Œæ–‡ä»¶å¯ä»¥åœ¨ä½¿ç”¨ pkg å‘½ä»¤æ—¶æ·»åŠ  â€“debug æ¥æŸ¥çœ‹ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitconfigæ–‡ä»¶</title>
      <link href="/2019/06/24/gitconfig%E6%96%87%E4%BB%B6/"/>
      <url>/2019/06/24/gitconfig%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>gitconfig é¡¾åæ€ä¹‰å°±æ˜¯ git çš„é…ç½®æ–‡ä»¶ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨ä½¿ç”¨ git çš„è¿‡ç¨‹ä¸­ï¼Œæ¥è§¦ä¸åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚ç›´åˆ°æœ‰ä¸€æ¬¡æˆ‘å’Œä¸€ä¸ªæœ‹å‹ï¼ˆåæ–‡ç§°ä½œè€ç‹ï¼Œå…¶å®äººå®¶ä¸è€ğŸ˜…ï¼‰å…±ç”¨ä¸€ä¸ªæœåŠ¡å™¨æ—¶ï¼Œå‘ç°æˆ‘çš„ blog æäº¤å†å²ä¸­æ˜¾ç¤ºçš„ç”¨æˆ·åæ˜¯è€ç‹çš„é‚®ç®±å’Œå¤´åƒï¼Œæˆ‘æ‰æ…¢æ…¢å¼€å§‹æ¥è§¦åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚</p><p><a name="6g9vS"></a></p><h3 id="äº‹æƒ…èµ·å› "><a href="#äº‹æƒ…èµ·å› " class="headerlink" title="äº‹æƒ…èµ·å› "></a>äº‹æƒ…èµ·å› </h3><p>æˆ‘å’Œè€ç‹å…±ç”¨äº†ä¸€å°æœåŠ¡å™¨æ¥æ­å»ºæˆ‘ä»¬å„è‡ªçš„åšå®¢ç³»ç»Ÿï¼Œblog éƒ½æ˜¯é‡‡ç”¨ hexo æ­å»ºï¼Œç”±äº hexo é»˜è®¤ä½¿ç”¨å…¨å±€çš„ git ç”¨æˆ·åå’Œé‚®ç®±é…ç½®ï¼Œä»¥è‡³äºåœ¨è€ç‹è¿è¡Œè¿‡ git config â€“global user.name â€œxxxâ€ åŠ git config â€“global user.email â€œxxx@yyyâ€ ä¹‹åï¼Œæˆ‘ä»¬ä¸¤ä¸ªçš„çš„æäº¤éƒ½ä½¿ç”¨äº†è¿™ä¸ªå…¨å±€çš„é…ç½®ï¼Œæˆ‘çš„ git ä»“åº“çš„æäº¤å†å²ä¹Ÿè‡ªç„¶å˜ä¸ºäº†ä»–çš„åå­—ã€‚<br><a id="more"></a><br><a name="NP1PA"></a></p><h3 id="æ‰¾å¯»åŸç†"><a href="#æ‰¾å¯»åŸç†" class="headerlink" title="æ‰¾å¯»åŸç†"></a>æ‰¾å¯»åŸç†</h3><p>äºæ˜¯æˆ‘å¼€å§‹æŸ¥æ‰¾ git config â€“global user.x â€œyâ€ åˆ°åº•åšäº†ä»€ä¹ˆï¼ŒåŸæ¥è¿™ä¸ªå‘½ä»¤æ˜¯åšäº†ä¸€ä¸ªå†™é…ç½®é¡¹äº‹æƒ…ï¼ˆå¦‚æœä¸åŠ â€yâ€åˆ™è¯»ç›¸åº”çš„é…ç½®é¡¹ï¼‰å½“æˆ‘è¿è¡Œè¿™ä¸ªå‘½ä»¤æ—¶ï¼Œä¼šè‡ªåŠ¨å¾€ ~/.gitconfig æ–‡ä»¶å¢åŠ é…ç½®é¡¹ï¼Œæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶çš„è¯ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œè®©æˆ‘ä»¬è®¤è¯†ä¸‹è¿™ä¸ªæ–‡ä»¶</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1561367627805-db079845-9a6f-41b3-b1c0-f29623f296a7.png#align=left&display=inline&height=85&name=image.png&originHeight=170&originWidth=834&size=32893&status=done&width=417" alt="image.png"></p><p>ç”±äºæˆ‘åª config è¿‡ user ç›¸å…³çš„é€‰é¡¹æ‰€ä»¥è¿™é‡Œåªæ·»åŠ äº† user çš„é…ç½®ã€‚<br>é™¤äº† â€“global ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ git config â€“system æ·»åŠ ç³»ç»Ÿçº§åˆ«çš„ git é…ç½®ï¼Œä¿å­˜åœ¨ /etc/gitconfig æ–‡ä»¶ä¸­ï¼Œ<br>æ­¤å¤–ï¼Œæ¯ä¸ªé¡¹ç›®ä¹Ÿå¯ä»¥æœ‰è‡ªå·±å•ç‹¬çš„ gitconfig é…ç½®æ–‡ä»¶ï¼Œå­˜æ”¾äºé¡¹ç›® .git/config æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ .git ç›®å½•ä¸‹æ‰‹åŠ¨åˆ›å»ºä¹Ÿå¯ä»¥ç›´æ¥ git config user.name â€˜xxxâ€™ï¼Œä»¥è¿™ç§å‘½ä»¤è¡Œçš„å½¢å¼æ·»åŠ é…ç½®ï¼ˆæ‰§è¡Œè¯¥å‘½ä»¤éœ€æ³¨æ„ä¸¤ç‚¹ï¼š1. éœ€åœ¨ git é¡¹ç›®ç›®å½•ä¸‹, ä¸ä¸€å®šæ˜¯æ ¹ç›®å½•ï¼Œ2. ä¸åŠ  â€“global or â€“systemï¼‰ï¼Œ ç„¶åæŸ¥çœ‹ä¸‹é…ç½®æ–‡ä»¶</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1561368349702-da132976-8a50-47c4-a46d-86b667cdff7c.png#align=left&display=inline&height=128&name=image.png&originHeight=256&originWidth=546&size=33972&status=done&width=273" alt="image.png"></p><p>å‘ç°æˆ‘ä»¬çš„ç”¨æˆ·åå·²ç»å†™å…¥ï¼Œå¹¶ä¸”è¿˜å¯ä»¥çœ‹åˆ°è¿™ä¸ªé¡¹ç›®å…¶ä»–çš„ä¸€äº› git é»˜è®¤é…ç½®é¡¹ï¼Œæ¯”å¦‚ core, å¯ä»¥é€šè¿‡ git config core.xxx è¿›è¡Œä¿®æ”¹ã€‚<br>ä¸éš¾æƒ³åˆ°ï¼Œåœ¨é¡¹ç›®ä¸­è¿›è¡Œæäº¤çš„æ—¶å€™ï¼Œä¼˜å…ˆä¼šé‡‡ç”¨é¡¹ç›®å†…çš„ git å˜é‡é…ç½®ï¼Œé¡¹ç›®å†…æ²¡æœ‰æ¥ç€æ‰¾å…¨å±€çš„ï¼Œå…¨å±…çš„æ²¡æœ‰å†æ‰¾ç³»ç»Ÿçº§åˆ«çš„ï¼Œé‡‡ç”¨å°±è¿‘åŸåˆ™ã€‚æ¯ä¸€ä¸ªçº§åˆ«çš„é…ç½®éƒ½ä¼šè¦†ç›–ä¸Šå±‚çš„ç›¸åŒé…ç½®ï¼ˆåŒåå˜é‡ï¼‰ã€‚<br><a name="jk0Kn"></a></p><h3 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h3><p>æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ï¼Œæˆ‘ä»¬å•†é‡åæ³¨é‡Šäº†å…¨å±€é…ç½®æ–‡ä»¶å†…çš„ç”¨æˆ·åé‚®ç®±ï¼Œåœ¨å„è‡ªé¡¹ç›®çš„ .deploy_git æ–‡ä»¶å¤¹ä¸‹çš„ .git/config æ–‡ä»¶å†…æ·»åŠ äº†å„è‡ªçš„ç”¨æˆ·é…ç½®ï¼Œè‡³æ­¤ï¼Œå†æäº¤é—®é¢˜å¾—åˆ°å®Œç¾è§£å†³ã€‚<br>è¿™åªæ˜¯è§£å†³äº†æ–°çš„å†å²è®°å½•çš„é—®é¢˜ï¼Œæ—§çš„å†å²è®°å½•è¿˜æ˜¯è€ç‹çš„ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢è„šæœ¬æ‰¹é‡ä¿®æ­£</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line">git filter-branch --env-filter <span class="string">'</span></span><br><span class="line"><span class="string">OLD_EMAIL="your-old-email@example.com"</span></span><br><span class="line"><span class="string">CORRECT_NAME="Your Correct Name"</span></span><br><span class="line"><span class="string">CORRECT_EMAIL="your-correct-email@example.com"</span></span><br><span class="line"><span class="string">if [ "$GIT_COMMITTER_EMAIL" = "$OLD_EMAIL" ]</span></span><br><span class="line"><span class="string">then</span></span><br><span class="line"><span class="string">    export GIT_COMMITTER_NAME="$CORRECT_NAME"</span></span><br><span class="line"><span class="string">    export GIT_COMMITTER_EMAIL="$CORRECT_EMAIL"</span></span><br><span class="line"><span class="string">fi</span></span><br><span class="line"><span class="string">if [ "$GIT_AUTHOR_EMAIL" = "$OLD_EMAIL" ]</span></span><br><span class="line"><span class="string">then</span></span><br><span class="line"><span class="string">    export GIT_AUTHOR_NAME="$CORRECT_NAME"</span></span><br><span class="line"><span class="string">    export GIT_AUTHOR_EMAIL="$CORRECT_EMAIL"</span></span><br><span class="line"><span class="string">fi</span></span><br><span class="line"><span class="string">'</span> --tag-name-filter cat -- --branches --tags</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯¹è±¡éå†</title>
      <link href="/2019/06/20/%E5%AF%B9%E8%B1%A1%E9%81%8D%E5%8E%86/"/>
      <url>/2019/06/20/%E5%AF%B9%E8%B1%A1%E9%81%8D%E5%8E%86/</url>
      
        <content type="html"><![CDATA[<p><a name="2ObMk"></a></p><h3 id="Object-keys"><a href="#Object-keys" class="headerlink" title="Object.keys()"></a>Object.keys()</h3><p>è¿™ä¸ªæ–¹æ³•è·å–çš„æ˜¯ã€Œè‡ªèº«ã€ã€Œå¯æšä¸¾ã€ çš„å±æ€§çš„keyï¼Œ ä¸å¯æšä¸¾åŠä»åŸå‹ç»§æ‰¿æ¥çš„å±æ€§çš„ key ä¸å¯è·å¾—ï¼Œè¿”å›å€¼ä¸º key ç»„æˆçš„æ•°ç»„ã€‚<br><a name="qSUPw"></a></p><h3 id="Object-getOwnPropertyNames"><a href="#Object-getOwnPropertyNames" class="headerlink" title="Object.getOwnPropertyNames()"></a>Object.getOwnPropertyNames()</h3><p>è¿™ä¸ªæ–¹æ³•è·å–çš„æ˜¯è‡ªèº«å±æ€§çš„ keyï¼Œ åŒ…æ‹¬å¯æšä¸¾å’Œä¸å¯æšä¸¾å±æ€§çš„ keyï¼Œè¿”å›å€¼ä¸º key ç»„æˆçš„æ•°ç»„ã€‚<br><a name="4cA43"></a></p><h3 id="for-in"><a href="#for-in" class="headerlink" title="for in"></a>for in</h3><p>éå†è‡ªèº«åŠåŸå‹é“¾ä¸Šç»§æ‰¿æ¥çš„å¯æšä¸¾å±æ€§</p><p>ä¸Šé¢ä»‹ç»çš„è¿™å‡ é¡¹æ— æ³•è·å–åˆ° Symbol å€¼çš„ keyï¼Œä½†å¯ä»¥é€šè¿‡ <strong>Object.getOwnPropertySymbols()</strong> è·å–è‡ªèº«çš„ Symbol å€¼çš„keyï¼Œè¿™é‡Œä¸è€ƒè™‘ Symbol çš„æƒ…å†µã€‚<br><a id="more"></a><br><a name="TzS78"></a></p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> testObj = &#123;</span><br><span class="line">  <span class="number">1</span>: <span class="string">'one'</span>,</span><br><span class="line">  two: <span class="number">2</span>,</span><br><span class="line">  three: <span class="number">3</span>,</span><br><span class="line">  four: <span class="number">4</span>,</span><br><span class="line">  <span class="number">5</span>: <span class="string">'five'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(testObj, <span class="string">'6'</span>, &#123;</span><br><span class="line">  value: <span class="string">'six'</span>,</span><br><span class="line">  enumerable: <span class="literal">false</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">Object</span>.prototype.seven = <span class="number">7</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'---- Object.keys ----'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(testObj));</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'---- Object.getOwnPropertyNames ----'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(testObj));</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'---- for in ----'</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> testObj) <span class="built_in">console</span>.log(key);</span><br></pre></td></tr></table></figure><p>æ‰“å°ç»“æœå¦‚ä¸‹ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1561003174099-b12af3a1-8832-4b71-8230-9d701b7e81e3.png#align=left&display=inline&height=337&name=image.png&originHeight=674&originWidth=1050&size=57341&status=done&width=525" alt="image.png"><br><a name="ACtN6"></a></p><h4 id="åˆ†æå¹¶å‘ç°é—®é¢˜"><a href="#åˆ†æå¹¶å‘ç°é—®é¢˜" class="headerlink" title="åˆ†æå¹¶å‘ç°é—®é¢˜"></a>åˆ†æå¹¶å‘ç°é—®é¢˜</h4><p>testObj çš„å±æ€§ä¸­, key å€¼ä¸º â€˜6â€™ çš„ä¸ºä¸å¯æšä¸¾å±æ€§ï¼Œkey å€¼ä¸º â€˜sevenâ€™ çš„ä¸ºåŸå‹é“¾ä¸Šçš„å±æ€§ã€‚Object.keys å’Œ Object.getOwnPropertyNames è¿”å›çš„éƒ½æ˜¯è‡ªèº«çš„å±æ€§ï¼ŒåŒºåˆ«åœ¨äº getOwnPropertyNames è¿”å›ç»“æœä¸­åŒ…å«ä¸å¯æšä¸¾çš„å±æ€§ï¼Œfor in éå†è‡ªèº«åŠåŸå‹é“¾ä¸Šå¯æšä¸¾çš„å±æ€§ã€‚<br>ä»æ‰“å°çš„ç»“æœæˆ‘å‘ç°å‡ ä¸ªé—®é¢˜:</p><ul><li>key çš„é¡ºåºä¸ºä»€ä¹ˆä¸æ˜¯åˆ›å»ºçš„é¡ºåº</li><li>for â€¦  in å¦‚ä½•åªéå†è‡ªèº«å±æ€§çš„ key </li><li>å¦‚ä½•å¾—åˆ°å¯¹è±¡è‡ªèº«ä¸å¯æšä¸¾çš„ key</li></ul><p><a name="X8bKR"></a></p><h5 id="1-key-çš„é¡ºåºé—®é¢˜"><a href="#1-key-çš„é¡ºåºé—®é¢˜" class="headerlink" title="1. key çš„é¡ºåºé—®é¢˜"></a>1. key çš„é¡ºåºé—®é¢˜</h5><p>å¤§å¤šæ•°æµè§ˆå™¨çš„æ–°ç‰ˆæœ¬æŒ‰ç…§è¿™æ ·çš„æ–¹å¼å¤„ç†: å°†æ•´æ•°å‹çš„keyæ’åœ¨å‰é¢ï¼Œä¸æ˜¯æ•´æ•°å‹çš„keyæŒ‰ç…§åˆ›å»ºçš„é¡ºåºæ’(æ•´æ•°å‹æŒ‡å˜ä¸ºæ•´æ•°å†ä»æ•´æ•°å˜å›æ¥ï¼Œæ”¹å˜å‰åå®Œå…¨ç›¸åŒçš„æ•°), ä¾‹å¦‚ â€œ+1â€ -&gt; 1 -&gt; â€˜1â€™, åˆ™ +1 ä¸æ˜¯æ•´æ•°å‹key).<br>æˆ‘ä»¬å¯ä»¥æ”¹ä¸‹ä¸Šé¢çš„ testObjï¼Œå†æ¬¡è¿›è¡Œæµ‹è¯•ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> testObj = &#123;</span><br><span class="line">  <span class="number">1</span>: <span class="string">'one'</span>,</span><br><span class="line">  two: <span class="number">2</span>,</span><br><span class="line">  three: <span class="number">3</span>,</span><br><span class="line">  four: <span class="number">4</span>,</span><br><span class="line">  <span class="number">5</span>: <span class="string">'five'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(testObj));</span><br><span class="line"><span class="keyword">delete</span> testObj[<span class="string">'two'</span>]</span><br><span class="line">testObj[<span class="string">'two'</span>] = <span class="string">'2'</span>; <span class="comment">// æ–°åˆ›å»º</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(testObj));</span><br></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1561015364391-19d0f7cb-de52-4d48-8af8-9c2147ce01ad.png#align=left&display=inline&height=87&name=image.png&originHeight=174&originWidth=566&size=16728&status=done&width=283" alt="image.png"><br>ä½†åœ¨ä¸€äº›è€çš„æµè§ˆå™¨å¹¶ä¸æ˜¯æŒ‰ç…§è¿™æ ·çš„æ–¹å¼å¤„ç†çš„ï¼Œæ‰€ä»¥ä¸åŒæµè§ˆå™¨å­˜åœ¨å·®å¼‚ï¼Œå¦‚æœæƒ³å¯¹é¡ºåºæœ‰ç‰¹åˆ«çš„è¦æ±‚ï¼Œå»ºè®®è¿˜æ˜¯å¯¹è¿”å›çš„å­˜å‚¨keyçš„æ•°ç»„è¿›è¡Œå¤„ç†åï¼Œä½¿å…¶æŒ‰ç‰¹å®šé¡ºåºè¾“å‡ºã€‚<br><a name="5GoIp"></a></p><h5 id="2-for-â€¦-in-å¦‚ä½•åªéå†è‡ªèº«å±æ€§çš„-key"><a href="#2-for-â€¦-in-å¦‚ä½•åªéå†è‡ªèº«å±æ€§çš„-key" class="headerlink" title="2. for â€¦ in å¦‚ä½•åªéå†è‡ªèº«å±æ€§çš„ key"></a>2. for â€¦ in å¦‚ä½•åªéå†è‡ªèº«å±æ€§çš„ key</h5><p>å¯ä»¥ä½¿ç”¨ *<em>hasOwnProperty *</em>è¿›è¡Œåˆ¤æ–­è¿‡æ»¤ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> testObj = &#123;</span><br><span class="line">  <span class="number">1</span>: <span class="string">'one'</span>,</span><br><span class="line">  two: <span class="number">2</span>,</span><br><span class="line">  three: <span class="number">3</span>,</span><br><span class="line">  four: <span class="number">4</span>,</span><br><span class="line">  <span class="number">5</span>: <span class="string">'five'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.prototype.seven = <span class="number">7</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'---- for in ----'</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> testObj) &#123;</span><br><span class="line"><span class="keyword">if</span> (testObj.hasOwnProperty(key)) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(key);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1561015910280-3891022e-b982-4456-ac57-b0d5f447f546.png#align=left&display=inline&height=198&name=image.png&originHeight=396&originWidth=674&size=17701&status=done&width=337" alt="image.png"><br><a name="ipj3Y"></a></p><h5 id="3-å¦‚ä½•å¾—åˆ°å¯¹è±¡è‡ªèº«ä¸å¯æšä¸¾çš„-key"><a href="#3-å¦‚ä½•å¾—åˆ°å¯¹è±¡è‡ªèº«ä¸å¯æšä¸¾çš„-key" class="headerlink" title="3.å¦‚ä½•å¾—åˆ°å¯¹è±¡è‡ªèº«ä¸å¯æšä¸¾çš„ key"></a>3.å¦‚ä½•å¾—åˆ°å¯¹è±¡è‡ªèº«ä¸å¯æšä¸¾çš„ key</h5><p>ä¸è€ƒè™‘ Symbol çš„keyï¼ŒObject.getOwnPropertyNames() å¾—åˆ°çš„ key å»æ‰ Object.keys() å¾—åˆ°çš„ key å°±æ˜¯ä¸å¯æšä¸¾çš„ keyã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> testObj = &#123;</span><br><span class="line">  <span class="number">1</span>: <span class="string">'one'</span>,</span><br><span class="line">  two: <span class="number">2</span>,</span><br><span class="line">  three: <span class="number">3</span>,</span><br><span class="line">  four: <span class="number">4</span>,</span><br><span class="line">  <span class="number">5</span>: <span class="string">'five'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(testObj, <span class="string">'6'</span>, &#123;</span><br><span class="line">  value: <span class="string">'six'</span>,</span><br><span class="line">  enumerable: <span class="literal">false</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(testObj);</span><br><span class="line"><span class="keyword">const</span> allKeys = <span class="built_in">Object</span>.getOwnPropertyNames(testObj);</span><br><span class="line"><span class="keyword">const</span> enumerableKeys = <span class="built_in">Object</span>.keys(testObj);</span><br><span class="line"><span class="keyword">const</span> unEnumerableKeys = allKeys.filter(<span class="function"><span class="params">key</span> =&gt;</span> enumerableKeys.indexOf(key) === <span class="number">-1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'unEnumerableKeys:'</span>, unEnumerableKeys);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œ chrome æµè§ˆå™¨æœ‰ä¸ªå¥‡æ€ªçš„ bug, å»æ‰ç¬¬12è¡Œçš„æ‰“å°åœ¨ Chrome 74.0.3729.169ï¼ˆæ­£å¼ç‰ˆæœ¬ï¼‰ ï¼ˆ64 ä½ï¼‰é€šè¿‡ getOwnPropertyNames æ— æ³•å¾—åˆ°ä¸å¯æšä¸¾çš„keyï¼Œ safari æµ‹è¯•æ­£å¸¸ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1561020198272-5bd2fe9b-33e6-460a-8a14-9ed8dcfa8879.png#align=left&display=inline&height=211&name=image.png&originHeight=422&originWidth=710&size=33228&status=done&width=355" alt="image.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitlab CI|CDåˆæ¢</title>
      <link href="/2019/05/22/Gitlab%20CI%7CCD%E5%88%9D%E6%8E%A2/"/>
      <url>/2019/05/22/Gitlab%20CI%7CCD%E5%88%9D%E6%8E%A2/</url>
      
        <content type="html"><![CDATA[<p>é¡¹ç›®ä¸­ç°åœ¨ä½¿ç”¨äº† gitlab çš„ webhook è¿›è¡Œè‡ªåŠ¨éƒ¨ç½²ï¼Œæœ€è¿‘çœ‹äº†ä¸‹ CI/CDï¼Œ è§‰å¾—ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªè¿›è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œä½†æ˜¯æœ€åè¿˜æ˜¯æ”¾å¼ƒäº†ï¼Œä¸»è¦åŸå› æ˜¯ç°åœ¨çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ç›¸å¯¹æ¯”è¾ƒæˆç†Ÿï¼Œå·²ç»æ»¡è¶³äº†ç»å¤§éƒ¨åˆ†çš„éœ€æ±‚ï¼Œæ›´æ¢ä¸º CI/CD æ–¹å¼ä½“éªŒä¸ä¸€å®šä¼šå˜å¾—æ›´å¥½ã€‚<br><a id="more"></a><br>ä¸‹é¢ä»‹ç»å‡ ä¸ªç›¸å…³æ¦‚å¿µï¼š</p><p><a name="fIGki"></a></p><h4 id="Pipeline-æµæ°´çº¿"><a href="#Pipeline-æµæ°´çº¿" class="headerlink" title="Pipeline(æµæ°´çº¿)"></a>Pipeline(æµæ°´çº¿)</h4><p>å½“æˆ‘ä»¬è¿›è¡Œpush, mergeç­‰æ“ä½œæ—¶ï¼Œéƒ½ä¼šè§¦å‘ Pipeline</p><p><a name="yRULn"></a></p><h4 id="Stages-æ—¶æœŸ"><a href="#Stages-æ—¶æœŸ" class="headerlink" title="Stages(æ—¶æœŸ)"></a>Stages(æ—¶æœŸ)</h4><p>æ¯ä¸ª Pipeline åŒ…å«ä¸‰ä¸ª stage é˜¶æ®µï¼ˆbuild, test, deployï¼‰ï¼Œå‰ä¸€ä¸ª stage é˜¶æ®µå¤±è´¥ï¼Œåé¢å°±ä¼šä¸å†æ‰§è¡Œï¼Œä»£è¡¨è¿™ä¸ªæ„å»ºä»»åŠ¡ - Pipeline å¤±è´¥ã€‚</p><p><a name="H62iJ"></a></p><h4 id="Jobs-ä»»åŠ¡"><a href="#Jobs-ä»»åŠ¡" class="headerlink" title="Jobs(ä»»åŠ¡)"></a>Jobs(ä»»åŠ¡)</h4><p>æ¯éš” stage é˜¶æ®µé‡Œå¯ä»¥æœ‰è‹¥å¹²çš„ jobï¼Œç›¸åŒ stage é˜¶æ®µä¸­çš„ job æ˜¯å¹¶è¡Œæ‰§è¡Œçš„ï¼Œè¯¥ stage é˜¶æ®µä¸‹çš„æ‰€æœ‰ job éƒ½æ‰§è¡ŒæˆåŠŸåè¿™ä¸ª stage é˜¶æ®µæ‰é€šè¿‡ï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€é˜¶æ®µï¼Œå¦åˆ™æ„å»ºä»»åŠ¡å¤±è´¥ã€‚</p><p><a name="6NYlZ"></a></p><h4 id="Runner"><a href="#Runner" class="headerlink" title="Runner"></a>Runner</h4><p>jobs éœ€è¦ runner å»æ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ gitlab æä¾›çš„ runner å»æ‰§è¡Œæˆ‘ä»¬çš„ jobï¼Œ ä¹Ÿå¯ä»¥è‡ªå·±æ³¨å†Œï¼Œæ³¨å†Œæ—¶å¯ä»¥è¿›è¡Œä¸€äº›é…ç½®ï¼ŒæˆåŠŸæ³¨å†Œåä¹Ÿå¯ä»¥å» tomal é…ç½®æ–‡ä»¶é‡Œä¿®æ”¹ä¹‹å‰çš„é…ç½®ã€‚åœ¨ job ä¸­å¯ä»¥æŒ‡å®š tag å»å¯¹åº” tag çš„ runner ä¸Šæ‰§è¡Œï¼Œ runner ä¹Ÿå¯ä»¥é…ç½®æ¥æ”¶æ‰€æœ‰ tag çš„ jobã€‚</p><p><a name="cCKin"></a></p><h4 id="gitlab-ci-yml"><a href="#gitlab-ci-yml" class="headerlink" title=".gitlab-ci.yml"></a>.gitlab-ci.yml</h4><p>è¿™ä¸ªæ–‡ä»¶æ¥é…ç½®æˆ‘ä»¬æ„å»ºè¿‡ç¨‹ï¼Œé…ç½®æˆåŠŸåï¼Œå†æ¬¡ pushã€merge ç­‰æ“ä½œåªè¦è§¦å‘äº†åœ¨ job ä¸­é…ç½®çš„äº‹ä»¶ï¼Œå°±ä¼šå» runner ä¸Šæ‰§è¡Œå¯¹åº”çš„ job è„šæœ¬ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> æŠ€æœ¯åšæ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªåŠ¨åŒ–éƒ¨ç½²ä¼˜åŒ–</title>
      <link href="/2019/05/22/%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2%E4%BC%98%E5%8C%96/"/>
      <url>/2019/05/22/%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<p>ç°åœ¨æˆ‘æ­£åœ¨åšçš„é¡¹ç›®ä½¿ç”¨äº† webhook è¿›è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œæ¯å½“ testing åˆ†æ”¯æœ‰ push æˆ–è€… merger request è¢«åˆå¹¶è¿›å»ï¼Œå°±ä¼šè§¦å‘æˆ‘ä»¬çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚<br>å¤§ä½“å®ç°å°±æ˜¯é€šè¿‡ gitlab æä¾›çš„ webhook æœåŠ¡ï¼Œé…ç½®ä¸‹ç›‘å¬ push æˆ–è€… merge request äº‹ä»¶çš„ urlï¼ˆä¸€ä¸ªæœåŠ¡åœ°å€), ç”±äº merge request åˆ†ä¸ºä¸‰ç§çŠ¶æ€ created/updated/merged ï¼Œæˆ‘ä»¬åªåœ¨ merged æ—¶è¿›è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚å½“æ”¶åˆ° gitlab å‘æ¥çš„è¯·æ±‚ï¼Œæˆ‘ä»¬ä¼šåœ¨æµ‹è¯•äº‘ä¸»æœºå¼€å¯æœåŠ¡è¿›è¡Œæ¥æ”¶å¤„ç†ï¼Œè¿›è¡Œä¸€äº›è¯·æ±‚æ ¡éªŒåè¿›è¡Œæ‰“åŒ…ã€éƒ¨ç½²ã€‚æ‰“åŒ…æ˜¯åŸºäºæˆ‘ä»¬åœ¨æµ‹è¯•äº‘ä¸»æœºä¸Šæœ‰å½“å‰é¡¹ç›®çš„ git ä»“åº“ï¼Œæ‰“åŒ…æ—¶ä¼šé‡æ–°æ‹‰ä¸‹æœ€æ–°çš„ä»£ç ï¼Œä¹‹åè¿›è¡Œæ‰“åŒ…æ“ä½œã€‚<br><a id="more"></a><br>ä½†æ˜¯å…¬å¸çš„é¡¹ç›®æ˜¯éƒ¨ç½²åœ¨ç§æœ‰çš„ gitlab ä¸Šï¼Œè¿™å°±éœ€è¦è¿æ¥ vpn è®¿é—®é¡¹ç›®åœ°å€ã€‚ä¸ºäº†å®‰å…¨é—®é¢˜ï¼Œæ²¡ä¸‰ä¸ªæœˆå¿…é¡»æ›´æ¢ä¸‹è‡ªå·±çš„å¯†ç ï¼Œç»å¸¸ä¼šå‡ºç°æ›´æ¢äº†å¯†ç å¿˜è®°å»æœºå™¨ä¸Šæ›´æ¢çš„æƒ…å†µï¼Œå¯¼è‡´åˆå¹¶ mr åæ²¡æœ‰è¿›è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œé”™è¿‡äº†ä¸€æ¬¡ webhook è¯·æ±‚ï¼Œåªæœ‰æ‰‹åŠ¨å»æ‰“åŒ…éƒ¨ç½²äº†ï¼Œæœ€ä¸»è¦æ˜¯åˆå¹¶ mr ä¹‹åä»¥ä¸ºå·²ç»æ­£å¸¸éƒ¨ç½²äº†ï¼Œç­‰åˆ°å‘ç°å‡ºé”™äº†å·²ç»æ˜¯å¥½å‡ ä¸ªå°æ—¶ä¹‹åäº†ã€‚ã€‚ã€‚<br>å‘ç°è¿™ä¸ªå°é—®é¢˜åï¼Œæˆ‘ä¼˜åŒ–äº†ä¸‹ä¹‹å‰çš„ä»£ç ï¼Œå°†æˆ‘ä»¬çš„ vpn ç”¨æˆ·åå’Œå¯†ç é€šè¿‡ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œç»´æŠ¤ï¼Œå¤§ä½“ç±»ä¼¼è¿™æ ·</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vpn_account_config.js</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = [</span><br><span class="line">  [userName, passwd],</span><br><span class="line">  [userName1, passwd1],</span><br><span class="line">  [userName2, passwd2],</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>ç”±äºæ¢å¯†ç é€šå¸¸ä¹Ÿå°±å›ºå®šçš„å‡ ä¸ªå¯†ç è¿›è¡Œåˆ‡æ¢ï¼Œæ‰€ä»¥è¿™ä¸ªæ•°ç»„å…ƒç´ ä¹Ÿä¸ä¼šå¾ˆå¤šã€‚<br>å½“æ”¶åˆ° webhook è¯·æ±‚ï¼Œå¹¶ä¸”æ ¡éªŒé€šè¿‡åï¼Œæˆ‘å…ˆè¿›è¡Œä¸€ä¸‹ checkVpn æ“ä½œï¼Œå…·ä½“å®ç°å°±æ˜¯ä½¿ç”¨äº† node çš„ dns æ¨¡å—ï¼ŒæŸ¥æ‰¾æˆ‘ä»¬ gitlab åŸŸåå¯¹åº”çš„ ip,æŸ¥æ‰¾å¤±è´¥ï¼Œå°±åœ¨æ—¥å¿—é‡Œæç¤ºâ€œæœªé…ç½® hostâ€ï¼ŒæŸ¥æ‰¾åˆ°åä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ â€œnet-pingâ€è¿›è¡Œping ipæ“ä½œï¼Œping æˆåŠŸåæ‰§è¡Œä¸ä¹‹å‰ç›¸åŒçš„é€»è¾‘ï¼Œå¤±è´¥åè¿›è¡Œ changePasswdï¼Œä»æˆ‘ä»¬ç»´æŠ¤çš„è´¦å·å¯†ç æ•°ç»„é‡Œï¼ˆvpn_account_config.jsï¼‰æŒ‰é¡ºåºå–å‡ºä¸€ç»„ï¼Œå†™åˆ° passwd.txt(vpn è¿æ¥æ—¶çš„è´¦å·æ–‡ä»¶)ï¼Œå¦‚æœå–å‡ºçš„è¿™ç»„ passwd.txt å·²ç»å­˜åœ¨ï¼Œåˆ™è·³è¿‡ç»§ç»­å–ä¸‹ä¸€ç»„å†™å…¥åˆ°æ–‡ä»¶ï¼Œå†™å…¥å®Œæˆåé‡å¯ vpnï¼Œç»§ç»­è¿›è¡ŒcheckVpn æ“ä½œï¼Œå¾ªç¯å¾€å¤ï¼Œç›´åˆ°è¿æ¥æˆåŠŸæˆ–è€…ç»´æŠ¤çš„è´¦å·å¯†ç éƒ½æ— æ³•è¿æ¥æˆåŠŸåé€€å‡ºã€‚è¿æ¥æˆåŠŸåˆ™è¿›è¡Œè¿›è¡Œä¹‹å‰çš„é€»è¾‘ï¼ˆæ‰“åŒ…ã€éƒ¨ç½²ç­‰ï¼‰ï¼Œå¤±è´¥åˆ™è¿›è¡Œæç¤ºâ€œéœ€è¦æ‰‹åŠ¨æ›´æ¢å¯†ç è¿æ¥ vpnâ€ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> æŠ€æœ¯åšæ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitåœºæ™¯</title>
      <link href="/2019/05/16/git%E5%9C%BA%E6%99%AF/"/>
      <url>/2019/05/16/git%E5%9C%BA%E6%99%AF/</url>
      
        <content type="html"><![CDATA[<p><a name="GVqhA"></a></p><h4 id="1-Scene-One"><a href="#1-Scene-One" class="headerlink" title="1. Scene One"></a>1. Scene One</h4><p>ä¸€ä¸ª mr é‡Œæ—¢æœ‰è¿™æ¬¡å‘ç‰ˆçš„å†…å®¹ï¼Œåˆæœ‰ä¸‹æ¬¡å‘ç‰ˆçš„å†…å®¹ï¼Œéœ€è¦å°†ä¸‹æ¬¡å‘ç‰ˆçš„å†…å®¹ä» mr ä¸­ç§»é™¤ã€‚<br>é¦–å…ˆå°†ä¸éœ€è¦æäº¤åˆ° mr çš„å†…å®¹ git cherry-pick åˆ°ä¸€ä¸ªå•ç‹¬çš„åˆ†æ”¯ï¼Œç„¶åæ‰§è¡Œ git rebase æ“ä½œå°†ä¸åœ¨æœ¬æ¬¡å‘ç‰ˆä¸­çš„å†…å®¹ drop æ‰ï¼Œä¹‹åå†é‡æ–°æäº¤åˆ†æ”¯<br><a id="more"></a></p>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šæ·±å…¥æµ…å‡º webpackã€‹è¯»ä¹¦ç¬”è®°</title>
      <link href="/2019/05/05/%E3%80%8A%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%20webpack%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
      <url>/2019/05/05/%E3%80%8A%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%20webpack%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸»è¦è®°å½•ä¸‹åœ¨çœ‹è¿™æœ¬ä¹¦æ—¶çš„æ‰€æ„Ÿæ‰€æƒ³ï¼Œå¯èƒ½å­˜åœ¨è¯¸å¤šé”™è¯¯ï¼Œæ…¢æ…¢æ›´æ­£ã€‚</p><p><a name="AjMdu"></a></p><h3 id="ç¬¬ä¸€ç« -å…¥é—¨"><a href="#ç¬¬ä¸€ç« -å…¥é—¨" class="headerlink" title="ç¬¬ä¸€ç«  å…¥é—¨"></a>ç¬¬ä¸€ç«  å…¥é—¨</h3><p><a name="8vrzF"></a></p><h4 id="ä¸€ã€loader-ä½¿ç”¨æ–¹å¼"><a href="#ä¸€ã€loader-ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä¸€ã€loader ä½¿ç”¨æ–¹å¼"></a>ä¸€ã€loader ä½¿ç”¨æ–¹å¼</h4><ol><li>å¯ä»¥å®šä¹‰åœ¨ webpack çš„é…ç½®æ–‡ä»¶ä¸­</li><li>å¯ä»¥åœ¨å¼•å…¥æ¨¡å—æ—¶æŒ‡å®š loader ï¼ˆè¿™ç§æ–¹å¼å‡ ä¹ä¸ç”¨ï¼‰</li></ol><p>ä¾‹ï¼šimport â€˜style-loader!css-loader?minimize!./css/main.cssâ€™;<br>æ³¨: loader çš„æ‰§è¡Œé¡ºåºä¸ºç”±ååˆ°å‰<br><a id="more"></a><br><a name="JbfFL"></a></p><h4 id="äºŒã€loader-çš„é…ç½®æ–¹å¼"><a href="#äºŒã€loader-çš„é…ç½®æ–¹å¼" class="headerlink" title="äºŒã€loader çš„é…ç½®æ–¹å¼"></a>äºŒã€loader çš„é…ç½®æ–¹å¼</h4><ol><li>é€šè¿‡ url query string ä¼ å‚ </li></ol><p>!css-loader?minimize</p><ol start="2"><li>é€šè¿‡å¯¹è±¡</li></ol><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">use: ['style-loader', &#123;</span><br><span class="line"> loader: 'css-loader',</span><br><span class="line">  options: &#123;</span><br><span class="line">    minimize: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure><p><a name="PrFZf"></a></p><h4 id="ä¸‰ã€style-loader-æ‰§è¡ŒåŸç†"><a href="#ä¸‰ã€style-loader-æ‰§è¡ŒåŸç†" class="headerlink" title="ä¸‰ã€style-loader æ‰§è¡ŒåŸç†"></a>ä¸‰ã€style-loader æ‰§è¡ŒåŸç†</h4><p>å°† css ç”¨ js çš„å­—ç¬¦ä¸²å­˜å‚¨èµ·æ¥ï¼Œå½“é¡µé¢æ¸²æŸ“çš„æ—¶å€™ï¼ŒåŠ¨æ€å‘ html çš„ head é‡Œ æ·»åŠ  style æ ‡ç­¾ï¼ˆæ ‡ç­¾ä¸ªæ•°ç”±css æ–‡ä»¶ä¸ªæ•°å†³å®šï¼‰<br><a name="ITBtJ"></a></p><h4 id="å››ã€é€šè¿‡-mini-css-extract-plugin-æ‰“åŒ…-css-åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­"><a href="#å››ã€é€šè¿‡-mini-css-extract-plugin-æ‰“åŒ…-css-åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­" class="headerlink" title="å››ã€é€šè¿‡ mini-css-extract-plugin æ‰“åŒ… css åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­"></a>å››ã€é€šè¿‡ mini-css-extract-plugin æ‰“åŒ… css åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­</h4><p><a name="CZyJh"></a></p><h4 id="äº”ã€webpack-dev-server"><a href="#äº”ã€webpack-dev-server" class="headerlink" title="äº”ã€webpack-dev-server"></a>äº”ã€webpack-dev-server</h4><p>å¯åŠ¨æœåŠ¡åï¼Œwebpack æ„å»ºåçš„æ–‡ä»¶ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå…¶å®æ„å»ºçš„æ–‡ä»¶çš„ä¿å­˜è·¯å¾„å—åˆ° devServer.publicPath çš„å½±å“ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜å—åˆ° output.publicPath çš„å½±å“ï¼Œå…·ä½“å…³ç³»å¯ä»¥ç”¨ä»¥ä¸‹è¡¨è¾¾å¼è¡¨ç¤ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ„å»ºæ–‡ä»¶ä¿å­˜è·¯å¾„ = devServer.publicPath ï¼ŸdevServer.publicPath : (output.publicPath || <span class="string">'/'</span>)</span><br></pre></td></tr></table></figure><p>devServer.publicPath ä¼˜å…ˆçº§æœ€é«˜ï¼Œåœ¨ devServer.publicPath æœªè®¾ç½®çš„æƒ…å†µä¸‹ï¼Œ è‹¥è®¾ç½®äº† output.publicPathï¼Œåˆ™æ„å»ºæ–‡ä»¶ä¿å­˜è·¯å¾„ä¸ output.publicPath ä¸€è‡´ï¼ˆå³ devServer.publicPath ç­‰äº output.publicPathï¼‰ï¼Œå¦åˆ™é»˜è®¤ä¸º â€˜/â€˜, è‹¥è®¾ç½®äº† devServer.publicPathï¼Œåˆ™æŒ‰ç…§ devServer.publicPath è¿›è¡Œä¿å­˜ã€‚<br>æ‰€ä»¥åœ¨ index.html å¼•å…¥æ„å»ºåçš„æ–‡ä»¶æ—¶ï¼Œéœ€è¦æ ¹æ®ä»¥ä¸Šæ¡ä»¶å¡«å†™è·¯å¾„ã€‚ä¹Ÿå¯ä»¥è®¿é—® æœåŠ¡åœ°å€/webpack-dev-server ç‚¹å‡»æŸ¥çœ‹æ–‡ä»¶çš„å®é™…ä¿å­˜è·¯å¾„,</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1557741079153-7ef5ce4a-4972-427a-9e0f-44be2b7101c3.png#align=left&display=inline&height=99&name=image.png&originHeight=118&originWidth=465&size=19673&status=done&width=390" alt="image.png"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å›å®¶</title>
      <link href="/2019/05/05/%E5%9B%9E%E5%AE%B6/"/>
      <url>/2019/05/05/%E5%9B%9E%E5%AE%B6/</url>
      
        <content type="html"><![CDATA[<p>å‰ä¸ä¹…ï¼Œä¸€ä¸ªæ‰“å°å°±æ˜¯å¥½æœ‹å‹çš„çˆ¶äº²è¿‡ä¸–äº†ï¼Œè¿™ä¸ªæ¶ˆæ¯å½»å½»åº•åº•åœ°æŠŠæˆ‘æƒŠä½äº†ã€‚å› ä¸ºå°±åœ¨å»å¹´æ˜¥èŠ‚æˆ‘å»ä»–å®¶ç©çš„æ—¶å€™ï¼Œå”å”è¿˜å¥½å¥½çš„ï¼Œæ²¡æƒ³åˆ°åˆšåˆšå‡ ä¸ªæœˆçš„æ—¶é—´ï¼Œå”å”ç«Ÿç„¶å› ä¸ºè„‘å‡ºè¡€ç¦»ä¸–äº†ã€‚<br>è¿™è®©æˆ‘æ·±æ·±çš„ä½“ä¼šåˆ°äº†ä¸–äº‹çš„æ— å¸¸ã€‚æˆ‘ä»¬åœ¨å‘½è¿é¢å‰ï¼Œæ˜¾å¾—å¦‚æ­¤çš„å¼±å°ã€æ— åŠ›ã€‚è°ä¹Ÿè¯´ä¸å¥½æ˜å¤©ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œå”¯ä¸€èƒ½åšçš„å°±æ˜¯çæƒœæ¯ä¸€å¤©ã€‚<a id="more"></a></p><p>æœ¬æ¥æ‰“ç®—äº”ä¸€å»è¿™å»é‚£ç©çš„æˆ‘å†³å®šå’Œå¯¹è±¡ä¸€èµ·å›æˆ‘å®¶ã€‚çˆ¸çˆ¸ä¹Ÿç‰¹åœ°è¯·å‡å›å®¶å¾…ä¸¤å¤©ï¼ˆçˆ¸çˆ¸åœ¨å·¥åœ°å¹²æ´»ï¼ŒèŠ‚å‡æ—¥ä¹Ÿæ˜¯ä¸æ”¾å‡çš„ï¼‰ã€‚åˆšèµ°è¿‘å®¶é—¨ï¼Œå°±é—»åˆ°äº†æµ“æµ“çš„é¥­é¦™ï¼Œçˆ¸å¦ˆè‚¯å®šæ—©æ—©å‡†å¤‡å¥½äº†é¥­èœç­‰å¾…æˆ‘ä»¬äº†ã€‚é¦–å…ˆè§åˆ°çš„æ˜¯å¦ˆå¦ˆï¼Œå¥¹æ˜¾å¾—æ†”æ‚´ç˜¦å¼±äº†å¾ˆå¤šï¼Œå¬å¦ˆå¦ˆè¯´å¥¹æœ€è¿‘ä¸¤å¤©ä¸èˆ’æœï¼Œåƒä¸ä¸‹é¥­ï¼Œç°åœ¨å¥½å¤šäº†ã€‚ç„¶åè§åˆ°äº†çˆ¸çˆ¸ï¼Œåˆé»‘åˆç˜¦ã€‚çˆ¸çˆ¸å·²ç»å¹´è¿‘å…­åï¼Œä½†æ˜¯ä»ç„¶ç‰¹åˆ«è¦å¼ºï¼Œæˆ‘æè¿‡å¥½å‡ æ¬¡è¯´æˆ‘å·²ç»é•¿å¤§äº†ï¼Œå¯ä»¥å…»æ´»è‡ªå·±äº†ï¼Œæ‚¨ä¸éœ€è¦å†é‚£ä¹ˆè¾›è‹¦äº†ï¼Œ è€Œçˆ¸çˆ¸æ€»æ˜¯ç¬‘ç€è¯´ï¼Œæ²¡äº‹å„¿ï¼Œæˆ‘å¹²çš„æ´»ä¸ç´¯ã€‚å› ä¸ºæ”¾å‡ï¼Œå§å§å§å¤«å’Œå°å¤–ç”¥ä¹Ÿå’Œæˆ‘ä»¬ä¸€å—å›å®¶æ¥äº†ï¼Œæ¥ç€æˆ‘ä»¬æ¬¢æ¬¢ä¹ä¹çš„åƒäº†ä¸ªå¤§å›¢åœ†é¥­ï¼Œå……æ»¡äº†å®¶çš„æ¸©æš–ã€‚</p><p>åƒè¿‡é¥­ï¼Œæˆ‘ä»¬æ¥åˆ°ç”°é‡é—´æ•£æ­¥ï¼Œçœ¼å‰æ˜¯ä¸€ç‰‡ç»¿è‰²æµ·æ´‹ï¼Œ å¤§ç‰‡çš„éº¦ç”°ï¼Œé£ä¸­å¤¹æ‚ç€éº¦é¦™ï¼Œæ·±å¸ä¸€å£æ°”ï¼Œå“‡ï¼Œå®¶ä¹¡çš„ç©ºæ°”çœŸå¥½å•Šï¼Œæ²¡æœ‰æ±½è½¦çš„å˜ˆæ‚å£°ã€æ²¡æœ‰é›¾éœ¾ï¼Œåªå‰©ä¸‹é¸Ÿè¯­èŠ±é¦™ï¼Œéº¦æµªæ»šæ»šï¼Œå®é™è€Œç¥¥å’Œã€‚</p><p>æ¥ä¸‹æ¥çš„å‡ å¤©ï¼Œå·®ä¸å¤šéƒ½æ˜¯è¿™æ ·åº¦è¿‡ï¼Œä¸€èµ·åƒåƒé¥­ã€ä¸€èµ·çœ‹çœ‹ç”µè§†ã€ä¸€èµ·å‡ºé—¨æºœæºœã€ä¸€èµ·èµ¶èµ¶é›†ã€é€›é€›è¶…å¸‚ï¼Œé‡å¤ä½†ä¸å•è°ƒï¼Œç®€å•ä½†å¾ˆå¹¸ç¦ã€‚</p><p>å‡æœŸè½¬çœ¼å·²ç»åˆ°äº†å°¾å£°ï¼Œå¦ˆå¦ˆçš„èº«ä½“ä¹Ÿå˜å¥½äº†ï¼Œå¯èƒ½æ˜¯å› ä¸ºå„¿å¥³ä»¬éƒ½åœ¨å®¶ï¼Œå¿ƒæƒ…å¥½çš„åŸå› å§å“ˆå“ˆã€‚åˆ†åˆ«çš„æ—©ä¸Šï¼Œé¥­æ¡Œä¸Šå¦ˆå¦ˆå’Œçˆ¸çˆ¸è¿˜æ˜¯ä¸åœåœ°å” å¨ï¼ˆå˜±å’ï¼‰æˆ‘ï¼Œåœ¨å¤–åƒå¥½ç©¿å¥½ï¼Œåˆ«èˆä¸å¾—èŠ±é’±ï¼Œæ³¨æ„äººèº«å®‰å…¨ï¼Œå¤šè¿åŠ¨å¤šé”»ç‚¼â€¦â€¦å”‰ï¼Œæ¯æ¬¡éƒ½æ˜¯è¿™æ ·ğŸ˜‚ï¼Œä¸ç®¡å¤šå¤§ï¼Œåœ¨çˆ¶æ¯çœ¼ä¸­ï¼Œæˆ‘ä»¬æ°¸è¿œæ˜¯é•¿ä¸å¤§å°å­©å„¿ã€‚</p><p>ååœ¨å›åŒ—äº¬çš„ç«è½¦ä¸Šï¼Œå¿ƒé‡Œæ„Ÿåˆ°ä¸èˆï¼Œå¤šæƒ³ä¸€ç›´å¾…åœ¨å®¶é‡Œå•Šã€‚å› ä¸ºå­¦ä¹ å’Œå·¥ä½œçš„åŸå› ï¼Œæˆ‘ä»¬èƒ½é™ªä¼´çˆ¶æ¯çš„æ—¶é—´è¶Šæ¥è¶Šå°‘äº†ï¼Œæ”¾å‡æœ‰æ—¶é—´è¿˜æ˜¯å°½é‡å¤šå›å®¶å›¢åœ†å›¢åœ†å§ï¼</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç”Ÿæ´» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®°ä¸€æ¬¡ä¾èµ–å¾ªç¯å¼•ç”¨</title>
      <link href="/2019/04/17/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BE%9D%E8%B5%96%E5%BE%AA%E7%8E%AF%E5%BC%95%E7%94%A8/"/>
      <url>/2019/04/17/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BE%9D%E8%B5%96%E5%BE%AA%E7%8E%AF%E5%BC%95%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p><a name="b7014211"></a></p><h4 id="å‘ç°æŠ¥é”™"><a href="#å‘ç°æŠ¥é”™" class="headerlink" title="å‘ç°æŠ¥é”™"></a>å‘ç°æŠ¥é”™</h4><p>åœ¨é¡¹ç›®å‡çº§äº†ä¾èµ–åŒ…åï¼Œå‡ºç°äº† eslint æŠ¥å¦‚ä¸‹é”™è¯¯ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1555494977280-1850e41c-1127-40e5-9b51-774d2d0f6417.png#align=left&display=inline&height=210&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-17%20%E4%B8%8B%E5%8D%8812.28.05.png&originHeight=430&originWidth=943&size=76121&status=done&width=460" alt="å±å¹•å¿«ç…§ 2019-04-17 ä¸‹åˆ12.28.05.png"></p><p>å¥‡æ€ªå•Šï¼Œä¹‹å‰ä¹Ÿæœ‰ eslint, å®Œå…¨æ²¡æœ‰è¿™ä¸ªæŠ¥é”™å•Šï¼Ÿæ€€ç–‘æ˜¯ä¹‹å‰ eslint ç‰ˆæœ¬å¤ªä½çš„åŸå› ï¼Œå¯¼è‡´è¿˜æ²¡è¿›è¡Œä¾èµ–å¾ªç¯å¼•ç”¨çš„ lint. åœ¨ eslint no-circle è§„åˆ™çš„æ–‡æ¡£é‡Œæœ‰å¾ªç¯å¼•ç”¨çš„ç¤ºä¾‹ã€‚<br><a id="more"></a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dep-b.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./dep-a.js'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// dep-a.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; b &#125; <span class="keyword">from</span> <span class="string">'./dep-b.js'</span> <span class="comment">// reported: Dependency cycle detected.</span></span><br></pre></td></tr></table></figure><p>ä¸¤ä¸ªæ–‡ä»¶ç›¸äº’å¼•ç”¨å°±ä¼šæŠ¥   <code>// reported: Dependency cycle detected.</code><br><br><a name="9e473a65"></a></p><h4 id="æ ¹æ®æŠ¥é”™å¯»æ‰¾å‡ºé”™ç‚¹"><a href="#æ ¹æ®æŠ¥é”™å¯»æ‰¾å‡ºé”™ç‚¹" class="headerlink" title="æ ¹æ®æŠ¥é”™å¯»æ‰¾å‡ºé”™ç‚¹"></a>æ ¹æ®æŠ¥é”™å¯»æ‰¾å‡ºé”™ç‚¹</h4><p>æ ¹æ® eslint çš„æŠ¥é”™ï¼Œå‘ç°å¤§å¤šæ•°æŠ¥é”™é›†ä¸­åœ¨ index.js æ–‡ä»¶ã€‚é¡¹ç›®ä¸­çš„ index.js æ–‡ä»¶å¤§éƒ¨åˆ†ä½œç”¨æ˜¯å°†ä»£ç é›†ä¸­å¯¼å‡ºï¼Œæ–¹ä¾¿å¼•å…¥ã€‚<br>ç»§ç»­è·Ÿè¿›ï¼Œæ ¹æ® index.js æŠ¥é”™çš„è¡Œæ•°ï¼Œè¿›å…¥å…·ä½“æ–‡ä»¶æŸ¥çœ‹, ç»ˆäºå‘ç°äº†é—®é¢˜ã€‚<br>æˆ‘ä»¬çš„ç»„ä»¶éƒ½æ”¾åˆ°äº† components ç›®å½•ä¸‹ï¼Œç„¶å components ä¸‹çš„ index.js é‡Œå°†æ‰€æœ‰ç»„ä»¶å¼•å…¥å¹¶å¯¼å‡ºï¼ŒåŒæ—¶ åœ¨ webpack é…ç½®æ–‡ä»¶é‡Œå¯¹ components ç›®å½•èµ·äº†åˆ«åï¼Œä»¥åå…¶ä»–æ–‡ä»¶ç”¨åˆ°æŸå‡ ä¸ªç»„ä»¶çš„è¯ï¼Œå¯ä»¥ç±»ä¼¼ä¸‹é¢è¿™æ ·å¼•å…¥ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Button, Table, Form &#125; <span class="keyword">from</span> <span class="string">'components'</span>;</span><br></pre></td></tr></table></figure><p>ç®€åŒ–äº†å†™è·¯å¾„çš„éº»çƒ¦ã€‚<br>ä½†æ˜¯ï¼Œåœ¨ components ä¸‹çš„ç»„ä»¶é‡Œï¼Œæˆ‘å‘ç°ä¹Ÿæœ‰ç›´æ¥ä» components æ ¹ç›®å½• index.js æ–‡ä»¶é‡Œå¼•å…¶ä»–ç»„ä»¶çš„ï¼Œ<br>æ¯”å¦‚ Table ç»„ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Toolbar &#125; <span class="keyword">from</span> <span class="string">'../../'</span>;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±é€ æˆäº†å¾ªç¯å¼•ç”¨ï¼ŒTable å¼• index.jsï¼Œ index.js å¼•å…¥Tableã€‚<br>æ‰¾åˆ°åŸå› ï¼Œäºæ˜¯è¿›è¡Œä¸€é€šå¤§æ”¹ï¼ŒæŠŠç±»ä¼¼çš„æ”¹æˆå¦‚ä¸‹æ ¼å¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Toolbar &#125; <span class="keyword">from</span> <span class="string">'./Toolbar'</span>;</span><br></pre></td></tr></table></figure><p>å¼•å…¥æ—¶ç›´æ¥å¼•å…¥æ‰€éœ€ç»„ä»¶ç›®å½•ï¼Œè¿™æ ·é¿å…äº†ç›¸äº’å¼•ç”¨ã€‚<br><a name="520f9e6c"></a></p><h4 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h4><p>æ”¹å®Œåï¼Œå‘ç°æŠ¥é”™æ¶ˆå¤±äº†ã€‚è™½ç„¶é¡¹ç›®ç›¸äº’å¼•ç”¨æ²¡æœ‰å¯¼è‡´é¡µé¢å´©æºƒï¼Œä½†æ˜¯åº”è¯¥é¿å…å‡ºç°ï¼Œé˜²æ­¢å‡ºç°æ„å¤–çš„ bugã€‚<br>ç›¸äº’å¼•ç”¨ç±»ä¼¼é€’å½’ï¼Œå¦‚æœæ— é™å¾ªç¯çš„è¯ä¼šå¯¼è‡´é¡µé¢å´©æºƒï¼Œå†…å­˜æº¢å‡ºã€‚</p><p><a name="20a6503f"></a></p><h4 id="ç›¸äº’å¼•ç”¨å°æ —å­"><a href="#ç›¸äº’å¼•ç”¨å°æ —å­" class="headerlink" title="ç›¸äº’å¼•ç”¨å°æ —å­"></a>ç›¸äº’å¼•ç”¨å°æ —å­</h4><p>åœ¨ç½‘ä¸Šçœ‹åˆ°ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œå¹¶è¿›è¡Œäº†æ”¹é€ ã€‚</p><p>event.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; odd &#125; <span class="keyword">from</span> <span class="string">'./odd'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> obj = &#123;</span><br><span class="line">  counter: <span class="number">0</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">even</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  obj.counter++;</span><br><span class="line">  n !== <span class="number">0</span> &amp;&amp; odd(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>odd.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; even, obj &#125; <span class="keyword">from</span> <span class="string">'./even'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">odd</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  obj.counter++;</span><br><span class="line">  n != <span class="number">0</span> &amp;&amp; even(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>test.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; even, obj &#125; <span class="keyword">from</span> <span class="string">'./even.js'</span>;</span><br><span class="line"></span><br><span class="line">even(<span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'counter result:'</span>, obj.counter);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œeven æ–‡ä»¶å¼•ç”¨äº† odd æ–‡ä»¶ï¼Œ odd æ–‡ä»¶åŒæ—¶å¼•ç”¨äº† even æ–‡ä»¶ï¼Œå­˜åœ¨ç€å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚<br>åœ¨ test.js è¿™ä¸ªæµ‹è¯•æ–‡ä»¶ä¸­ï¼Œ æˆ‘ä»¬å¼•å…¥ even.js è¿›è¡Œæµ‹è¯•ï¼Œå‘ even æ–¹æ³•ä¼ å…¥å‚æ•° 10ï¼Œå½“æ‰§è¡Œ even æ—¶ï¼Œè®¡æ•°å™¨ counter è‡ªåŠ ï¼Œè‹¥ n å¤§äºé›¶ä¼š æ‰§è¡Œ odd æ–¹æ³•å¹¶ä¼ å…¥å‚æ•° n-1, åŒç†ï¼Œ å½“æ‰§è¡Œ odd æ—¶, è®¡æ•°å™¨ counter è‡ªåŠ , ä¼ å…¥çš„å‚æ•°å¦‚æœå¤§äº 0ï¼Œä¼šè°ƒç”¨ even æ–¹æ³•å¹¶ä¼ å…¥å‚æ•° n - 1ã€‚è¿™æ ·å¾ªç¯é€’å½’è°ƒç”¨ï¼Œç›´åˆ° n å˜ä¸º 0 æˆªæ­¢ã€‚<br>é‚£ä¹ˆæˆ‘ä»¬å¯èƒ½ä¼šæœ‰ç–‘é—®ï¼Œè¿™æ ·å¾ªç¯å¼•ç”¨ï¼Œjs èƒ½é¡ºåˆ©æ‰§è¡Œå—? å‡è®¾èƒ½é¡ºåˆ©æ‰§è¡Œçš„è¯ï¼Œodd.js ä¸­èƒ½æ”¹å˜ even.js æ–‡ä»¶ä¸­çš„è®¡æ•°å™¨å—? æœ€åè¾“å‡ºçš„ counter, æ˜¯åªåœ¨ even æ–‡ä»¶ä¸­è‡ªåŠ çš„ç»“æœè¿˜æ˜¯ä¸¤ä¸ªæ–‡ä»¶å…±åŒè‡ªåŠ çš„ç»“æœï¼Ÿ<br>æ¥ä¸‹æ¥ï¼Œ æˆ‘ä»¬çœ‹ä¸‹æµ‹è¯•ç»“æœ:<br><br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1555662967828-a0d5f4fe-64da-42df-8620-0f7d4d370230.png#align=left&display=inline&height=78&name=image.png&originHeight=118&originWidth=588&size=15217&status=done&width=388" alt="image.png"></p><p>å¾ˆæ˜æ˜¾ï¼Œç¨‹åºé¡ºåˆ©æ‰§è¡Œï¼Œå¹¶ä¸” odd ç¡®å®æ”¹å˜äº† even æ–‡ä»¶å†…çš„è®¡æ•°å™¨å‚æ•°ã€‚<br><br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1555662806820-60adad1d-6e5a-46a4-8297-680c6989fe1e.png#align=left&display=inline&height=75&name=image.png&originHeight=122&originWidth=630&size=15691&status=done&width=386" alt="image.png"></p><p>é‚£ä¹ˆï¼Œ æˆ‘ä»¬åŒæ—¶æŠŠ even å’Œ odd æ–¹æ³•çš„ n == 0 è¿™ä¸ªåˆ¤æ–­æ¡ä»¶å»æ‰å‘¢ï¼Ÿ<br>å¯ä»¥æƒ³è±¡ï¼Œä¸¤ä¸ªæ–¹æ³•ä¼šæ— é™å¾ªç¯çš„ç›¸äº’è°ƒç”¨ä¸‹å»ã€‚<br><br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1555663452416-22910612-3a38-47d4-936a-880f71257e13.png#align=left&display=inline&height=88&name=image.png&originHeight=174&originWidth=770&size=29387&status=done&width=390" alt="image.png"></p><p>æ­£å¦‚æˆ‘ä»¬æ‰€é¢„æ–™çš„é‚£æ ·ã€‚</p><p>ä»ä¸­æˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºè‡³å°‘ä¸¤ä¸ªç»“è®ºï¼š</p><ul><li>ES6 æ¨¡å—çš„å¾ªç¯åŠ è½½ï¼Œå¦‚æœå­˜åœ¨ç€ç›¸äº’è°ƒç”¨ï¼Œä¸”å­˜åœ¨æˆªæ­¢æ¡ä»¶ï¼Œå¹¶ä¸ä¼šæ˜¯ç¨‹åºå´©æºƒã€‚ä½†æ˜¯ï¼Œå¦‚æœé€ æˆäº†æ— é™å¾ªç¯è°ƒç”¨ï¼Œä¼šä½¿å¾—ç¨‹åºå´©æºƒï¼Œå†…å­˜æº¢å‡ºã€‚</li><li>ES6 æ¨¡å—ï¼Œä½¿ç”¨ import å¼•å…¥æ—¶ï¼Œå…¶å®æ˜¯å»ºç«‹äº†ä¸æ¨¡å—ä¹‹é—´çš„å¼•ç”¨ï¼Œå½“ç”¨åˆ°å¼•å…¥çš„æ¨¡å—ä¸­çš„å˜é‡æ—¶ï¼Œå†å»æ¨¡å—é‡Œå–å€¼ã€‚</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> æŠ€æœ¯åšæ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js äº‹ä»¶æµ</title>
      <link href="/2019/04/08/js%20%E4%BA%8B%E4%BB%B6%E6%B5%81/"/>
      <url>/2019/04/08/js%20%E4%BA%8B%E4%BB%B6%E6%B5%81/</url>
      
        <content type="html"><![CDATA[<p>js äº‹ä»¶æµæ˜¯æŒ‡äº‹ä»¶åœ¨ dom ä¸­æµè½¬çš„é¡ºåºï¼ˆæˆ–è€…ä¼ æ’­è·¯å¾„ï¼‰ï¼Œäº‹ä»¶æµè½¬åˆ†ä¸ºä¸‰ä¸ªè¿‡ç¨‹ï¼Œæ•è·é˜¶æ®µ - ç›®æ ‡é˜¶æ®µ - å†’æ³¡é˜¶æ®µã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡å®è·µæ¢ç´¢ä¸‹äº‹ä»¶æµæœºåˆ¶ã€‚<br><a name="507829ed"></a></p><h4 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h4><p>é¦–å…ˆç”¨ html å’Œ css å®ç°å¦‚ä¸‹æ•ˆæœ<br><br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1554799009812-0da6e023-b092-4172-a55d-bd247c79a133.png#align=left&display=inline&height=217&name=image.png&originHeight=678&originWidth=678&size=18409&status=done&width=217" alt="image.png"></p><a id="more"></a><br>æ¥ç€æˆ‘ä»¬é€šè¿‡ js ä»£ç æ¥æ§åˆ¶äº‹ä»¶å›è°ƒæ‰§è¡Œçš„æ—¶æœº<ul><li>å›è°ƒåœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œ</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">msg</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(msg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å›è°ƒå†’æ³¡é˜¶æ®µæ‰§è¡Œ</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.wrapper'</span>).addEventListener(<span class="string">'click'</span>, () =&gt; log(<span class="string">'wraper'</span>), <span class="literal">false</span>);</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.outer'</span>).addEventListener(<span class="string">'click'</span>, () =&gt; log(<span class="string">'outer'</span>), <span class="literal">false</span>);</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.inner'</span>).addEventListener(<span class="string">'click'</span>, () =&gt; log(<span class="string">'inner'</span>), <span class="literal">false</span>);</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åˆ†åˆ«ç‚¹å‡»wrapperã€outerã€innerï¼ŒæŸ¥çœ‹æ‰“å°ç»“æœ</p><table><thead><tr><th>ç‚¹å‡»å¯¹è±¡</th><th>æ‰“å°ç»“æœ</th></tr></thead><tbody><tr><td>wrapper</td><td>wrapper</td></tr><tr><td>outer</td><td>outerã€wrapper</td></tr><tr><td>inner</td><td>innerã€outerã€wrapper</td></tr></tbody></table><p>ä»æ‰“å°ç»“æœæˆ‘ä»¬å¯ä»¥å¾—å‡ºå¦‚ä¸‹ç»“è®º:<br>å½“æˆ‘ä»¬ç‚¹å‡»æŸä¸ªèŠ‚ç‚¹æ—¶ï¼Œé¦–å…ˆæ‰“å°è¯¥èŠ‚ç‚¹çš„å†…å®¹ï¼Œç„¶åï¼Œä»è¯¥èŠ‚ç‚¹å¼€å§‹å‘ä¸Šå†’æ³¡ï¼Œè‹¥çˆ¶çº§ç›‘å¬äº†ç›¸åŒçš„äº‹ä»¶ï¼Œ é‚£ä¹ˆçˆ¶çº§å¯¹åº”çš„äº‹ä»¶å›è°ƒä¹Ÿä¼šæ‰§è¡Œï¼Œç›´åˆ° windowã€‚</p><ul><li>å›è°ƒåœ¨æ•è·é˜¶æ®µæ‰§è¡Œ</li></ul><p>æ¥ç€æˆ‘ä»¬æŠŠä¸Šé¢ js ä»£ç  addEventListener çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ”¹ä¸º trueï¼Œè®©å›è°ƒåœ¨æ•è·é˜¶æ®µæ‰§è¡Œï¼Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">msg</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(msg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å›è°ƒæ•è·é˜¶æ®µæ‰§è¡Œ</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.wrapper'</span>).addEventListener(<span class="string">'click'</span>, () =&gt; log(<span class="string">'wraper'</span>), <span class="literal">true</span>);</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.outer'</span>).addEventListener(<span class="string">'click'</span>, () =&gt; log(<span class="string">'outer'</span>), <span class="literal">true</span>);</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.inner'</span>).addEventListener(<span class="string">'click'</span>, () =&gt; log(<span class="string">'inner'</span>), <span class="literal">true</span>);</span><br></pre></td></tr></table></figure><p>ç„¶åå†æ¬¡åˆ†åˆ«ç‚¹å‡»wrapperã€outerã€innerï¼ŒæŸ¥çœ‹æ‰“å°ç»“æœ</p><table><thead><tr><th>ç‚¹å‡»å¯¹è±¡</th><th>æ‰“å°ç»“æœ</th></tr></thead><tbody><tr><td>wrapper</td><td>wrapper</td></tr><tr><td>outer</td><td>wrapperã€outer</td></tr><tr><td>inner</td><td>wrapperã€outerã€inner</td></tr></tbody></table><p>ä»è¿™æ¬¡çš„æ‰“å°ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼š<br>å½“æŸä¸ªèŠ‚ç‚¹è¢«ç‚¹å‡»æ—¶ï¼Œäº‹ä»¶æµä»é¡¶çº§ window ä¾æ¬¡å‘ä¸‹ä¼ æ’­ï¼Œè‹¥ä¼ æ’­åˆ°çš„èŠ‚ç‚¹ä¹Ÿç›‘å¬äº†ç›¸åŒçš„äº‹ä»¶ï¼Œé‚£ä¹ˆè¯¥äº‹ä»¶çš„å›è°ƒä¹Ÿä¼šæ‰§è¡Œï¼Œç›´åˆ°è¯¥ç‚¹å‡»èŠ‚ç‚¹ã€‚</p><ul><li>æ··åˆ</li></ul><p>ä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹æ›´å¤æ‚çš„æƒ…å†µ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">msg</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(msg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.wrapper'</span>).addEventListener(<span class="string">'click'</span>, () =&gt; log(<span class="string">'wraper one'</span>), <span class="literal">true</span>);</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.wrapper'</span>).addEventListener(<span class="string">'click'</span>, () =&gt; log(<span class="string">'wraper two'</span>), <span class="literal">false</span>);</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.outer'</span>).addEventListener(<span class="string">'click'</span>, () =&gt; log(<span class="string">'outer'</span>), <span class="literal">false</span>);</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.inner'</span>).addEventListener(<span class="string">'click'</span>, () =&gt; log(<span class="string">'inner'</span>), <span class="literal">true</span>);</span><br></pre></td></tr></table></figure><p>ä¾æ¬¡ç‚¹å‡»wrapperã€outerã€innerï¼Œ çœ‹ä¸‹æ‰“å°ç»“æœ</p><table><thead><tr><th>ç‚¹å‡»å¯¹è±¡</th><th>æ‰“å°ç»“æœ</th></tr></thead><tbody><tr><td>wrapper</td><td>wrapper oneã€wrapper two</td></tr><tr><td>outer</td><td>wrapper oneã€outerã€wrapper two</td></tr><tr><td>inner</td><td>wrapper oneã€innerã€outerã€wrapper two</td></tr></tbody></table><p>ç”±è¿™æ¬¡çš„æ‰“å°ç»“æœåŠä¹‹å‰çš„ç»“è®ºï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºæœ€ç»ˆçš„ç»“è®ºã€‚<br><a name="8c9d507e"></a></p><h4 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><p>äº‹ä»¶å›è°ƒçš„æ‰§è¡Œé¡ºåºæ˜¯æŒ‰ç…§äº‹ä»¶æµæ¥çš„ä¼ æ’­é¡ºåºæ‰§è¡Œçš„ï¼Œé¦–å…ˆæ˜¯æ•è·é˜¶æ®µï¼Œè‹¥ä»window åˆ° å½“å‰ç‚¹å‡»èŠ‚ç‚¹çš„æœ‰æ•è·é˜¶æ®µçš„ç›‘å¬å‡½æ•°ï¼Œåˆ™æŒ‰ç…§ä»é¡¶çº§ window åˆ°å½“å‰ç‚¹å‡»èŠ‚ç‚¹çš„ä¼ æ’­é¡ºåºæ‰§è¡Œå›è°ƒï¼Œæ¥ç€åˆ°è¾¾ç›®æ ‡é˜¶æ®µï¼Œå³æ‰§è¡Œå½“å‰ç‚¹å‡»èŠ‚ç‚¹çš„å›è°ƒï¼Œæœ€åæ˜¯å†’æ³¡é˜¶æ®µï¼Œè‹¥ä»å½“å‰èŠ‚ç‚¹åˆ°é¡¶çº§ window æœ‰å†’æ³¡é˜¶æ®µçš„ç›‘å¬å‡½æ•°ï¼Œåˆ™æŒ‰ç…§è¿™ä¸ªä¼ æ’­é¡ºåºæ‰§è¡Œå›è°ƒã€‚</p><p>æ³¨: äº‹ä»¶çš„ç›‘å¬èŠ‚ç‚¹å¯ä»¥çœ‹åšæ˜¯ç›®æ ‡é˜¶æ®µï¼Œè‹¥æ˜¯ä¸€ä¸ªèŠ‚ç‚¹æ—¢åœ¨æ•è·é˜¶æ®µåˆåœ¨å†’æ³¡é˜¶æ®µç›‘å¬äº†ç›¸åŒçš„äº‹ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹ä¸¤ä¸ªäº‹ä»¶å›è°ƒçš„æ‰§è¡Œé¡ºåºæŒ‰ç…§äº‹ä»¶çš„æ·»åŠ çš„é¡ºåºæ‰§è¡Œï¼ˆä¸åŒºåˆ†æ•è·é˜¶æ®µå’Œå†’æ³¡é˜¶æ®µï¼ŒåŒå±äºç›®æ ‡é˜¶æ®µï¼‰ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginxè´Ÿè½½å‡è¡¡åˆå®è·µ</title>
      <link href="/2019/04/02/nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%88%9D%E5%AE%9E%E8%B7%B5/"/>
      <url>/2019/04/02/nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%88%9D%E5%AE%9E%E8%B7%B5/</url>
      
        <content type="html"><![CDATA[<p>è´Ÿè½½å‡è¡¡æ˜¯ä¸ºäº†å°†è¯·æ±‚åˆ†æµï¼Œé¿å…è¿‡å¤šçš„è¯·æ±‚è¿æ¥å¤§é‡æ¶Œè¿›ä¸€å°æœåŠ¡å™¨ï¼Œå¯¼è‡´æœåŠ¡å™¨å‹åŠ›è¿‡å¤§ï¼Œè‡´ä½¿æœåŠ¡å™¨å“åº”ç¼“æ…¢ç”šè‡³å®•æœºã€‚ä½¿ç”¨è´Ÿè½½å‡è¡¡å¯ä»¥ä½¿å¾—å¤šä¸ªæœåŠ¡å™¨å…±åŒåˆ†æ‹…å‹åŠ›ï¼Œé™ä½å•å°æœåŠ¡å™¨å‹åŠ›ï¼ŒåŠ å¿«å“åº”é€Ÿåº¦ã€‚<br>è´Ÿè½½å‡è¡¡çš„é«˜æ˜ä¹‹å¤„åœ¨äºå¯¹ç”¨æˆ·è€Œè¨€ï¼Œå®Œå…¨æ„è¯†ä¸åˆ°è‡ªå·±è®¿é—®çš„ä¸æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œè€Œæ˜¯æœåŠ¡å™¨é›†ç¾¤ï¼Œè¿™æ ·å³ä½¿ä¸€å°æœºå™¨å‡ºç°é—®é¢˜æ— æ³•è®¿é—®ï¼Œç”¨æˆ·ä»ç„¶å¯ä»¥ä»å…¶å®ƒæœºå™¨è®¿é—®åˆ°æƒ³è®¿é—®çš„å†…å®¹ã€‚<br><a id="more"></a><br><a name="f515195a"></a></p><h4 id="è´Ÿè½½å‡è¡¡ç­–ç•¥"><a href="#è´Ÿè½½å‡è¡¡ç­–ç•¥" class="headerlink" title="è´Ÿè½½å‡è¡¡ç­–ç•¥"></a>è´Ÿè½½å‡è¡¡ç­–ç•¥</h4><p>nginx è´Ÿè½½å‡è¡¡ç­–ç•¥åˆ†ä¸ºå†…ç½®ç­–ç•¥å’Œæ‰©å±•ç­–ç•¥ã€‚ä¸‹é¢ä¸¾äº›åˆ—å­ã€‚<br>å†…ç½®ç­–ç•¥ï¼š<br>ip_hash: ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®çš„æ˜¯å“ªå°æœåŠ¡å™¨ï¼Œä¹‹åè®¿é—®å°±ä¼šå›ºå®šè®¿é—®è¿™å°æœåŠ¡å™¨ï¼Œé¿å…æ¯æ¬¡éƒ½è¦é‡æ–°ç™»å½•<br>      backup: å¤‡ä»½ï¼Œå…¶å®ƒæœåŠ¡å™¨æ²¡æ³•è®¿é—®æ—¶è®¿é—®è¿™å°æœåŠ¡å™¨<br>down: ä¸å‚ä¸è´Ÿè½½å‡è¡¡çš„æœåŠ¡å™¨<br>weight: æƒé‡ï¼Œæƒé‡è¶Šå¤§ï¼Œè¢«è®¿é—®åˆ°çš„å¯èƒ½æ€§è¶Šå¤§ï¼Œæ¯”å¦‚ä¸‰å°æœåŠ¡å™¨æƒé‡åˆ†åˆ«ä¸º2ï¼Œ3ï¼Œ5ï¼Œé‚£ä¹ˆè¢«è®¿é—®åˆ°çš„æ¦‚ç‡å°±ä¸º20%ï¼Œ 30%ï¼Œ 50%<br>æ‰©å±•ç­–ç•¥ï¼š<br>fair: ä½¿ç”¨å“åº”æ—¶é—´å¿«çš„é‚£å°æœåŠ¡å™¨<br>â€¦â€¦<br>å…¶å®ƒç­–ç•¥å¯ä»¥åœ¨ç½‘ä¸Šæœç´¢äº†è§£ä¸‹ã€‚</p><p><a name="57782bdb"></a></p><h4 id="å®‰è£…nginx"><a href="#å®‰è£…nginx" class="headerlink" title="å®‰è£…nginx"></a>å®‰è£…nginx</h4><p>ubuntu å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install nginx</span><br></pre></td></tr></table></figure><p><a name="224e2ccd"></a></p><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">upstream lb_test &#123;</span><br><span class="line"></span><br><span class="line">       server 127.0.0.1:3000 weight=2;</span><br><span class="line"></span><br><span class="line">       server 127.0.0.1:3001 weight=5;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line"></span><br><span class="line">       listen 8080;</span><br><span class="line"></span><br><span class="line">       location / &#123;</span><br><span class="line"></span><br><span class="line">               proxy_pass http://lb_test/;</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨ä¸€å°æœºå™¨ä¸Šæ­å»ºç¯å¢ƒæ¥æµ‹è¯•ä¸‹ nginx è´Ÿè½½å‡è¡¡ã€‚<br>é¦–å…ˆä½¿ç”¨ upstream è¿›è¡Œè´Ÿè½½å‡è¡¡é…ç½®ï¼Œè¿™é‡Œé…ç½®äº† 3000å’Œ3001 ä¸¤ä¸ªæœåŠ¡ï¼ˆå¯ç†è§£ä¸ºä¸¤ä¸ªæœåŠ¡å™¨ï¼‰<br>ç„¶åæˆ‘ä»¬åœ¨ 3000 å’Œ 3001 ç«¯å£å¯åŠ¨ä¸¤ä¸ªæœåŠ¡ï¼Œé¡µé¢å†…å®¹ä¸ºserver1, server2ã€‚<br>ä¹‹åæˆ‘ä»¬è®¿é—® 8080 ç«¯å£æ—¶ä¼šå‡ºç° server1ï¼Œ server2 éšæœºå‡ºç°çš„æƒ…å†µï¼Œç”±äº3001ï¼ˆserver2ï¼‰çš„æƒé‡æ›´å¤§ï¼Œæ‰€ä»¥ server2 å‡ºç°çš„é¢‘ç‡æ›´é«˜ã€‚<br>ä¸‹é¢ä¿®æ”¹ä¸‹é…ç½®ï¼ŒåŠ å…¥ ip_hash</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">upstream lb_test &#123;</span><br><span class="line"></span><br><span class="line">       server 127.0.0.1:3000 weight=2;</span><br><span class="line"></span><br><span class="line">       server 127.0.0.1:3001 weight=5;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‡å¯ nginx æœåŠ¡ï¼Œå†æ¬¡è®¿é—® 8080ï¼Œä¼šå‘ç°ä¸€ç›´æ˜¾ç¤ºä¸€ä¸ªæœåŠ¡çš„å†…å®¹ï¼ˆserver1 æˆ–è€… server2, ç”±ç¬¬ä¸€æ¬¡è®¿é—®æ—¶çœ‹åˆ°çš„å†…å®¹å†³å®š);</p>]]></content>
      
      
      
        <tags>
            
            <tag> æŠ€æœ¯åšæ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>parseIntç”¨æ³•è¯¦è§£</title>
      <link href="/2019/03/08/parseInt%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/"/>
      <url>/2019/03/08/parseInt%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©åœ¨ MDN æ·±ç©¶äº†ä¸‹ parseInt çš„ç”¨æ³•ï¼Œé¡¿æ—¶è§‰å¾—å¤´è¦ç‚¸äº†ï¼Œåæ¥èŠ±äº†äº›æ—¶é—´æ€»ç®—ææ˜ç™½äº†ï¼Œå†™ä¸‹æ¥è®°å½•ä¸‹ï¼Œå…å¾—ä»¥åèŒƒè’™ã€‚</p><p><a name="6146f119"></a></p><h5 id="1-ç”¨æ³•"><a href="#1-ç”¨æ³•" class="headerlink" title="1. ç”¨æ³•"></a>1. ç”¨æ³•</h5><p>parseInt(<em>string</em>, <em>radix</em>);<br>ä¸€å¥è¯æè¿°å…¶ä½œç”¨å°±æ˜¯å°†ç”¨ radix è¿›åˆ¶è¡¨ç¤ºçš„ string æœ€ç»ˆè½¬æ¢ä¸ºåè¿›åˆ¶ã€‚<br><a name="c947d18b"></a></p><h5 id="2-å…·ä½“å®è·µ"><a href="#2-å…·ä½“å®è·µ" class="headerlink" title="2. å…·ä½“å®è·µ"></a>2. å…·ä½“å®è·µ</h5><p>ä¸¾å‡ ä¸ªåŸºæœ¬çš„å°æ —å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">'255'</span>) <span class="comment">// 255 ä¸å†™ radix å‚æ•°æŒ‡å®šå‡ è¿›åˆ¶æ—¶ï¼Œä¸€èˆ¬é»˜è®¤é‡‡ç”¨åè¿›åˆ¶ï¼Œå»ºè®®å§‹ç»ˆå¸¦ç¬¬äºŒä¸ªå‚æ•°</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'11'</span>, <span class="number">2</span>) <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'011'</span>, <span class="number">8</span>) <span class="comment">// 9</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'0x11'</span>, <span class="number">16</span>) <span class="comment">// 17</span></span><br></pre></td></tr></table></figure><a id="more"></a><br>çœ‹è¿‡è¿™äº›ï¼Œæ˜¯ä¸æ˜¯æƒ³è¯´æŒºç®€å•çš„å•Šï¼Œä¹Ÿå°±é‚£ä¹ˆå›äº‹å„¿ã€‚é‚£æˆ‘ä»¬æ¥çœ‹å‡ ç±»ç‰¹æ®Šçš„ä¸œè¥¿ï¼Œæ¶å¿ƒä¸€ä¸‹ã€‚<p>(1) ä»¥æ­£å¸¸è¿›åˆ¶æ•°ä½œä¸º radix</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">parseInt(&apos; 11&apos;, 10) // 11 ä»ç¬¬ä¸€ä¸ªä¸æ˜¯ç©ºå­—ç¬¦çš„æ•°å­—å¼€å§‹ parse</span><br><span class="line">parseInt(&apos; a11&apos;, 10) // NaN ç¬¬ä¸€ä¸ªä¸æ˜¯ç©ºå­—ç¬¦çš„å­—ç¬¦ä¸æ˜¯æ•°å­—ï¼Œè½¬æ¢ä¸º NaN</span><br><span class="line">parseInt(&apos; 11a11&apos;, 10) // 11 ä»ç¬¬ä¸€ä¸ªä¸æ˜¯ç©ºå­—ç¬¦çš„æ•°å­—å¼€å§‹, æˆªæ­¢åˆ°ä¸‹ä¸ªéæ•°å­—çš„å­—ç¬¦è¿›è¡Œ parse</span><br><span class="line">parseInt(&apos; &apos;) // NaN ä»…ç©ºå­—ç¬¦è½¬æ¢ä¸º NaN</span><br></pre></td></tr></table></figure><p><a name="2a4115e4"></a></p><h6 id="2-ä»¥-0-æˆ–-undefined-ä½œä¸º-radix"><a href="#2-ä»¥-0-æˆ–-undefined-ä½œä¸º-radix" class="headerlink" title="(2) ä»¥ 0 æˆ– undefined ä½œä¸º radix"></a>(2) ä»¥ 0 æˆ– undefined ä½œä¸º radix</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">'011'</span>, <span class="number">0</span> æˆ– <span class="literal">undefined</span>) <span class="comment">// es3 9 | es5+ 11</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="number">011</span>, <span class="number">0</span> æˆ– <span class="literal">undefined</span>) <span class="comment">// 9</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="number">0x11</span>, <span class="number">0</span> æˆ– <span class="literal">undefined</span>) <span class="comment">// 17</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'0x11'</span>, <span class="number">0</span> æˆ– <span class="literal">undefined</span>) <span class="comment">// 17</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'0xx11'</span>, <span class="number">0</span> æˆ– <span class="literal">undefined</span>) <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'0x11x11'</span>, <span class="number">0</span> æˆ– <span class="literal">undefined</span>) <span class="comment">// 17</span></span><br></pre></td></tr></table></figure><p>ç»“è®ºï¼šradix ä¸º 0 æˆ–è€… undefinedï¼Œä¼šæ ¹æ®æƒ…å†µè§£æä¸º 8è¿›åˆ¶ã€10è¿›åˆ¶ã€16è¿›åˆ¶ï¼Œ<br>å½“å»é™¤ç©ºå­—ç¬¦ä»¥ 0 å¼€å¤´æ—¶ï¼Œ æ•°å­—ä¼šè¢«è®¤ä¸ºæ˜¯8è¿›åˆ¶è¿›è¡Œparseï¼Œå­—ç¬¦ä¸²åœ¨ es3 ä¼šè®¤ä¸ºæ˜¯8è¿›åˆ¶ï¼Œä½† es5 åºŸé™¤äº†è¿™ä¸ªè§„åˆ™ï¼ŒæŒ‰10è¿›åˆ¶å¤„ç†ã€‚<br>å½“å»é™¤ç©ºå­—ç¬¦ä»¥é0æ•°å­—å¼€å¤´æ—¶ï¼ŒæŒ‰10è¿›åˆ¶å¤„ç†ã€‚<br>å½“å»é™¤ç©ºå­—ç¬¦ä»¥ 0x å¼€å¤´æ—¶ï¼Œæ— è®ºæ˜¯å­—ç¬¦ä¸²è¿˜æ˜¯æ•´æ•°éƒ½æŒ‰ 16 è¿›åˆ¶è¿›è¡Œ parseã€‚ 0xåé¢ç›´æ¥ç´§è·Ÿå­—æ¯ä¼š parse ä¸º NaNï¼Œ å¦‚æœæ˜¯ 16è¿›åˆ¶æ•°ååˆåŠ å…¶ä»–éæ•°å­—å­—ç¬¦ä¸²ï¼Œåˆ™åª parse æ•°å­—éƒ¨åˆ†ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»„ä»¶åº“æ‰“åŒ… umd å‘å¸ƒ</title>
      <link href="/2019/03/06/%E7%BB%84%E4%BB%B6%E5%BA%93%E6%89%93%E5%8C%85%20umd%20%E5%8F%91%E5%B8%83/"/>
      <url>/2019/03/06/%E7%BB%84%E4%BB%B6%E5%BA%93%E6%89%93%E5%8C%85%20umd%20%E5%8F%91%E5%B8%83/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘æœ‰ä¸ªéœ€æ±‚æ˜¯å°†åŸæœ¬åœ¨é¡¹ç›®å†…ä½¿ç”¨çš„ç»„ä»¶æ–‡ä»¶å¤¹æ‰“åŒ…å‘å¸ƒçš„ npmï¼Œä¹‹åç›´æ¥ä» npm å®‰è£…ä½¿ç”¨ã€‚ä¸å†ä½œä¸ºé¡¹ç›®çš„ä»£ç ã€‚<br>æ¥åˆ°éœ€æ±‚ï¼Œæœ¬ä»¥ä¸ºæ˜¯ååˆ†ç®€å•çš„ä»»åŠ¡ï¼Œç›´æ¥é…ç½®ä¸‹ webpackï¼Œå°†æ‰“åŒ…è¾“å‡ºæ ¼å¼æ”¹ä¸º umd æ‰“åŒ…ï¼Œå†å‘å¸ƒçš„ npm ä¸å°±å¤§åŠŸå‘Šæˆäº†å—ï¼Ÿ<br>ä½†æ˜¯åœ¨å®é™…çš„å®è·µä¸­å‘ç°è¿˜æ˜¯æœ‰äº›å‘çš„ã€‚<br><a name="6592034f"></a></p><h5 id="ä¸€ã€æ‰“åŒ…"><a href="#ä¸€ã€æ‰“åŒ…" class="headerlink" title="ä¸€ã€æ‰“åŒ…"></a>ä¸€ã€æ‰“åŒ…</h5><p>umd æ–‡ä»¶çš„å¥½å¤„æ˜¯å¯ä»¥åŒæ—¶æ”¯æŒå¤šç§å¼•å…¥æ–¹å¼ï¼Œè‡ªåŠ¨åˆ¤æ–­ç°åœ¨çš„ç¯å¢ƒæ¥å†³å®šä»£ç çš„å¯¼å‡ºæ–¹å¼ã€‚æ¯”å¦‚ç”¨ script æ ‡ç­¾å¼•å…¥çš„è¯ï¼Œä»£ç ä¼šè¢«æŒ‚è½½åˆ° window å¯¹è±¡ï¼Œ require æ–¹å¼çš„è¯ä¼šä»¥ module.exports çš„æ–¹å¼å¯¼å‡ºç­‰ã€‚<br>é¦–å…ˆå°±æ˜¯é…ç½®ä¸‹ webpack çš„é…ç½®æ–‡ä»¶ã€‚<br><a id="more"></a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">  path: config.build.assetsRoot,</span><br><span class="line">  filename: utils.assetsPath(<span class="string">'js/[name].min.js'</span>),</span><br><span class="line">  library: <span class="string">'skel'</span>,</span><br><span class="line">  libraryTarget: <span class="string">'umd</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><p>å°† libraryTarget è®¾ç½®ä¸º umd, library æŒ‡å®šæ’ä»¶çš„åç§°ï¼Œè¿™æ ·å°±å¯ä»¥æ„‰å¿«çš„è¿›è¡Œæ‰“åŒ…äº†ã€‚å½“ç„¶ä¹Ÿå¯ä»¥è®¾ç½® externals å°†ç¬¬ä¸‰æ–¹åº“çš„æ–‡ä»¶æ’é™¤ï¼Œå‡å°æ’ä»¶åº“çš„ä½“ç§¯ã€‚ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œå»ºè®®å…ˆä¸è¦åŠ  externalsï¼Œå¯ä»¥åæœŸæµ‹è¯•é€šè¿‡å†åŠ ã€‚<br>é‚£ä¹ˆåŒ…æ‰“åŒ…å‡ºæ¥äº†ï¼Œæ€ä¹ˆæµ‹è¯•å‘¢ï¼Ÿé¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ‰“åŒ…å‡ºæ¥çš„ä»£ç ç›´æ¥å¤åˆ¶ä¸‹æ¥ï¼Œç²˜è´´åˆ°æµè§ˆå™¨æ§åˆ¶å°ï¼ˆå‰ææ‰“åŒ…æ—¶æ²¡é…ç½® externalsï¼Œå¹¶ä¸”åŒ…ä¸èƒ½è¿‡å¤§ï¼Œè‡´ä½¿æµè§ˆå™¨å¡æ­»ï¼‰ï¼Œç„¶åå›è½¦ã€‚è¿™æ ·æˆ‘ä»¬æ‰“åŒ…åçš„ä»£ç å°±åœ¨æµè§ˆå™¨ä¸Šè¿è¡Œäº†ï¼Œè¿™æ—¶æˆ‘ä»¬ä» window å¯¹è±¡ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰ skel (æ’ä»¶å)è¿™ä¸ªå±æ€§ã€‚å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå·±å†™æ®µä»£ç éªŒè¯ä¸‹ï¼Œè¿™æ ·å°±æ²¡æœ‰äº†ä¹‹å‰çš„ä¸¤ä¸ªé™åˆ¶ã€‚<br>æˆ‘æŸ¥çœ‹æ—¶å‘ç°window å¯¹è±¡æœ‰ skel è¿™ä¸ªå±æ€§ï¼Œä½†æ˜¯å€¼ä¸º undefinedï¼Œè¿™è¯´æ˜æˆ‘æ‰“çš„åŒ…å‡ºäº†é—®é¢˜ã€‚äºæ˜¯åˆå»çœ‹   webpack é…ç½®ï¼Œå¹¶æ²¡æœ‰å‘ç°ä»€ä¹ˆé—®é¢˜ã€‚äºæ˜¯æ‰¾æœ€ç»ˆåŸå› æ‰¾äº†å¾ˆé•¿æ—¶é—´ã€‚<br>å¶ç„¶æˆ‘åˆ é™¤äº†å°† node_modules åŒ…å•ç‹¬æ‰“åŒ…å‡º vendor çš„é…ç½®ï¼Œå‘ç° skel ä¸º undefined çš„é—®é¢˜è§£å†³äº†ã€‚æ‰€ä»¥æ‰“åŒ…umd æ—¶å»ºè®®å°†ç¬¬ä¸‰æ–¹çš„åº“ä½¿ç”¨ externals æ’é™¤ï¼Œä¸è¦æ‰“åŒ…åˆ° vendorã€‚</p><p><a name="1cc9c8d8"></a></p><h5 id="äºŒã€å‘å¸ƒ"><a href="#äºŒã€å‘å¸ƒ" class="headerlink" title="äºŒã€å‘å¸ƒ"></a>äºŒã€å‘å¸ƒ</h5><p>æ‰“åŒ…å®Œåï¼Œæ¥ç€å°±æ˜¯ä½¿ç”¨ npm publish å‘½ä»¤å‘å¸ƒäº†ï¼Œå‘å¸ƒæ—¶ package.json æ–‡ä»¶æœ‰å‡ é¡¹éœ€è¦æ³¨æ„çš„é…ç½®:<br>  1.  main(å…¥å£æ–‡ä»¶ä¸€å®šè¦å†™æ‰“åŒ…åçš„ umd æ–‡ä»¶)</p><ol start="2"><li>name å†™æ’ä»¶å<br><a name="24e541cf"></a><h5 id="ä¸‰ã€éªŒè¯"><a href="#ä¸‰ã€éªŒè¯" class="headerlink" title="ä¸‰ã€éªŒè¯"></a>ä¸‰ã€éªŒè¯</h5>å‘å¸ƒåˆ° npm åï¼Œæˆ‘å°±è¯•ç€éªŒè¯äº†ä¸‹æ˜¯å¦å¯ä»¥ç›´æ¥åœ¨é¡¹ç›®å†…ä½¿ç”¨ã€‚<br>é¦–å…ˆæˆ‘å…ˆåˆ é™¤äº†åŸæ¥çš„ç»„ä»¶åº“æ–‡ä»¶å¤¹ï¼ŒåŠ webpack å¯¹è¯¥æ–‡ä»¶å¤¹ç›®å½•é…ç½®çš„åˆ«åã€‚<br>ç„¶åä½¿ç”¨ npm å®‰è£…å·²å‘å¸ƒçš„ç»„ä»¶åº“ã€‚<br>å› ä¸ºä¹‹å‰éƒ½æ˜¯ä½¿ç”¨çš„åˆ«å skel æ¥å¼•å…¥çš„ç»„ä»¶ï¼Œæ‰€ä»¥ç°åœ¨ä½¿ç”¨ npm å®‰è£… skel åï¼Œä¹‹å‰çš„å¼•å…¥ä»£ç ä¸ç”¨æ”¹ã€‚<br>æ¥ç€å¯åŠ¨é¡¹ç›®ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚<br>æœ¬ä»¥ä¸ºå¯ä»¥æ­£å¸¸å¯åŠ¨ï¼Œè®¿é—®é¡µé¢ï¼Œç»“æœå‡ºç°ä¸‹é¢çš„æŠ¥é”™ã€‚<br><br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1551952979488-3d1d0ff6-8612-4ea7-baae-27bcd58b7a6a.png#align=left&display=inline&height=106&name=image.png&originHeight=364&originWidth=2558&size=182916&status=done&width=743" alt="image.png"><br>çœ‹åˆ°æŠ¥é”™ï¼Œç¬¬ä¸€ååº”å°±æ˜¯ Object.keys ä¼ å…¥äº† null æˆ–è€… undefinedï¼Œäºæ˜¯å»æ’ä»¶é¡¹ç›®ä¸‹å…¨å±€æŸ¥æ‰¾ Object.keys å¹¶æ‰“å°å®ƒçš„ä¼ å‚ï¼ˆæ–¹æ³•æœ‰äº›ç¬¨ï¼Œä¸è¿‡è¿˜æœ‰æ•ˆï¼‰ï¼Œç„¶åè¿è¡Œäº†å†™æ’ä»¶é¡¹ç›®çš„æµ‹è¯• demoï¼Œåœ¨é¡µé¢å‘ç°æ‰“å°å‡ºäº†ä¸Šå›¾æ‰“å°çš„ä¿¡æ¯ï¼Œ Transition ç»„ä»¶çš„ propTypes ä¸º undefinedã€‚å»æŸ¥çœ‹ç»„ä»¶ä»£ç å¹¶æœªå‘ç°ä»€ä¹ˆé”™è¯¯ï¼Œæœ€ç»ˆå‘ç°æ˜¯ transform-react-remove-prop-types è¿™ä¸ªæ’ä»¶çš„é”…ï¼Œå†ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…æ—¶æŠŠä»£ç é‡Œçš„ propTypes ç»™ç§»é™¤äº†ï¼Œå¯¼è‡´éå† key æ—¶æ‰¾ä¸åˆ°è€ŒæŠ¥é”™ã€‚äºæ˜¯æˆ‘é…ç½®äº†ä¸‹ ignoreName å°† Transition æ–‡ä»¶æ’é™¤ï¼Œä¸ç§»é™¤è¯¥æ–‡ä»¶çš„ propTypesã€‚<br>å†æ¬¡æ‰“åŒ…ï¼Œç„¶åç›´æ¥å°†æ‰“åŒ…åçš„æ–‡ä»¶ä»£ç å¤åˆ¶åˆ°é¡¹ç›® node_modules ä¸‹æ’ä»¶ä¸‹çš„ skel.min.js è¦†ç›–ä¸‹ï¼Œç„¶åé‡å¯é¡¹ç›®ï¼Œæœç„¶ï¼Œé”™è¯¯æ¶ˆå¤±äº†ã€‚<br>ä½†å´æ¥äº†æ–°çš„è­¦å‘Šï¼Œå”‰ï¼Œå¤´å¤§ã€‚ã€‚ã€‚<br><br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1551953951676-c9478ab9-7f52-49b7-905a-30d1cacf1c01.png#align=left&display=inline&height=37&name=image.png&originHeight=74&originWidth=2558&size=42188&status=done&width=1279" alt="image.png"><br>ç½‘ä¸Šå¤§è‡´æœäº†ä¸‹ï¼Œåº”è¯¥æ˜¯å¼•å…¥çš„ç¬¬ä¸‰æ–¹åº“ä½¿ç”¨çš„æ˜¯ es5 çš„ react ä»£ç å†™æ³•ã€‚<br>åœ¨å·²å®‰è£…çš„ä¾èµ–ä¸­ï¼Œæ‰¾åˆ°äº†ä¸¤ä¸ªä¾èµ–è§‰å¾—å¯èƒ½æ˜¯é€ æˆè¿™ä¸ªè­¦å‘Šçš„åŸå› ï¼Œ react-hot-loader å’Œ react-router, åœ¨react-router çš„å‹ç¼©æ–‡ä»¶ä¸­æœäº†ä¸‹ç¡®å®æœåˆ°äº† getDefaultProps , äºæ˜¯å°†react-router æ”¾åˆ° externals å†æ‰“åŒ…ï¼Œå†å¤åˆ¶ï¼Œå†é‡å¯é¡¹ç›®ï¼Œé¡µé¢æ¸²æŸ“æˆåŠŸï¼Œå“ˆå“ˆï¼Œæ¬£å–œã€‚</li></ol><p>æ’ä»¶æ‰“åŒ…æ²¡å•¥é—®é¢˜äº†ï¼Œé‡æ–°å‘å¸ƒå…¬å¸çš„ npm ä¸€ä¸‹ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>apacheé…ç½®ä¸‹è½½ç›®å½•</title>
      <link href="/2019/02/20/apache%E9%85%8D%E7%BD%AE%E4%B8%8B%E8%BD%BD%E7%9B%AE%E5%BD%95/"/>
      <url>/2019/02/20/apache%E9%85%8D%E7%BD%AE%E4%B8%8B%E8%BD%BD%E7%9B%AE%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p>æœ‰æ—¶é¡¹ç›®éœ€æ±‚éœ€è¦ï¼Œåç«¯éœ€è¦å¦å¤–æ­å»ºæµ‹è¯•ç¯å¢ƒï¼Œå‰ç«¯éœ€è¦æä¾›é’ˆå¯¹è¯¥éœ€æ±‚çš„ä»£ç åŒ…ã€‚å¦‚æœæ¯æ¬¡å‰ç«¯æ›´æ–°éƒ½æ‰“åŒ…ä¸€æ¬¡ï¼Œç„¶åå°†åŒ…å‘é€ç»™åç«¯åŒäº‹ï¼Œåç«¯åŒäº‹å†ä¸Šä¼ åˆ°åç«¯æ­å»ºçš„æœåŠ¡å™¨ï¼Œè§£å‹ï¼Œè¿è¡Œã€‚æœªå…å¤ªè¿‡æµªè´¹æ—¶é—´ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥åœ¨è‡ªå·±çš„æœåŠ¡å™¨æ­å»ºä¸€ä¸ªä¸‹è½½ç›®å½•ï¼Œä½¿ç”¨ shell ç¼–å†™ä¸€ä¸ªæ‰“åŒ…å¹¶ä¸Šä¼ åˆ°ä¸‹è½½ç›®å½•çš„è„šæœ¬, è¿™æ ·æˆ‘ä»¬æ¯æ¬¡æ”¹åŠ¨åéƒ½å¯ä»¥å¿«é€Ÿçš„æ‰“åŒ…ä¸Šä¼ ï¼Œåç«¯ç›´æ¥ä»å›ºå®šä¸‹è½½åœ°å€ wget åˆ°åç«¯æµ‹è¯•ç¯å¢ƒç›¸å…³ç›®å½•ä¸‹å³å¯ã€‚</p><p>é…ç½®ååˆ†ç®€å•:<br><a id="more"></a></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">listen 3002</span><br><span class="line">&lt;VirtualHost *:3002&gt;</span><br><span class="line">    DocumentRoot "/var/www/download/"</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure><p>ç„¶åéœ€è¦æ›´æ”¹ä¸‹ /var/www/ çš„ç›®å½•é…ç½®ï¼Œå…è®¸åœ¨æ‰¾ä¸åˆ° index.html æ—¶ï¼Œæ˜¾ç¤ºç›®å½•ç»“æ„ã€‚å…¶ä¸­ Indexes èµ·äº†å…³é”®ä½œç”¨ï¼Œå»æ‰æˆ–è€…ä½¿ç”¨ -Indexes éƒ½ä¼šç¦ç”¨æ˜¾ç¤ºç›®å½•ç»“æ„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory /var/www/&gt;</span><br><span class="line">Options Indexes FollowSymLinks</span><br><span class="line">AllowOverride None</span><br><span class="line">Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><p>è¿™æ ·é…ç½®åï¼Œå†é…ç½®ä¸‹é˜²ç«å¢™è§„åˆ™å¼€å¯ 3002 ç«¯å£ï¼Œå°±å¯ä»¥ç›´æ¥è®¿é—® ip:3002/ ä¸‹çš„æ–‡ä»¶åŠç›®å½•äº†ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> æŠ€æœ¯åšæ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cssåŒ…å«å—</title>
      <link href="/2019/02/19/css%E5%8C%85%E5%90%AB%E5%9D%97/"/>
      <url>/2019/02/19/css%E5%8C%85%E5%90%AB%E5%9D%97/</url>
      
        <content type="html"><![CDATA[<p><a name="509c0f1e"></a></p><h4 id="åŒ…å«å—çš„å®šä¹‰ï¼ˆä¸ªäººç†è§£ï¼‰"><a href="#åŒ…å«å—çš„å®šä¹‰ï¼ˆä¸ªäººç†è§£ï¼‰" class="headerlink" title="åŒ…å«å—çš„å®šä¹‰ï¼ˆä¸ªäººç†è§£ï¼‰"></a>åŒ…å«å—çš„å®šä¹‰ï¼ˆä¸ªäººç†è§£ï¼‰</h4><p>æ ¹å…ƒç´ ï¼ˆhtmlï¼‰ç§°ä¸ºåˆå§‹åŒ…å«å—ã€‚<br>css åŒ…å«å—é€šå¸¸æ˜¯æŒ‡åŒ…å«è¿™ä¸ªå…ƒç´ çš„æœ€è¿‘çš„å—ç±»å‹çš„ç¥–å…ˆå…ƒç´ ã€‚ï¼ˆå¦‚æœçˆ¶å…ƒç´ æ˜¯ inlineï¼Œåˆ™ç»§ç»­å¯»æ‰¾çˆ¶å…ƒç´ çš„çˆ¶å…ƒç´ ï¼Œä»¥æ­¤ç±»æ¨ï¼‰ã€‚ä½†ä¹Ÿæœ‰äº›ä¾‹å¤–æƒ…å†µï¼Œä¸‹é¢ä¼šä»‹ç»åˆ°ã€‚<br><a id="more"></a><br><a name="7de33813"></a></p><h4 id="ç¡®å®šåŒ…å«å—"><a href="#ç¡®å®šåŒ…å«å—" class="headerlink" title="ç¡®å®šåŒ…å«å—"></a>ç¡®å®šåŒ…å«å—</h4><p>ä¸ºä»€ä¹ˆè¦ç¡®å®šä¸€ä¸ªå…ƒç´ çš„åŒ…å«å—å‘¢ï¼Ÿåˆæ˜¯å¦‚ä½•ç¡®å®šå‘¢ï¼Ÿ<br>é¦–å…ˆæˆ‘ä»¬ä»‹ç»ä¸‹åŒ…å«å—çš„ä½œç”¨ï¼ŒåŒ…å«å—ä¼šç›´æ¥å½±å“åˆ°å­å…ƒç´ çš„å¤§å°å’Œä½ç½®ï¼Œç¡®å®šäº†åŒ…å«å—ï¼Œæˆ‘ä»¬æ‰èƒ½çŸ¥é“å½“è¿™ä¸ªå…ƒç´ çš„ widthã€heightã€marginã€paddingã€leftã€rightã€bottomã€top ç­‰å±æ€§ä½¿ç”¨ç™¾åˆ†æ¯”æ—¶æ˜¯ç›¸å¯¹è°çš„ç™¾åˆ†ä¹‹å¤šå°‘ã€‚<br>ç¡®å®šåŒ…å«å—å’Œ css ä¸­çš„ position å±æ€§æ¯æ¯ç›¸å…³ã€‚</p><ul><li>position ä¸º static å’Œ relative çš„ï¼ˆæœªè„±ç¦»æ–‡æ¡£æµçš„ï¼‰ï¼ŒåŒ…å«å—ä¸ºç¦»å®ƒæœ€è¿‘çš„ç¥–å…ˆå—å…ƒç´ çš„å†…å®¹åŒºcontentï¼ˆæ ‡å‡†ç›’å­æ¨¡å‹å³ç”± width ç›¸å…³å±æ€§å’Œ height ç›¸å…³å±æ€§å†³å®šï¼‰</li><li>position ä¸º absolute çš„ï¼ŒåŒ…å«å—ä¸ºç¦»å®ƒæœ€è¿‘çš„ position é static çš„ç¥–å…ˆå…ƒç´ çš„å†…å®¹åŒº content å’Œ å†…è¾¹è· padding ä¹‹å’Œ</li><li>position ä¸º fixed çš„ï¼Œ åŒ…å«å—ä¸º è§†å£ viewportã€‚</li><li>position ä¸º absolute å’Œ fixed çš„å…ƒç´ çš„åŒ…å«å—ä¹Ÿå—åˆ°å…¶ä»–å±æ€§çš„å½±å“ï¼Œä¸¾ä¸€ä¸ªå¸¸ç”¨çš„ transform å±æ€§ï¼Œè‹¥æ˜¯å…¶ç¥–å…ˆå…ƒç´ çš„æœ‰ transform å±æ€§ï¼Œä¸” transform å€¼ä¸ä¸º none, åˆ™è¿™ä¸ªç¥–å…ˆå…ƒç´ å°±æ˜¯å…¶åŒ…å«å—ã€‚</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntuå‡çº§apache</title>
      <link href="/2019/02/12/ubuntu%E5%8D%87%E7%BA%A7apache/"/>
      <url>/2019/02/12/ubuntu%E5%8D%87%E7%BA%A7apache/</url>
      
        <content type="html"><![CDATA[<p>1.å®‰è£…å¹³å°ç¯å¢ƒè¦æ±‚ï¼š<br><br>Ubuntu:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">You will need to ensure that you have either libtool 1.5.6</span><br><span class="line">or 2.2.6b, or later. Expat 2.0.1 and PCRE 8.02 are also</span><br><span class="line">recommended to be installed. If building PCRE from source,</span><br><span class="line">you&apos;ll also need g++.</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰libtoolå’ŒPCREæ—¶ï¼Œéœ€è¦å…ˆå®‰è£…libtoolå’ŒPCRE<br><a id="more"></a></p><ol start="2"><li>ä¸‹è½½è§£å‹apache2.4.38</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span></span><br><span class="line">$ wget http://mirrors.tuna.tsinghua.edu.cn/apache//httpd/httpd-2.4.38.tar.gz</span><br><span class="line">$ tar zxvf httpd-2.4.38.tar.gz</span><br></pre></td></tr></table></figure><ol start="3"><li>è¿›å…¥httpd-2.4.38ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤å®‰è£…apache2</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./configure --prefix=/usr/<span class="built_in">local</span>/apache2</span><br></pre></td></tr></table></figure><p>æŠ¥é”™ï¼š configure: error: APR not found.  Please read the documentation.<br><br>é€šè¿‡INSTALLæ–‡ä»¶äº†è§£åˆ°éœ€è¦å®‰è£…APR and APR-Util</p><ol start="4"><li>å®‰è£…APR and APR-Utilåˆ°srclibç›®å½•ä¸‹<br><br>è¿›å…¥httpd-2.4.38ä¸‹çš„srclibç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ä¸‹è½½å¹¶è§£å‹APR and APR-Util</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ wget http://mirrors.hust.edu.cn/apache//apr/apr-1.6.5.tar.gz</span><br><span class="line">$ wget http://mirror.bit.edu.cn/apache//apr/apr-util-1.6.1.tar.gz</span><br><span class="line">$ tar zxvf apr-1.6.5.tar.gz</span><br><span class="line">$ tar zxvf apr-util-1.6.1.tar.gz</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š è§£å‹åçš„æ–‡ä»¶åä¸èƒ½å¸¦ç‰ˆæœ¬å·ï¼Œå°†apr-1.6.5æ”¹åä¸ºaprï¼Œapr-util-1.6.1æ”¹åä¸ºapr-util</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mv apr-1.6.5 apr</span><br><span class="line">$ mv apr-util-1.6.1 apr-util</span><br><span class="line">$ rm apr-1.6.5.tar.gz apr-util-1.6.1.tar.gz</span><br></pre></td></tr></table></figure><ol start="5"><li>å›åˆ°httpd-2.4.38æ ¹ç›®å½•ï¼Œå†æ¬¡æ‰§è¡Œ./configure â€“prefix=/usr/local/apache2, æ— æŠ¥é”™åç»§ç»­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ make</span><br><span class="line">$ make install</span><br></pre></td></tr></table></figure><p>æˆåŠŸæ‰§è¡Œååœ¨/usr/localç›®å½•ä¸‹ä¼šå‘ç°apache2å·²ç»å­˜åœ¨</p><p>6.å°†åŸapacheç‰ˆæœ¬ä¸­å®šä¹‰çš„ç¯å¢ƒå˜é‡åŠ åˆ°æ–°çš„apache binç›®å½•ä¸‹çš„envvarsæ–‡ä»¶ä¸­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/apache2/bin</span><br><span class="line">$ cat /etc/apache2/envvars &gt;&gt; envvars</span><br></pre></td></tr></table></figure><p>7.ä¿®æ”¹httpd.conf, æ³¨é‡Šæ‰listen 80å’ŒServerAdminï¼Œåœ¨æ–‡ä»¶å°¾æ·»åŠ </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ServerTokens OS</span><br><span class="line"></span><br><span class="line"><span class="comment"># These need to be set in /usr/local/apache2/bin/envvars</span></span><br><span class="line"></span><br><span class="line">User <span class="variable">$&#123;APACHE_RUN_USER&#125;</span></span><br><span class="line"></span><br><span class="line">Group <span class="variable">$&#123;APACHE_RUN_GROUP&#125;</span></span><br><span class="line"></span><br><span class="line">IncludeOptional conf/sites-enabled/*.conf</span><br></pre></td></tr></table></figure><p>å¹¶å°†æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„æ›¿æ¢ä¸º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ErrorLog <span class="variable">$&#123;APACHE_LOG_DIR&#125;</span>/error.log</span><br><span class="line">CustomLog <span class="variable">$&#123;APACHE_LOG_DIR&#125;</span>/access.log combined</span><br></pre></td></tr></table></figure><p>å°†â€œUser daemon  Group daemonâ€ æ”¹ä¸º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User <span class="variable">$&#123;APACHE_RUN_USER&#125;</span></span><br><span class="line">Group <span class="variable">$&#123;APACHE_RUN_GROUP&#125;</span></span><br></pre></td></tr></table></figure><p>8.å°†æ—§ç‰ˆæœ¬apacheä¸‹çš„ sites-enabledå¤åˆ¶åˆ°/usr/local/apache2/conf</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cp -r /etc/apache2/sites-enabled/ /usr/local/apache2/conf/</span><br></pre></td></tr></table></figure><p>9.åœæ­¢æ—§çš„æœåŠ¡ï¼ˆæˆ–è€…å¼€æ”¾æ–°çš„ç«¯å£è¿›è¡Œæµ‹è¯•ï¼‰ï¼Œå¯åŠ¨æ–°ç‰ˆapacheè¿›è¡Œæµ‹è¯•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/apache2/bin</span><br><span class="line">$ ./apachectl start</span><br></pre></td></tr></table></figure><p>æŠ¥é”™ï¼šInvalid command â€˜XSendFileâ€™, perhaps misspelled or defined by a module not included in the server configuration<br><br>è¿™ç§æŠ¥é”™æ˜¯å› ä¸ºæœ‰äº›æ¨¡å—æ²¡æœ‰åŠ è½½é€ æˆçš„ï¼Œè¿›å…¥æ—§ç‰ˆapacheçš„æ¨¡å—ç›®å½•ï¼Œå°†ç¼ºå°‘çš„æ¨¡å—å¤åˆ¶åˆ°æ–°ç‰ˆä¸­ï¼Œå¹¶åœ¨httpd.confä¸­åŠ è½½å³å¯(ä¹Ÿå¯ä»¥è‡ªå·±ä¸‹è½½)<br><br>æµ‹è¯•å‘ç°ç¼ºå°‘mod_xsendfile.soå’Œmod_wsgi.so</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cp /usr/lib/apache2/modules/mod_xsendfile.so /usr/<span class="built_in">local</span>/apache2/modules</span><br><span class="line">$ cp /usr/lib/apache2/modules/mod_wsgi.so /usr/<span class="built_in">local</span>/apache2/modules</span><br><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/apache2/modules</span><br><span class="line">$ sudo chmod +x mod_xsendfile.so mod_wsgi.so</span><br></pre></td></tr></table></figure><p>åœ¨æ–°ç‰ˆæœ¬çš„httpd.confä¸­åŠ è½½</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LoadModule wsgi_module modules/mod_wsgi.so</span><br><span class="line">LoadModule xsendfile_module modules/mod_xsendfile.so</span><br></pre></td></tr></table></figure><p>é‡å¯æ–°ç‰ˆapache</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/apache2/bin</span><br><span class="line">$ ./apachectl restart</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> æŠ€æœ¯åšæ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¯csså›ºå®šå®½é«˜æ¯”</title>
      <link href="/2019/01/29/%E7%BA%AFcss%E5%9B%BA%E5%AE%9A%E5%AE%BD%E9%AB%98%E6%AF%94/"/>
      <url>/2019/01/29/%E7%BA%AFcss%E5%9B%BA%E5%AE%9A%E5%AE%BD%E9%AB%98%E6%AF%94/</url>
      
        <content type="html"><![CDATA[<p><a name="66110641"></a></p><h4 id="å¼•å…¥é—®é¢˜"><a href="#å¼•å…¥é—®é¢˜" class="headerlink" title="å¼•å…¥é—®é¢˜"></a>å¼•å…¥é—®é¢˜</h4><p>åœ¨æˆ‘ä»¬åšé¡¹ç›®æ—¶ï¼Œæ—¶å¸¸ä¼šæœ‰é«˜åº¦ä¸ç¡®å®šçš„æƒ…å†µï¼Œä½†ç»å¸¸ç¢°åˆ°å›ºå®šå®½é«˜æ¯”éœ€æ±‚ï¼Œè¿™æ—¶å°±æœ‰ç‚¹æŠ“è™¾äº†ã€‚ç¬¬ä¸€æƒ³åˆ°çš„å¯èƒ½å°±æ˜¯é€šè¿‡ js æ¥å®ç°äº†ã€‚ä½†æ˜¯æˆ‘æƒ³è¯´ï¼Œçº¯ css ä¸€æ ·å¯ä»¥å®ç°ï¼Œè€Œä¸”æ¯”è¾ƒç®€å•ã€‚<br><a name="fa77ab6c"></a></p><h4 id="å‘ç°é—®é¢˜"><a href="#å‘ç°é—®é¢˜" class="headerlink" title="å‘ç°é—®é¢˜"></a>å‘ç°é—®é¢˜</h4><p>ä¾‹å¦‚å®ç°ä¸‹é¢è¿™ä¸ªæ•ˆæœ:<br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1548832026870-8c999c13-c903-414a-92d7-a087b9b14525.png#align=left&display=inline&height=127&name=image.png&originHeight=254&originWidth=490&size=12911&status=done&width=245" alt="image.png"><br><a id="more"></a><br>é¦–å…ˆæˆ‘ä»¬éœ€è¦å¯¹å…ƒç´ è¿›è¡Œåˆ†åˆ—ï¼Œè¿™é‡Œåˆ†ä¸ºå››åˆ—ï¼Œè¿™é‡Œæˆ‘æ˜¯é€šè¿‡ç™¾åˆ†æ¯”è¿›è¡Œçš„åˆ†åˆ—ï¼Œå®½åº¦ä¸º20%ï¼Œç„¶åå‰©ä½™çš„20%åˆ†ç»™æ–¹å—ä¹‹é—´çš„ marginï¼Œè¿™æ ·å°±å®ç°äº†å››åˆ—å¸ƒå±€ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æ”¹å˜è¿™ä¸ªå®¹å™¨çš„å¤§å°æµ‹è¯•æ—¶ï¼Œç”±äºå®¹å™¨çš„widthå˜åŒ–ï¼Œå¯¼è‡´æ¯ä¸ªå°æ–¹å—çš„ width å€¼æ—¶å¤§æ—¶å°ï¼Œä¼šå‘ç°æ–¹å—å¹¶ä¸æ˜¯æŒ‰é•¿å’Œå®½1æ¯”1æ¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸æ˜¯æ­£æ–¹å½¢ã€‚<br><a name="0483f6d1"></a></p><h4 id="è§£å†³é—®é¢˜"><a href="#è§£å†³é—®é¢˜" class="headerlink" title="è§£å†³é—®é¢˜"></a>è§£å†³é—®é¢˜</h4><p>é‚£ä¹ˆï¼Œæ€ä¹ˆæ‰èƒ½è®©é•¿å®½æ¯”ç»´æŒåœ¨1ï¼š1å‘¢ï¼Œé€šè¿‡cssæ¥å®ç°çš„æ–¹æ³•ä¹Ÿå¾ˆå¤šï¼Œä½†æ˜¯ï¼Œé‡è¦çš„æ˜¯è¦æŠ“ä½å’Œç†è§£è¿™ä¹ˆä¸€ä¸ªåŸç†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å½“å…ƒç´ çš„paddingæˆ–è€…marginä½¿ç”¨çš„ä¸æ˜¯å…·ä½“æ•°å€¼ï¼Œè€Œæ˜¯ç™¾åˆ†æ¯”æ—¶ï¼Œå…ƒç´ çš„marginåŠpaddingæ˜¯ç›¸å¯¹å…¶çˆ¶å…ƒç´ çš„widthè€Œè¨€çš„</span><br></pre></td></tr></table></figure><p>ä»è¿™é‡Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå½“æˆ‘ä»¬è®¾ç½® marginæˆ–padding çš„ä¸Šä¸‹è¾¹è·ï¼ˆç«–ç›´æ–¹å‘ï¼‰ä¸ºç™¾åˆ†æ¯”æ—¶ï¼Œæ˜¯ç›¸å¯¹å…¶çˆ¶å…ƒç´ å®½åº¦ï¼ˆæ°´å¹³æ–¹å‘ï¼‰è€Œè¨€çš„ï¼Œè¿™ä¹Ÿå°±å»ºç«‹äº†é•¿ï¼ˆç«–ç›´æ–¹å‘ï¼‰ä¸å®½ï¼ˆæ°´å¹³æ–¹å‘ï¼‰çš„å…³ç³»ã€‚</p><ol><li>é€šè¿‡æ·»åŠ å¡«å……divæ’‘èµ·å°æ–¹å—é«˜åº¦å®ç°</li></ol><p>htmlä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"square"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fill"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>cssä»£ç </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.square</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">  <span class="comment">/* overflow: hidden; */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.fill</span> &#123;</span><br><span class="line">  padding-bottom: 100%; // æˆ– margin-bottom: 100%;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå›¾ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1561348096175-103d148c-d087-449e-8765-588ea6232de7.png#align=left&display=inline&height=102&name=image.png&originHeight=204&originWidth=200&size=4616&status=done&width=100" alt="image.png"><br>2.é€šè¿‡ä¼ªå…ƒç´ :afteræˆ–è€…:beforeå®ç°</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.square</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">  <span class="comment">/* overflow: hidden; */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line">.square:before //.square:after  &#123;</span><br><span class="line">  content: '';</span><br><span class="line">  <span class="selector-tag">display</span>: <span class="selector-tag">block</span>;</span><br><span class="line">  <span class="selector-tag">height</span>: 0;</span><br><span class="line">  padding-bottom: 100%; // æˆ– margin-bottom: 100%;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå®Œå…¨ç›¸åŒ</p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµè§ˆå™¨è·¨æ ‡ç­¾é€šä¿¡</title>
      <link href="/2019/01/22/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%B7%A8%E6%A0%87%E7%AD%BE%E9%80%9A%E4%BF%A1/"/>
      <url>/2019/01/22/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%B7%A8%E6%A0%87%E7%AD%BE%E9%80%9A%E4%BF%A1/</url>
      
        <content type="html"><![CDATA[<p>æƒ…æ™¯ï¼šç”¨æˆ·ç”¨Aè´¦å·ç™»å½•ç½‘ç«™åï¼Œæ–°å¼€ä¸€ä¸ªtabé¡µé¢ç‚¹å‡»äº†æ³¨é”€ï¼Œåˆç”¨Bè´¦å·ç™»å½•ï¼Œè¿™æ—¶ä¸¤ä¸ªé¡µé¢çš„ç™»å½•çŠ¶æ€å°±ä¸ä¸€è‡´äº†ï¼Œæ—§çš„é¡µé¢åšä¸€äº›æ“ä½œæ—¶ä¼šå‘åç«¯å‘è¯·æ±‚ï¼Œè¿™æ—¶å‘ç°ç™»å½•çŠ¶æ€ä¸ºä¸‹çº¿ï¼Œä¼šé‡å®šå‘åˆ°ç™»å½•é¡µè®©ç”¨æˆ·ç™»å½•ã€‚è¿™æ ·ç”¨æˆ·ä½“éªŒä¼šæ¯”è¾ƒå·®ã€‚<br>ä¼˜åŒ–ï¼šèƒ½ä¸èƒ½è®©æ–°çš„tabé¡µé¢å‘æ—§é¡µé¢å‘ä¸ªæ¶ˆæ¯ï¼Œå‘ŠçŸ¥æ—§é¡µé¢ç™»å½•çŠ¶æ€æ”¹å˜äº†ï¼Œæ—§é¡µé¢å¼¹çª—å‘ŠçŸ¥ç”¨æˆ·éœ€è¦åŒæ­¥ä¸¤ä¸ªtabé¡µçš„ç™»å½•çŠ¶æ€ï¼Œç”¨æˆ·ç‚¹å‡»ç¡®å®šæŒ‰é’®å°†æ—§é¡µé¢çš„ç™»å½•çŠ¶æ€åŒæ­¥ä¸ºæœ€æ–°ã€‚</p><p>è¿™æ ·ï¼Œç”¨æˆ·ä½“éªŒä¼šå¥½å¾ˆå¤šï¼Œä½†åŒæ—¶ä¹Ÿæ¶‰åŠçš„ä¸€ä¸ªé—®é¢˜ â€”â€” å¦‚ä½•å®ç°é€šæµè§ˆå™¨ä¸‹ä¸¤ä¸ªä¸åŒæ ‡ç­¾é¡µé—´çš„é€šä¿¡ã€‚</p><p>ç½‘ä¸ŠæŸ¥é˜…ä¸€ç•ªåï¼Œ å‘ç°ä½¿ç”¨<code>localStorage</code>å¯ä»¥å®ç°è¿™ä¸€ç‚¹ã€‚</p><p>å…·ä½“å®ç°æ€è·¯ï¼šå°†ç”¨æˆ·çš„idå­˜åœ¨<code>localstorage</code>, æ–°ç”¨æˆ·ç™»å½•åï¼Œæ›´æ–°<code>localstorage</code>çš„userId, ä¼šè§¦å‘<code>storage</code>äº‹ä»¶ï¼Œæ—§é¡µé¢ç›‘å¬åˆ°è¿™ä¸ªäº‹ä»¶æ—¶ï¼Œå¯¹æ¯”ä¸‹æ–°çš„å€¼æ˜¯ä¸æ˜¯å’Œç°åœ¨ç™»å½•çš„userIdä¸€æ ·ï¼Œä¸ä¸€æ ·æ—¶å¼¹çª—å‘ŠçŸ¥ç”¨æˆ·éœ€è¦åŒæ­¥ç™»å½•çŠ¶æ€ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> HTML5 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css-æµè§ˆå™¨å…¼å®¹</title>
      <link href="/2019/01/14/css-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9/"/>
      <url>/2019/01/14/css-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9/</url>
      
        <content type="html"><![CDATA[<p><a name="3f95cecc"></a></p><h3 id="1-importantåŒºåˆ†FireFoxå’ŒIE6"><a href="#1-importantåŒºåˆ†FireFoxå’ŒIE6" class="headerlink" title="1. !importantåŒºåˆ†FireFoxå’ŒIE6"></a>1. <code>!important</code>åŒºåˆ†FireFoxå’ŒIE6</h3><p>!importIE7å·²ç»æ”¯æŒï¼Œç°åœ¨ä½œä¸ºåŒºåˆ†FFå’ŒIE6çš„æ ‡è¯†ï¼Œåœ¨FireFoxé‡Œ<code>!important</code>çš„æƒé‡è¦é«˜äºä¸åŠ <code>!important</code>çš„æƒé‡ï¼›è€ŒIE6åˆ™ä¸è®¤è¯†<code>!important</code>ï¼Œæ‰€ä»¥ä½ åŠ äº†å’Œä¸åŠ ä¸€æ ·ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹æ¥è®©ä¸¤ä¸ªæµè§ˆå™¨æ˜¾ç¤ºä¸åŒçš„æ ·å¼ã€‚ä¾‹å¦‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.test</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><br>æ•ˆæœå°±æ˜¯åœ¨ç«ç‹æ˜¾ç¤ºå­—ä½“é¢œè‰²æ˜¯è“è‰²ï¼Œåœ¨IE6æ˜¾ç¤ºçº¢è‰²ã€‚ä½†æ˜¯<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">color</span>: <span class="selector-tag">blue</span> !<span class="selector-tag">important</span>;</span><br><span class="line"><span class="selector-tag">color</span>: <span class="selector-tag">red</span>;</span><br></pre></td></tr></table></figure><p>çš„é¡ºåºä¸èƒ½æ”¹å˜ï¼ŒIE6ä¸è®¤è¯†<code>!important</code>ï¼Œæ‰€ä»¥ä¼šblueå’Œredæƒé‡æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯redå®šä¹‰æ™šï¼Œå› æ­¤IE6æ˜¾ç¤ºçº¢è‰²ã€‚<br><br>ä¸è¿‡ä¸æ¨èä½¿ç”¨<code>!important</code>ï¼Œå› ä¸ºå®ƒç ´åäº†cssåŸæœ‰çš„ä¼˜å…ˆçº§è§„åˆ™ï¼Œä½¿å¾—æ ·å¼bugçš„è°ƒè¯•æ›´ä¸ºå¤æ‚ã€‚ä»¥ä¸‹ä¸ºå‡ ç‚¹å»ºè®®ï¼š</p><ul><li><p>Always è¦ä¼˜åŒ–è€ƒè™‘ä½¿ç”¨æ ·å¼è§„åˆ™çš„ä¼˜å…ˆçº§æ¥è§£å†³é—®é¢˜è€Œä¸æ˜¯ !important</p></li><li><p>Only åªåœ¨éœ€è¦è¦†ç›–å…¨ç«™æˆ–å¤–éƒ¨ cssï¼ˆä¾‹å¦‚å¼•ç”¨çš„ ExtJs æˆ–è€… YUI ï¼‰çš„ç‰¹å®šé¡µé¢ä¸­ä½¿ç”¨ !important</p></li><li><p>Never æ°¸è¿œä¸è¦åœ¨å…¨ç«™èŒƒå›´çš„ css ä¸Šä½¿ç”¨ !important</p></li><li><p>Never æ°¸è¿œä¸è¦åœ¨ä½ çš„æ’ä»¶ä¸­ä½¿ç”¨ !important<br><a name="04a3cf5d"></a></p><h3 id="2-CSShack"><a href="#2-CSShack" class="headerlink" title="2. CSShack"></a>2. <code>CSS</code>hack</h3><p><a name="df766c24"></a></p><h4 id="CSS-hackéœ€è¦éµå¾ªä»¥ä¸‹ä¸‰æ¡åŸåˆ™ï¼š"><a href="#CSS-hackéœ€è¦éµå¾ªä»¥ä¸‹ä¸‰æ¡åŸåˆ™ï¼š" class="headerlink" title="CSS hackéœ€è¦éµå¾ªä»¥ä¸‹ä¸‰æ¡åŸåˆ™ï¼š"></a>CSS hackéœ€è¦éµå¾ªä»¥ä¸‹ä¸‰æ¡åŸåˆ™ï¼š</h4></li><li><p>æœ‰æ•ˆï¼š èƒ½å¤Ÿé€šè¿‡ Web æ ‡å‡†çš„éªŒè¯</p></li><li><p>åªé’ˆå¯¹å¤ªå¤è€çš„/ä¸å†å¼€å‘çš„/å·²è¢«æŠ›å¼ƒçš„æµè§ˆå™¨ï¼Œ è€Œä¸æ˜¯ç›®å‰çš„ä¸»æµæµè§ˆå™¨</p></li><li><p>ä»£ç è¦ä¸‘é™‹ã€‚è®©äººè®°ä½è¿™æ˜¯ä¸€ä¸ªä¸å¾—å·²è€Œä¸ºä¹‹çš„ Hack, æ—¶åˆ»è®°ä½è¦æƒ³åŠæ³•å»æ‰å®ƒã€‚ç°åœ¨å¾ˆå¤šhackså·²ç»æŠ›å¼ƒäº†æœ€åˆçš„åŸåˆ™ï¼Œè€Œæ»¥ç”¨hackä¼šå¯¼è‡´æµè§ˆå™¨æ›´æ–°ä¹‹åäº§ç”Ÿæ›´å¤šçš„å…¼å®¹æ€§é—®é¢˜ã€‚å› æ­¤ï¼Œå¹¶ä¸æ¨èä½¿ç”¨CSS hackæ¥è§£å†³å…¼å®¹æ€§é—®é¢˜ã€‚<br><a name="b3b17a23"></a></p><h4 id="CSS-Hackæœ‰ä¸‰ç§å®ç°æ–¹å¼"><a href="#CSS-Hackæœ‰ä¸‰ç§å®ç°æ–¹å¼" class="headerlink" title="CSS Hackæœ‰ä¸‰ç§å®ç°æ–¹å¼"></a>CSS Hackæœ‰ä¸‰ç§å®ç°æ–¹å¼</h4><p>å®ƒä»¬åˆ†åˆ«æ˜¯ï¼šCSSå±æ€§å‰ç¼€æ³•ã€é€‰æ‹©å™¨å‰ç¼€æ³•ä»¥åŠIEæ¡ä»¶æ³¨é‡Šæ³•ï¼ˆå³HTMLå¤´éƒ¨å¼•ç”¨if IEï¼‰Hackï¼Œå®é™…é¡¹ç›®ä¸­CSS Hackå¤§éƒ¨åˆ†æ˜¯é’ˆå¯¹IEæµè§ˆå™¨ä¸åŒç‰ˆæœ¬ä¹‹é—´çš„è¡¨ç°å·®å¼‚è€Œå¼•å…¥çš„ã€‚æ‰€ä»¥è¯´ï¼ŒIEæ˜¯æ‰€æœ‰å‰ç«¯ç¨‹åºå‘˜çš„ç—›ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä»¥IE6å’ŒIE7ä¸ºä¾‹ï¼Œç®€å•ä»‹ç»ä¸‹è¿™ä¸‰ç±»CSS hackã€‚</p></li><li><p>CSSå±æ€§å‰ç¼€æ³•<br><br>IE6èƒ½è¯†åˆ«<em>å’Œ</em>ï¼Œ IE7èƒ½è¯†åˆ«_ï¼Œä¾‹å¦‚ä¸‹é¢ä»£ç ï¼š<br><br>é’ˆå¯¹IE6å’ŒIE7</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    *background: red;// IE6å’ŒIE7</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>é’ˆå¯¹IE6</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    _background: blue;// IE6</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒºåˆ†IE6å’ŒIE7ï¼ˆä¹Ÿå¯ä»¥ç”¨åé¢æåˆ°çš„<em>htmlå’Œ</em>+htmlåŒºåˆ†ï¼‰</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    _background: red;// IE6</span><br><span class="line">    background: blue !important;// IE7å·²ç»è¯†åˆ«!important</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>é€‰æ‹©å™¨å‰ç¼€æ³•<br><br>IE6è¯†åˆ«<em>htmlï¼ŒIE7è¯†åˆ«</em>+htmlï¼Œæ‰€ä»¥ä¸‹é¢ä»£ç </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*html div &#123;//IE6</span><br><span class="line">    <span class="selector-tag">background</span>: <span class="selector-tag">red</span></span><br><span class="line">&#125;</span><br><span class="line">*+html div &#123;//IE7</span><br><span class="line">    <span class="selector-tag">background</span>: <span class="selector-tag">blue</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>IEæ¡ä»¶æ³¨é‡Šæ³•</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="selector-tag">--</span><span class="selector-attr">[if IE]</span>&gt;</span><br><span class="line">åªåœ¨<span class="selector-tag">ie</span>ä¸‹ç”Ÿæ•ˆ</span><br><span class="line">&lt;!<span class="selector-attr">[endif]</span><span class="selector-tag">--</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;!<span class="selector-tag">--</span><span class="selector-attr">[if gte IE 6]</span>&gt;</span><br><span class="line">åªåœ¨<span class="selector-tag">IE6</span>ä»¥ä¸Š(åŒ…æ‹¬)ç‰ˆæœ¬<span class="selector-tag">IE</span>æµè§ˆå™¨æ˜¾ç¤º</span><br><span class="line">&lt;!<span class="selector-attr">[endif]</span><span class="selector-tag">--</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;!<span class="selector-tag">--</span><span class="selector-attr">[if !IE 8]</span>&gt;</span><br><span class="line">åªåœ¨é<span class="selector-tag">IE8</span>æµè§ˆå™¨æ˜¾ç¤º</span><br><span class="line">&lt;!<span class="selector-attr">[endif]</span><span class="selector-tag">--</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;!<span class="selector-tag">--</span><span class="selector-attr">[if !IE]</span>&gt;</span><br><span class="line">åªåœ¨é<span class="selector-tag">IE</span>æµè§ˆå™¨æ˜¾ç¤º</span><br><span class="line">&lt;!<span class="selector-attr">[endif]</span><span class="selector-tag">--</span>&gt;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯­é›€è‡ªåŠ¨éƒ¨ç½²hexo+GithubPagesåšå®¢</title>
      <link href="/2019/01/11/%E8%AF%AD%E9%9B%80%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hexo+GithubPages%E5%8D%9A%E5%AE%A2/"/>
      <url>/2019/01/11/%E8%AF%AD%E9%9B%80%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hexo+GithubPages%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<p><a name="8e1b944f"></a></p><h4 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h4><p>ç›¸ä¿¡å¾ˆå¤šäººè¢«hexo+github pageså®ç°çš„blogçš„å‘å¸ƒé—®é¢˜çƒ¦æ¼ï¼Œåœ¨ç¼–å†™å®Œæ–‡ç« ä¹‹åï¼Œ éœ€è¦æˆ‘ä»¬æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œ hexo å‘½ä»¤æ¥å‘å¸ƒæ–‡ç« ã€‚æ›´è®©äººå¤´ç–¼çš„æ˜¯è‹¥æ˜¯æƒ³æ’å…¥ä¸ªè¡¨æ ¼æˆ–è€…æ˜¯å›¾ç‰‡çš„è¯ï¼Œé‚£å¯è´¹äº†è€åŠ²äº†ï¼Œåˆ©ç”¨ markdown å†™è¡¨æ ¼çš„æ•ˆç‡ç€å®ä¸é«˜ï¼Œè€Œä¸”å¼•å…¥å›¾ç‰‡çš„è¯æ›´æ˜¯éº»çƒ¦ï¼Œéœ€è¦æ‰‹åŠ¨å¼•å…¥å›¾ç‰‡åˆ°åšå®¢é¡¹ç›®ï¼Œè€Œä¸”å¾ˆéš¾æ§åˆ¶å›¾ç‰‡çš„å¤§å°ã€‚ã€‚ã€‚é™¤å»è¿™äº›ä¸è¯´ï¼Œhexoå†™çš„æ–‡ç« è¿˜æ¯”è¾ƒå®¹æ˜“ä¸¢å¤±ï¼Œä¸€æ—¦ä¸å°å¿ƒæŠŠ hexo åˆ äº†ï¼Œæƒ³è¦æ¢å¤å°±å¾ˆéº»çƒ¦äº†ï¼Œä½†æ˜¯ä½¿ç”¨è¯­é›€è‡ªåŠ¨éƒ¨ç½²åšæ–‡å°±ä¸ç”¨æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ï¼Œå¤§ä¸äº†é‡æ–°åŒæ­¥ä¸€éå˜›ï¼Œå“ˆå“ˆå“ˆï¼</p><p>ä½†æ˜¯ä¸ä¹…å‰æ¥è§¦åˆ°äº†è¯­é›€ï¼Œå¹¶çœ‹åˆ°å¼€å‘è€…æ–‡æ¡£é‡Œæœ‰ä¸€äº›éå¸¸å¥½ç”¨çš„apiï¼Œæ›´æœ‰webhookçš„åŠŸèƒ½ï¼Œä¾¿æœ‰äº†åˆ©ç”¨è¯­é›€æ¥éƒ¨ç½²hexoæ­å»ºçš„blogçš„æƒ³æ³•ã€‚å¤§ä½“æ€è·¯å°±æ˜¯ï¼Œ<a id="more"></a> å½“æˆ‘ä»¬å‘å¸ƒæ›´æ–°æ–‡ç« æ—¶ä¼šå‡ºå‘webhook,ç„¶åæˆ‘ä»¬åœ¨è‡ªå·±æ­å»ºçš„æœåŠ¡é‡Œç›‘å¬è¿™ä¸ªpostè¯·æ±‚ï¼Œä¸€æ—¦ç›‘å¬åˆ°è¿™ä¸ªè¯·æ±‚è¯´æ˜æœ‰æ–‡ç« çš„å˜åŠ¨äº†ï¼Œè¿™æ—¶ï¼Œå†æ ¹æ®å¼€å‘è€…æ–‡æ¡£ä¸Šçš„apiæ‹‰å–å½“å‰çš„æ–‡ç« ä¿¡æ¯ï¼Œæ ¹æ®è¿™äº›ä¿¡æ¯ç”Ÿæˆmdæ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œâ€™hexo clean &amp;&amp; hexo d -gâ€™æ¥æ›´æ–°æˆ‘ä»¬çš„åšæ–‡åˆ°github pagesã€‚</p><p>æœ‰äº†æƒ³æ³•ï¼Œå½“ç„¶æ’¸èµ·è¢–å­åŠ æ²¹å¹²äº†ï¼Œåœ¨æµ‹è¯•å®Œwebhookåï¼Œæ¥ä¸‹æ¥å°±æ˜¯å†™ä»£ç è¯·æ±‚æ–‡ç« ä¿¡æ¯ç„¶ååˆ›å»ºæ–‡ä»¶äº†ï¼Œä½†æ˜¯æ‡’æƒ°çš„æˆ‘çœ‹åˆ°å·²ç»æœ‰äººå®ç°äº†ï¼Œå°±ç›´æ¥å€Ÿç”¨äººå®¶çš„å†™å¥½çš„ç”¨å¥½äº†ã€‚<a href="https://github.com/x-cold/yuque-hexo" target="_blank" rel="noopener">yuque-hexo</a></p><p>åºŸè¯å°‘è¯´ï¼Œä¸‹é¢å†™ä¸‹æˆ‘çš„å®ç°æ–¹å¼ã€‚<br><a name="38164c8b"></a></p><h4 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h4><p>é¦–å…ˆï¼Œ åœ¨ä½ çš„äº‘æœåŠ¡å™¨ä¸Šå®‰è£…hexo-cli , <code>npm install hexo-cli -g</code></p><p>ç„¶ååˆ›å»ºä¸€ä¸ªhexoé¡¹ç›®ï¼Œ <code>hexo init blog</code>      åˆ›å»ºå®Œé¡¹ç›®ä¹‹åï¼Œæ ¹æ®è‡ªå·±çš„å–œå¥½é…ç½®ä¸‹é¡¹ç›®çš„ä¸»é¢˜ï¼ŒåŠä½ è¦éƒ¨ç½²çš„github pagesåœ°å€ï¼ˆå»ºè®®å†™sshåœ°å€ï¼‰ï¼Œä¹‹åå°†ä½ çš„äº‘ä¸»æœºçš„sshå…¬é’¥é…ç½®åˆ°githubä¸Šï¼Œå®ç°å…å¯†å‘å¸ƒæ–‡ç« ï¼Œå…·ä½“é…ç½®æ–¹æ³•ä¸å†èµ˜è¿°ã€‚<br>æ³¨ï¼šåœ¨å°†äº‘ä¸»æœºå…¬é’¥é…ç½®åˆ°githubä¸Šåï¼Œåˆæ¬¡å‘å¸ƒæ–‡ç« éœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;John Doe&quot;</span><br><span class="line">$ git config --global user.email johndoe@example.com</span><br></pre></td></tr></table></figure><ul><li>åœ¨hexoé…ç½®æ–‡ä»¶_config.ymlé‡Œé…ç½®éƒ¨ç½²ä»“åº“åœ°å€</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1547211877764-a0e8d795-9be3-4ec8-b751-ef4592031314.png#align=left&display=inline&height=118&name=image.png&originHeight=236&originWidth=1488&size=28109&status=done&width=744" alt="image.png"><br>æ¥ä¸‹æ¥ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºpackage.jsonåŠdeploy.jsæ–‡ä»¶, æ ¹æ®æˆ‘çš„package.jsonå’Œdeploy.jsæ¥ç¼–å†™åˆšæ‰åˆ›å»ºçš„ä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚package.jsonæ–‡ä»¶éœ€è¦æ³¨æ„å°†loginå†™ä¸ºä½ çš„loginï¼Œrepoæ”¹ä¸ºä½ çš„ä»“åº“çš„id(æ³¨æ„ä¸èƒ½æ˜¯ä»“åº“åï¼Œéœ€è¦id)ã€‚deploy.jså†…å®¹å¯ä»¥å’Œæˆ‘çš„å®Œå…¨ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ä¿®æ”¹ä¸‹ç«¯å£ï¼ˆæ³¨æ„ä¸»æœºçš„é˜²ç«å¢™è§„åˆ™å¼€å¯è¿™ä¸ªç«¯å£å“¦ï¼‰ã€‚</p><ul><li>package.json</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"hexo-site"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.0.0"</span>,</span><br><span class="line">  <span class="attr">"private"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"hexo"</span>: &#123;</span><br><span class="line">    <span class="attr">"version"</span>: <span class="string">"3.8.0"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"deploy"</span>: <span class="string">"npm run remove &amp;&amp; npm run sync &amp;&amp; hexo clean &amp;&amp; hexo d -g"</span>,</span><br><span class="line">    <span class="attr">"sync"</span>: <span class="string">"DEBUG=yuque-hexo.* yuque-hexo sync"</span>,</span><br><span class="line">    <span class="attr">"clean:yuque"</span>: <span class="string">"DEBUG=yuque-hexo.* yuque-hexo clean"</span>,</span><br><span class="line">    <span class="attr">"reset"</span>: <span class="string">"npm run clean:yuque &amp;&amp; npm run sync"</span>,</span><br><span class="line">    <span class="attr">"remove"</span>: <span class="string">"rm -rf source/_posts/"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"yuqueConfig"</span>: &#123;</span><br><span class="line">    <span class="attr">"baseUrl"</span>: <span class="string">"https://www.yuque.com/api/v2"</span>,</span><br><span class="line">    <span class="attr">"login"</span>: <span class="string">"xxxx"</span>,</span><br><span class="line">    <span class="attr">"repo"</span>: <span class="string">"grgc1v"</span>,</span><br><span class="line">    <span class="attr">"mdNameFormat"</span>: <span class="string">"title"</span>,</span><br><span class="line">    <span class="attr">"postPath"</span>: <span class="string">"source/_posts/"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"hexo"</span>: <span class="string">"^3.7.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-deployer-git"</span>: <span class="string">"^1.0.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-archive"</span>: <span class="string">"^0.1.5"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-category"</span>: <span class="string">"^0.1.3"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-index"</span>: <span class="string">"^0.2.1"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-tag"</span>: <span class="string">"^0.2.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-renderer-ejs"</span>: <span class="string">"^0.3.1"</span>,</span><br><span class="line">    <span class="attr">"hexo-renderer-marked"</span>: <span class="string">"^0.3.2"</span>,</span><br><span class="line">    <span class="attr">"hexo-renderer-stylus"</span>: <span class="string">"^0.3.3"</span>,</span><br><span class="line">    <span class="attr">"hexo-server"</span>: <span class="string">"^0.3.1"</span>,</span><br><span class="line">    <span class="attr">"koa"</span>: <span class="string">"^2.6.2"</span>,</span><br><span class="line">    <span class="attr">"koa-bodyparser"</span>: <span class="string">"^3.2.0"</span>,</span><br><span class="line">    <span class="attr">"koa-router"</span>: <span class="string">"^7.4.0"</span>,</span><br><span class="line">    <span class="attr">"yuque-hexo"</span>: <span class="string">"^1.3.1"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>deploy.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> koa = <span class="built_in">require</span>(<span class="string">'koa'</span>);</span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">'koa-bodyparser'</span>);</span><br><span class="line"><span class="keyword">const</span> Router = <span class="built_in">require</span>(<span class="string">'koa-router'</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> koa();</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> Router();</span><br><span class="line"><span class="keyword">const</span> process = <span class="built_in">require</span>(<span class="string">'child_process'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// route</span></span><br><span class="line">router.post(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">ctx</span>) </span>&#123;</span><br><span class="line">  process.spawn(<span class="regexp">/^win/</span>.test(process.platform) ? <span class="string">'npm.cmd'</span> : <span class="string">'npm'</span>, [<span class="string">'run'</span>,  <span class="string">'deploy'</span>]);</span><br><span class="line">  ctx.body = <span class="string">'update success'</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.use(bodyParser());</span><br><span class="line">app</span><br><span class="line">  .use(router.routes())</span><br><span class="line">  .use(router.allowedMethods());</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3001</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'[server] deploy server starting at 3001'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ<code>npm install</code>å®‰è£…ä¾èµ–é¡¹ã€‚é€šè¿‡deploy.jsç›‘å¬çš„ç«¯å£åŠä½ çš„äº‘ä¸»æœºçš„ipæ¥æ¥ç¡®å®šæœåŠ¡åœ°å€ï¼Œåœ¨è¯­é›€çš„çŸ¥è¯†åº“è®¾ç½®ä¸­è®¾ç½®webhookåœ°å€ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1547202962939-9d21ccba-af18-4fb2-bdc3-59b748ae0e2b.png#align=left&display=inline&height=634&name=image.png&originHeight=1268&originWidth=2410&size=200639&status=done&width=1205" alt="image.png"></p><p>è¿˜éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯éœ€è¦åœ¨é«˜çº§è®¾ç½®ä¸­å°†ä½ çš„ä»“åº“è®¾ç½®ä¸ºå…¬å¼€æƒé™ã€‚<br><br><img src="https://cdn.nlark.com/yuque/0/2019/png/242991/1552619550749-e246e575-d465-49bf-9012-8c0f4430d308.png#align=left&display=inline&height=287&name=image.png&originHeight=573&originWidth=990&size=47931&status=done&width=495" alt="image.png"><br>å®Œæˆè¿™äº›ä¹‹ååŸºæœ¬å¤§åŠŸå‘Šæˆäº†ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬æµ‹è¯•ä¸‹ã€‚</p><p>åœ¨äº‘ä¸»æœºçš„é¡¹ç›®æ ¹ç›®å½•å®ç°æˆ‘ä»¬çš„deploy.js, <code>pm2 start deploy</code>, æ²¡å®‰è£…pm2å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install pm2 -g</span><br></pre></td></tr></table></figure><p>ä¹‹åå»ä½ çš„ä»“åº“ä¸‹æ–°å»ºä¸ªæ–‡ç« å‘å¸ƒä¸‹æ£€æµ‹ä¸‹æ˜¯å¦åŒæ­¥æ›´æ–°çš„ä½ çš„github pageså§ï¼<br>å¦‚æœæµ‹è¯•åå‘ç°æ²¡æœ‰å®ç°è‡ªåŠ¨éƒ¨ç½²ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹é”™è¯¯åŸå› ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run deploy</span><br></pre></td></tr></table></figure><p>ä¸‹é¢é™„ä¸Šæˆ‘çš„ã€<a href="https://github.com/sunnyBob/yuque-hexo-config.git" target="_blank" rel="noopener">é…ç½®</a>ã€‘<br><a name="f130d11f"></a></p><h4 id="å›¾ç‰‡å¤§å°é—®é¢˜"><a href="#å›¾ç‰‡å¤§å°é—®é¢˜" class="headerlink" title="å›¾ç‰‡å¤§å°é—®é¢˜"></a>å›¾ç‰‡å¤§å°é—®é¢˜</h4><p>åœ¨è¯­é›€æ’å…¥çš„å›¾ç‰‡ï¼Œæ›´æ–°åˆ°æˆ‘ä»¬çš„ blog åï¼Œä¼šå‘ç°æ˜¾ç¤ºçš„å›¾ç‰‡å¤§å°å’Œæ’å…¥æ—¶ä¸ä¸€æ ·ï¼Œè¿™æ˜¯å› ä¸º blog é‡Œçš„å›¾ç‰‡æ˜¯æŒ‰ç…§åŸå§‹å¤§å°æ˜¾ç¤ºçš„ï¼Œè§‚å¯Ÿå›¾ç‰‡è·¯å¾„ï¼Œä¼šå‘ç°å…¶ä¸­åŒ…å«äº†å›¾ç‰‡çš„å½“å‰å¤§å°ä»¥åŠåŸå§‹å¤§å°ä¿¡æ¯ï¼Œç±»ä¼¼è¿™ä¸ª</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://cdn.nlark.com/yuque/0/2019/png/242991/1554799009812-0da6e023-b092-4172-a55d-bd247c79a133.png#align=left&amp;display=inline&amp;height=217&amp;name=image.png&amp;originHeight=678&amp;originWidth=678&amp;size=18409&amp;status=done&amp;width=217</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å¯ä»¥è‡ªå·±å†™ jsï¼Œä½¿ç”¨æ­£åˆ™æŠŠå¤§å°ä¿¡æ¯å–å‡ºæ¥ï¼Œå¹¶è®¾ç½®åˆ°å›¾ç‰‡ä¸Šï¼Œå…·ä½“ js ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> images = <span class="built_in">document</span>.querySelectorAll(<span class="string">'img'</span>);</span><br><span class="line">images.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">image</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> src = image.getAttribute(<span class="string">'src'</span>);</span><br><span class="line">  <span class="keyword">var</span> regex = <span class="regexp">/width=([0-9]+)|height=([0-9]+)/g</span>;</span><br><span class="line">  <span class="keyword">var</span> size = src.match(regex);</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.call(size) === <span class="string">'[object Array]'</span> &amp;&amp; size.length) &#123;</span><br><span class="line">    size.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> arr = item.split(<span class="string">'='</span>);</span><br><span class="line">      image.setAttribute(arr[<span class="number">0</span>], arr[<span class="number">1</span>]);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å°†è¿™æ®µä»£ç è´´åˆ°é¡µé¢æœ€åçš„ script æ ‡ç­¾é‡Œï¼Œä¼šå‘ç°ç…§ç‰‡å¤§å°å’Œæˆ‘ä»¬æ‰€æœŸæœ›çš„ä¸€æ ·äº†ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> æŠ€æœ¯åšæ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
